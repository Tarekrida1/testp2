!function(e){var t,i,n;e.$_Tawk_AccountKey="5ed454a08ee2956d73a6531c",e.$_Tawk_WidgetId="default",e.$_Tawk_Unstable=!1,e.$_Tawk=e.$_Tawk||{},function(e){e.$_Tawk.widgetSettings={t:"inline",h:330,w:280,minh:60,minw:126,pos:"br",woc:"max",dsw:!1,lc:"ar",hwol:!1,hwof:!1,hab:!1,dws:!1,hwt:!0,thm:{hbg:"#6371fc",htx:"#ffffff",topc:5,btmc:0,aBblBg:"#29c0ff",aBblTx:"#ffffff",vBblBg:"#e5e5e5",vBblTx:"#333333"},bbl:{name:"168",type:"gallery",txt:"gallery",bgc:"#7fb06f",fgc:"#ffffff",width:124,height:79,zIndex:1,rightOffset:0,bottomOffset:30,topOffset:0,leftOffset:0,rotate:0},mw:"round",dw:"min",wv:28,ws:null,offlineForm:{shortMessage:"ØºÙŠØ± Ù…ØªØµÙ„",text:"ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø£Ø¯Ù†Ø§Ù‡ ÙˆØ³ÙˆÙ Ù†Ù‚ÙˆÙ… Ø¨Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ ÙÙŠ Ø£Ù‚Ø±Ø¨ ÙØ±ØµØ© Ù…Ù…ÙƒÙ†Ø©.",fields:[{label:"Ø§Ù„Ø¥Ø³Ù…",isRequired:!0,type:"name"},{label:"Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø§Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",isRequired:!0,type:"email"},{label:"Ø±Ø³Ø§Ù„Ø©",isRequired:!0,type:"message"}]},prechatForm:null,onlineGreeting:{actionMessage:"اكتب رد..",shortMessage:"متصل الأن",longMessage:"انا متصل  وعلى إستعداد لخدمتك الآن. إبدأ بالكتابة لبدء محادثة مباشرة."},awayGreeting:{shortMessage:"Ø¨Ø§Ù„Ø®Ø§Ø±Ø¬",longMessage:""},cf:null,emoji:!0,uploads:!0,rating:!0,mprvw:!0,atyping:!0,vtyping:!0,tbi:!0}}(e),t=void 0===e?window:e,(i={pluralFormFunction:function(e){var t=e%100;return 0===e?"zero":1===e?"one":2===e?"two":3<=t&&10>=t?"few":11<=t&&99>=t?"many":"other"}}).chat=i.chat||{},i.chat.AGENT_JOIN_CONVERSATION={message:"#n إنضم إلى المحادثة",vars:["n"]},i.chat.AGENT_LEFT_CONVERSATION={message:"#n غادر المحادثة",vars:["n"]},i.chat.Warning={message:"تحذير"},i.chat.accept_call={message:"قبول"},i.chat.agent_ringing={message:"مكالمة واردة"},i.chat.call_end_details={message:"بدأ في #startedOn واستمر #duration",vars:["startedOn","duration"]},i.chat.call_error_load={message:"غير قادر على تحميل تفاصيل المكالمة."},i.chat.call_started_on={message:"بدأت في #startedOn",vars:["startedOn"]},i.chat.chatEnded={message:"انتهت المحادثة"},i.chat.chat_qm={message:"دردشة؟"},i.chat.chat_text={message:"تحدث معنا"},i.chat.completed_call={message:"انتهت المكالمة"},i.chat.decline_call={message:"انخفاض"},i.chat.defaultName={message:"أنت (تغيير الإسم)"},i.chat.departmentIsAway={message:"قسم #strongStart #departmentName #strongEnd غير متاح حاليا.",vars:["departmentName","strongStart","strongEnd"]},i.chat.departmentIsOffline={message:"قسم #strongStart #departmentName #strongEnd غير متصل حاليا. سيتم تحويلك الي قسم آخر.",vars:["departmentName","strongStart","strongEnd"]},i.chat.dislike={message:"لم تعجبني هذه المحادثة"},i.chat.download={message:"تنزيل"},i.chat.downloadFile={message:"تحميل الملف"},i.chat.dragDropText={message:"إسحب الملفات هنا لرفعها"},i.chat.emoji_error_load={message:"غير قادر على تحميل emojis"},i.chat.error_title={message:"خطأ"},i.chat.failed={message:"تم الفشل"},i.chat.generalUploadError={message:'"#fileName" ، يرجي المحاولة مرة أخرى.',vars:["fileName"]},i.chat.generalUploadErrorLabel={message:"تعذر تحميل الملف"},i.chat.hideButton={message:"إخفاء المحادثة"},i.chat.incoming_call_message={message:"مكالمة واردة من #name",vars:["name"]},i.chat.insert_emoji={message:"إدراج رمز تعبيري"},i.chat.justNow={message:"في هذة اللحظة"},i.chat.like={message:"لقد أعجبتني هذه المحادثة"},i.chat.limit2={message:"حجم الملف يجب ان يكون اصغر من 2 ميغابايت، يرجى رفع ملف أصغر حجما."},i.chat.limit50={message:"حجم الملف يجب ان يكون اصغر من 50 ميغابايت، يرجى رفع ملف أصغر حجما."},i.chat.live_chat={message:"المحادثة المباشرة"},i.chat.mail_text={message:"صندوق البريد"},i.chat.messageQueuedTitile={message:"الرسالة في قائمة الانتظار"},i.chat.message_not_delivered={message:"عدم تسليم الرسالة، انقر هنا لإعادة إرسال."},i.chat.message_too_long={message:"رسالة لا تتجاوز 5000 حرف"},i.chat.missed_agent={message:"فُوتت مكالمتك"},i.chat.missed_visitor={message:"فَوتّ مكالمتك"},i.chat.missed_visitor_messagePreview={message:"لقد فاتتك مكالمة من"},i.chat.mobileName={message:"أنت"},i.chat.newChat={message:"بدء محادثة جديدة"},i.chat.newMessages={message:"رسائل جديدة"},i.chat.notificationTitle={message:"تنبيه"},i.chat.ongoing_call={message:"مكالمة جارية"},i.chat.pasted_image_title={message:"الصورة الذي تم لصقه في #dateTime",vars:["dateTime"]},i.chat.profile_prechat_text={message:"يرجى ملء النموذج التالي لبدء المحادثة."},i.chat.rejected_call={message:"رفضت هذه المكالمة"},i.chat.remove_rate={message:"قمت بإزالة تقييمك لهذه المحادثة"},i.chat.resend={message:"إعادة الإرسال"},i.chat.retry={message:"إعادة المحاولة."},i.chat.sayButton={message:"يقول"},i.chat.say_something={message:"أكتب رد.."},i.chat.screen_share_error={message:"اسم المستخدم هذا غير متاح."},i.chat.send_mail={message:"إرسال بريد إلكتروني"},i.chat.tryAgain={message:"حاول مجدداً."},i.chat.uploading={message:"جاري التحميل..."},i.chat.video_call_error={message:"عنوان بريد إلكتروني غير متاح."},i.chat.visitor_name={message:"اسم الزائر"},i.chat.visitor_ringing={message:"اتصال..."},i.chat.voice_call_error={message:"عنوان بريد إلكتروني غير متاح."},i.chat.we_are_live={message:"نحن متصلون وعلى إستعداد لخدمتك الآن. إبدأ بالكتابة لبدء محادثة مباشرة."},i.days=i.days||{},i.days[0]={message:"الأحد"},i.days[1]={message:"الإثنين"},i.days[2]={message:"الثلاثاء"},i.days[3]={message:"الأربعاء"},i.days[4]={message:"الخميس"},i.days[5]={message:"الجمعة"},i.days[6]={message:"السبت"},i.form=i.form||{},i.form.CancelButton={message:"إلغاء"},i.form.ChangeUsername={message:"تغيير اسم المستخدم"},i.form.CloseButton={message:"إغلاق"},i.form.DepartmentsErrorMessage={message:"إختيار القسم إلزامي."},i.form.DepartmentsPlaceholder={message:"إختر قسماً.."},i.form.EmailErrorMessage={message:"عنوان البريد إلكتروني غير صحيح."},i.form.EmailPlaceholder={message:"عنوان البريد الإلكتروني"},i.form.EmailTranscriptFormMessage={message:"يرجى تعبئة النموذج أدناه حتى نتمكن من إرسال هذه المحادثة إلى بريدك الإلكتروني."},i.form.EmailTranscriptTo={message:"أرسل نص المحادثة إلى"},i.form.EndChatMessage={message:"شكرا للدردشة معنا. لا تتردد في بدء جلسة دردشة جديدة أو إدخال بريدك الإلكتروني و إرسال نسخة من هذه المحادثة إلى البريد الوارد."},i.form.EndChatTitle={message:"‏‏هل تريد بالتأكيد إنهاء هذه المحادثة؟"},i.form.EndingProcess={message:"جاري الانتهاء"},i.form.HelloAndWelcome={message:"أهلاً و مرحباً"},i.form.MessageErrorMessage={message:"ادخال الرسالة الزامي ويجب ان لا يزيد طولها عن 500 حرف."},i.form.MessagePlaceholder={message:"الرسالة الخاصة بك.."},i.form.NameErrorMessage={message:"يجب إدخال الإسم."},i.form.NameFormMessage={message:"الرجاء ادخال اسمك ليتسنى لنا التعرف عليك في زيارتك القادمة."},i.form.OfflineFormMessage={message:"يرجى تعبئة النموذج أدناه وسوف نقوم بالتواصل معك في أقرب فرصة ممكنة."},i.form.OfflineMessageNotSent={message:"لم يتم تسليم الرسالة الخاصة بك، الرجاء إعادة المحاولة"},i.form.OfflineMessageSent={message:"تم إرسال رسالتك بنجاح!"},i.form.PhoneErrorMessage={message:"رقم الهاتف غير صحيح"},i.form.PreChatFormMessage={message:"يرجى تعبئة النموذج أدناه لتبدء المحادثة مع أول وكيل متاح."},i.form.PreChatFormMessageProfile={message:"يرجى تعبئة النموذج أدناه لتبدء بالتحدث معي."},i.form.QuestionErrorMessage={message:"ادخال الرسالة الزامي ويجب ان لا يزيد طولها عن 500 حرف."},i.form.QuestionPlaceholder={message:"الإستفسار.."},i.form.RequiredErrorMessage={message:"هذا الحقل مطلوب"},i.form.SaveButton={message:"حفظ"},i.form.SavingProcess={message:"جاري الحفظ"},i.form.SendButton={message:"إرسال"},i.form.SendMessage={message:"إرسال رسالة"},i.form.SendingProcess={message:"جاري الإرسال"},i.form.StartChatButton={message:"بدء محادثة جديدة"},i.form.SubmitButton={message:"إرسال"},i.form.SubmittedFrom={message:"المقدم من"},i.form.SubmittingProcess={message:"جاري الإرسال"},i.form.TranscriptMessage={message:"لا تتردد في إدخال بريدك الإلكتروني و إرسال نسخة من هذه المحادثة إلى البريد الوارد."},i.form.any={message:"أي"},i.form.chatEnded={message:"انتهت محادثتك"},i.form.department={message:"القسم"},i.form.email={message:"البريد الالكتروني"},i.form.errorSaving={message:"فشلت عملية الحفظ. يرجي المحاولة مرة أخرى"},i.form.message={message:"رسالة"},i.form.name={message:"الإسم"},i.form.phone={message:"رقم الهاتف"},i.form.question={message:"سؤال"},i.form.saved={message:"تم الحفظ"},i.form.saving={message:"جاري الحفظ.."},i.form.sendAgain={message:"إرسال بريد إلكتروني"},i.form.skip={message:"تخطي"},i.form.visitButton={message:"قم بزيارة tawk.to"},i.menu=i.menu||{},i.menu.change_name={message:"تغيير الإسم"},i.menu.email_transcript={message:"نص البريد الإلكتروني"},i.menu.end_chat_session={message:"إنهاء جلسة الدردشة هذه"},i.menu.popout_widget={message:"الواجهة الرسومية المنبثقة"},i.menu.sound_off={message:"كتم الصوت"},i.menu.sound_on={message:"تشغيل الصوت"},i.months=i.months||{},i.months[0]={message:"يناير"},i.months[1]={message:"فبراير"},i.months[10]={message:"نوفمبر"},i.months[11]={message:"ديسمبر"},i.months[2]={message:"مارس"},i.months[3]={message:"أبريل"},i.months[4]={message:"مايو"},i.months[5]={message:"يونيو"},i.months[6]={message:"يوليو"},i.months[7]={message:"أغسطس"},i.months[8]={message:"سبتمبر"},i.months[9]={message:"أكتوبر"},i.notifications=i.notifications||{},i.notifications.maximum_file_upload_warning={message:"عذراً، نقل الملفات يقتصر على ملفات #limitFileNumber في وقت واحد. الرجاء المحاولة مرة أخرى في الملف (الملفات) التالية:",vars:["limitFileNumber"]},i.notifications.maximum_size_upload_warning={message:"عذراً، نقل الملفات ويقتصر على #limitFileSize ملفات في وقت واحد. الرجاء المحاولة مرة أخرى في الملف (الملفات) التالية.",vars:["limitFileSize"]},i.notifications.retry={message:"إعادة المحاولة"},i.overlay=i.overlay||{},i.overlay.cookiesOff={message:"لا يمكنك استخدام هذه المحادثة لأنه تم إيقاف تشغيل وظيفة الكوكيز في المتصفح الخاص بك. الرجاء قم بتشغيلها وقم بتحديث الصفحة."},i.overlay.inactive={message:"انقر هنا لاستئناف المحادثة"},i.overlay.maintenance={message:"خدمة المحادثة تحت الصيانة"},i.overlay.tawkContent={message:"هذه الخدمة بواسطة tawk.to - نظام رسائل فورية مجانية"},i.rollover=i.rollover||{},i.rollover.chatMenu={message:"القائمة"},i.rollover.emailTranscriptOption={message:"أرسل النص بالبريد الإلكتروني"},i.rollover.end={message:"إنهاء المحادثة"},i.rollover.knowledgeBase={message:"قاعدة المعرفة"},i.rollover.maximize={message:"تكبير"},i.rollover.minimize={message:"تصغير"},i.rollover.negativeRating={message:"قييم هذه المحادثة: -1"},i.rollover.popOut={message:"فتح في إطار جديد"},i.rollover.positiveRating={message:"قييم هذه المحادثة: +1"},i.rollover.resendMessage={message:"اعادة الاسال"},i.rollover.resize={message:"إعادة تحجيم"},i.rollover.screenShare={message:"مشاركة الشاشة"},i.rollover.uploadFile={message:"أرسل ملفاً"},i.rollover.videoCall={message:"لعبة فيديو"},i.rollover.voiceCall={message:"لعبة فيديو"},i.status=i.status||{},i.status.away={message:"بالخارج"},i.status.offline={message:"غير متصل"},i.status.online={message:"متصل"},i.transcript=i.transcript||{},i.transcript.CONVERSATION_STARTED_ON={message:"بدأت المحادثة في"},i.transcript.me={message:"أنا"},i.transcript.transcriptStartedOn={message:"#dateString، في #time",vars:["dateString","time"]},i.transcript.transcriptSubject={message:"نسخة النص المرسلة الى البريد الإلكتروني على #host بدأت في #startedOn",vars:["host","startedOn"]},i.chat=i.chat||{},i.chat.hours={pluralVars:["num"],message:{zero:"#num ساعة",one:"#num ساعة",two:"#num ساعة",few:"#num ساعات",many:"#num ساعة",other:"#num ساعة"}},i.chat.messageQueuedText={pluralVars:["t"],message:{zero:"وقت الانتظار حوالي #strongStart #t دقیقه #strongEnd",one:"وقت الانتظار حوالي #strongStart #t دقیقه #strongEnd",two:"وقت الانتظار حوالي #strongStart #t دقيقتان #strongEnd",few:"وقت الانتظار حوالي #strongStart #t دقائق #strongEnd",many:"وقت الانتظار حوالي #strongStart #t دقیقه #strongEnd",other:"وقت الانتظار حوالي #strongStart #t دقیقه #strongEnd"},vars:["strongStart","strongEnd"]},i.chat.minutes={pluralVars:["num"],message:{zero:"#num دقيقة",one:"#num دقيقة",two:"#num دقيقة",few:"#num دقائق",many:"#num دقيقة",other:"#num دقيقة"}},i.chat.newMessage={pluralVars:["num"],message:{zero:"#num رسالة جديدة",one:"#num رسالة جديدة",two:"#num رسالة جديدة",few:"#num رسائل جديدة",many:"#num رسالة جديدة",other:"#num رسالة جديدة"}},i.chat.seconds={pluralVars:["num"],message:{zero:"#num ثانية",one:"#num ثانية",two:"#num ثانية",few:"#num ثواني",many:"#num ثانية",other:"#num ثانية"}},t.$_Tawk.language=i,t.$_Tawk.languageUpdater&&t.$_Tawk.languageUpdater(),"undefined"!=typeof window?n=window:void 0!==e?n=e:"undefined"!=typeof self&&(n=self),n.$__TawkEngine=function e(t,i,n){function a(r,s){if(!i[r]){if(!t[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(o)return o(r,!0);throw Error("Cannot find module '"+r+"'")}l=i[r]={exports:{}},t[r][0].call(l.exports,function(e){var i=t[r][1][e];return a(i||e)},l,l.exports,e,t,i,n)}return i[r].exports}for(var o="function"==typeof require&&require,r=0;r<n.length;r++)a(n[r]);return a}({debug:[function(e,t,i){t.exports=e("n9i2g6")},{}],n9i2g6:[function(e,t,i){t.exports=function(){return function(){}}},{}],3:[function(e,t,i){function n(){}t.exports=function(e,t,i){function a(e,n){if(0>=a.count)throw Error("after called too many times");--a.count,e?(o=!0,t(e),t=i):0!==a.count||o||t(null,n)}var o=!1;return i=i||n,a.count=e,0===e?t():a}},{}],4:[function(e,t,i){t.exports=function(e,t,i){var n=e.byteLength;if(t=t||0,i=i||n,e.slice)return e.slice(t,i);if(0>t&&(t+=n),0>i&&(i+=n),i>n&&(i=n),t>=n||t>=i||0===n)return new ArrayBuffer(0);e=new Uint8Array(e);for(var n=new Uint8Array(i-t),a=0;t<i;t++,a++)n[a]=e[t];return n.buffer}},{}],5:[function(e,t,i){var n;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i.encode=function(e){var t,i=(e=new Uint8Array(e)).length,a="";for(t=0;t<i;t+=3)a+=n[e[t]>>2],a+=n[(3&e[t])<<4|e[t+1]>>4],a+=n[(15&e[t+1])<<2|e[t+2]>>6],a+=n[63&e[t+2]];return 2==i%3?a=a.substring(0,a.length-1)+"=":1==i%3&&(a=a.substring(0,a.length-2)+"=="),a},i.decode=function(e){var t,i,a,o,r=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(r--,"="===e[e.length-2]&&r--);for(var c=new ArrayBuffer(r),d=new Uint8Array(c),r=0;r<s;r+=4)t=n.indexOf(e[r]),i=n.indexOf(e[r+1]),a=n.indexOf(e[r+2]),o=n.indexOf(e[r+3]),d[l++]=t<<2|i>>4,d[l++]=(15&i)<<4|a>>2,d[l++]=(3&a)<<6|63&o;return c}},{}],6:[function(e,t,i){(function(e){function i(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.buffer instanceof ArrayBuffer){var n=i.buffer;if(i.byteLength!==n.byteLength){var a=new Uint8Array(i.byteLength);a.set(new Uint8Array(n,i.byteOffset,i.byteLength)),n=a.buffer}e[t]=n}}}var n,a,o=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder;try{n=2===new Blob(["hi"]).size}catch(e){n=!1}if(a=n)try{a=2===new Blob([new Uint8Array([1,2])]).size}catch(e){a=!1}var r=o&&o.prototype.append&&o.prototype.getBlob;e=n?a?e.Blob:function(e,t){return i(e),new Blob(e,t||{})}:r?function(e,t){t=t||{};var n=new o;i(e);for(var a=0;a<e.length;a++)n.append(e[a]);return t.type?n.getBlob(t.type):n.getBlob()}:void 0,t.exports=e}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,i){},{}],8:[function(e,t,i){function n(e){if(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function i(){n.off(e,i),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},i.fn=t,this.on(e,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[e];if(!i)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var n,a=0;a<i.length;a++)if((n=i[a])===t||n.fn===t){i.splice(a,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks[e];if(i)for(var i=i.slice(0),n=0,a=i.length;n<a;++n)i[n].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],9:[function(e,t,i){t.exports=function(e,t){var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},{}],10:[function(e,t,i){t.exports=e("./lib/")},{"./lib/":11}],11:[function(e,t,i){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":12,"engine.io-parser":20}],12:[function(e,t,i){(function(i){function n(e,t){if(!(this instanceof n))return new n(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=c(e),t.hostname=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=c(t.host).host),this.secure=null!=t.secure?t.secure:i.location&&"https:"==location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(i.location?location.hostname:"localhost"),this.port=t.port||(i.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=p.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized;var a="object"==typeof i&&i;a.global===a&&t.extraHeaders&&0<Object.keys(t.extraHeaders).length&&(this.extraHeaders=t.extraHeaders),this.open()}var a=e("./transports"),o=e("component-emitter"),r=e("debug")("engine.io-client:socket"),s=e("indexof"),l=e("engine.io-parser"),c=e("parseuri"),d=e("parsejson"),p=e("parseqs");t.exports=n,n.priorWebsocketSuccess=!1,o(n.prototype),n.protocol=l.protocol,n.Socket=n,n.Transport=e("./transport"),n.transports=e("./transports"),n.parser=e("engine.io-parser"),n.prototype.createTransport=function(e){r('creating transport "%s"',e);var t,i=this.query,n={};for(t in i)i.hasOwnProperty(t)&&(n[t]=i[t]);return n.EIO=l.protocol,n.transport=e,this.id&&(n.sid=this.id),new a[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:n,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders})},n.prototype.open=function(){var e;if(this.rememberUpgrade&&n.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},n.prototype.setTransport=function(e){r("setting transport %s",e.name);var t=this;this.transport&&(r("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},n.prototype.probe=function(e){function t(){if(h.onlyBinaryUpgrades){var t=!this.supportsBinary&&h.transport.supportsBinary;p=p||t}p||(r('probe transport "%s" opened',e),d.send([{type:"ping",data:"probe"}]),d.once("packet",function(t){p||("pong"==t.type&&"probe"==t.data?(r('probe transport "%s" pong',e),h.upgrading=!0,h.emit("upgrading",d),d&&(n.priorWebsocketSuccess="websocket"==d.name,r('pausing current transport "%s"',h.transport.name),h.transport.pause(function(){p||"closed"==h.readyState||(r("changing transport and sending upgrade packet"),c(),h.setTransport(d),d.send([{type:"upgrade"}]),h.emit("upgrade",d),d=null,h.upgrading=!1,h.flush())}))):(r('probe transport "%s" failed',e),(t=Error("probe error")).transport=d.name,h.emit("upgradeError",t)))}))}function i(){p||(p=!0,c(),d.close(),d=null)}function a(t){var n=Error("probe error: "+t);n.transport=d.name,i(),r('probe transport "%s" failed because of error: %s',e,t),h.emit("upgradeError",n)}function o(){a("transport closed")}function s(){a("socket closed")}function l(e){d&&e.name!=d.name&&(r('"%s" works - aborting "%s"',e.name,d.name),i())}function c(){d.removeListener("open",t),d.removeListener("error",a),d.removeListener("close",o),h.removeListener("close",s),h.removeListener("upgrading",l)}r('probing transport "%s"',e);var d=this.createTransport(e,{probe:1}),p=!1,h=this;n.priorWebsocketSuccess=!1,d.once("open",t),d.once("error",a),d.once("close",o),this.once("close",s),this.once("upgrading",l),d.open()},n.prototype.onOpen=function(){if(r("socket open"),this.readyState="open",n.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){r("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},n.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(r('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(d(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else r('packet received with socket readyState "%s"',this.readyState)},n.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},n.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},n.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){r("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},n.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},n.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},n.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(r("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},n.prototype.write=n.prototype.send=function(e,t,i){return this.sendPacket("message",e,t,i),this},n.prototype.sendPacket=function(e,t,i,n){"function"==typeof t&&(n=t,t=void 0),"function"==typeof i&&(n=i,i=null),"closing"!=this.readyState&&"closed"!=this.readyState&&((i=i||{}).compress=!1!==i.compress,e={type:e,data:t,options:i},this.emit("packetCreate",e),this.writeBuffer.push(e),n&&this.once("flush",n),this.flush())},n.prototype.close=function(){function e(){n.onClose("forced close"),r("socket closing - telling transport to close"),n.transport.close()}function t(){n.removeListener("upgrade",t),n.removeListener("upgradeError",t),e()}function i(){n.once("upgrade",t),n.once("upgradeError",t)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var n=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():e()}):this.upgrading?i():e()}return this},n.prototype.onError=function(e){r("socket error %j",e),n.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},n.prototype.onClose=function(e,t){"opening"!=this.readyState&&"open"!=this.readyState&&"closing"!=this.readyState||(r('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)},n.prototype.filterUpgrades=function(e){for(var t=[],i=0,n=e.length;i<n;i++)~s(this.transports,e[i])&&t.push(e[i]);return t}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":13,"./transports":14,"component-emitter":8,debug:"n9i2g6","engine.io-parser":20,indexof:24,parsejson:26,parseqs:27,parseuri:28}],13:[function(e,t,i){function n(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders}var a=e("engine.io-parser");e=e("component-emitter"),t.exports=n,e(n.prototype),n.prototype.onError=function(e,t){var i=Error(e);return i.type="TransportError",i.description=t,this.emit("error",i),this},n.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},n.prototype.send=function(e){if("open"!=this.readyState)throw Error("Transport not open");this.write(e)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(e){e=a.decodePacket(e,this.socket.binaryType),this.onPacket(e)},n.prototype.onPacket=function(e){this.emit("packet",e)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":8,"engine.io-parser":20}],14:[function(e,t,i){(function(t){var n=e("xmlhttprequest-ssl"),a=e("./polling-xhr"),o=e("./polling-jsonp"),r=e("./websocket");i.polling=function(e){var i=!1,r=!1,s=!1!==e.jsonp;if(t.location&&(r="https:"==location.protocol,(i=location.port)||(i=r?443:80),i=e.hostname!=location.hostname||i!=e.port,r=e.secure!=r),e.xdomain=i,e.xscheme=r,"open"in new n(e)&&!e.forceJSONP)return new a(e);if(!s)throw Error("JSONP disabled");return new o(e)},i.websocket=r}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":15,"./polling-xhr":16,"./websocket":18,"xmlhttprequest-ssl":19}],15:[function(e,t,i){(function(i){function n(){}function a(e){o.call(this,e),this.query=this.query||{},s||(i.___eio||(i.___eio=[]),s=i.___eio),this.index=s.length;var t=this;s.push(function(e){t.onData(e)}),this.query.j=this.index,i.document&&i.addEventListener&&i.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=n)},!1)}var o=e("./polling"),r=e("component-inherit");t.exports=a;var s,l=/\n/g,c=/\\n/g;r(a,o),a.prototype.supportsBinary=!1,a.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.iframe=this.form=null),o.prototype.doClose.call(this)},a.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var i=document.getElementsByTagName("script")[0];i?i.parentNode.insertBefore(t,i):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},a.prototype.doWrite=function(e,t){function i(){n(),t()}function n(){if(a.iframe)try{a.form.removeChild(a.iframe)}catch(e){a.onError("jsonp polling iframe removal error",e)}try{o=document.createElement('<iframe src="javascript:0" name="'+a.iframeId+'">')}catch(e){(o=document.createElement("iframe")).name=a.iframeId,o.src="javascript:0"}o.id=a.iframeId,a.form.appendChild(o),a.iframe=o}var a=this;if(!this.form){var o,r=document.createElement("form"),s=document.createElement("textarea"),d=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=d,r.method="POST",r.setAttribute("accept-charset","utf-8"),s.name="d",r.appendChild(s),document.body.appendChild(r),this.form=r,this.area=s}this.form.action=this.uri(),n(),e=e.replace(c,"\\\n"),this.area.value=e.replace(l,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==a.iframe.readyState&&i()}:this.iframe.onload=i}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":17,"component-inherit":9}],16:[function(e,t,i){(function(i){function n(){}function a(e){if(l.call(this,e),i.location){var t="https:"==location.protocol,n=location.port;n||(n=t?443:80),this.xd=e.hostname!=i.location.hostname||n!=e.port,this.xs=e.secure!=t}else this.extraHeaders=e.extraHeaders}function o(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=null!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function r(){for(var e in o.requests)o.requests.hasOwnProperty(e)&&o.requests[e].abort()}var s=e("xmlhttprequest-ssl"),l=e("./polling"),c=e("component-emitter"),d=e("component-inherit"),p=e("debug")("engine.io-client:polling-xhr");t.exports=a,t.exports.Request=o,d(a,l),a.prototype.supportsBinary=!0,a.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.extraHeaders=this.extraHeaders,new o(e)},a.prototype.doWrite=function(e,t){var i=this.request({method:"POST",data:e,isBinary:"string"!=typeof e&&void 0!==e}),n=this;i.on("success",t),i.on("error",function(e){n.onError("xhr post error",e)}),this.sendXhr=i},a.prototype.doPoll=function(){p("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},c(o.prototype),o.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new s(e),n=this;try{p("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var a in t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(a)&&t.setRequestHeader(a,this.extraHeaders[a])}catch(e){}if(this.supportsBinary&&(t.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?n.onLoad():setTimeout(function(){n.onError(t.status)},0))},p("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout(function(){n.onError(e)},0)}i.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},o.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},o.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=n:this.xhr.onreadystatechange=n,e)try{this.xhr.abort()}catch(e){}i.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}if("application/octet-stream"===t)e=this.xhr.response;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(o){var i=new Uint8Array(this.xhr.response);t=[];for(var n=0,a=i.length;n<a;n++)t.push(i[n]);e=String.fromCharCode.apply(null,t)}else e=this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},o.prototype.hasXDR=function(){return void 0!==i.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},i.document&&(o.requestsCount=0,o.requests={},i.attachEvent?i.attachEvent("onunload",r):i.addEventListener&&i.addEventListener("beforeunload",r,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":17,"component-emitter":8,"component-inherit":9,debug:"n9i2g6","xmlhttprequest-ssl":19}],17:[function(e,t,i){function n(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),a.call(this,e)}var a=e("../transport"),o=e("parseqs"),r=e("engine.io-parser");i=e("component-inherit");var s=e("yeast"),l=e("debug")("engine.io-client:polling");t.exports=n;var c=null!=new(e("xmlhttprequest-ssl"))({xdomain:!1}).responseType;i(n,a),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(e){function t(){l("paused"),i.readyState="paused",e()}var i=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(l("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){l("pre-pause polling complete"),--n||t()})),this.writable||(l("we are currently writing - waiting to pause"),n++,this.once("drain",function(){l("pre-pause writing complete"),--n||t()}))}else t()},n.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(e){var t=this;l("polling got data %s",e),r.decodePayload(e,this.socket.binaryType,function(e,i,n){if("opening"==t.readyState&&t.onOpen(),"close"==e.type)return t.onClose(),!1;t.onPacket(e)}),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){function e(){l("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(l("transport open - closing"),e()):(l("transport not open - deferring close"),this.once("open",e))},n.prototype.write=function(e){var t=this;this.writable=!1;var i=function(){t.writable=!0,t.emit("drain")},t=this;r.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,i)})},n.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",i="";!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(i=":"+this.port),e.length&&(e="?"+e);var n=-1!==this.hostname.indexOf(":");return t+"://"+(n?"["+this.hostname+"]":this.hostname)+i+this.path+e}},{"../transport":13,"component-inherit":9,debug:"n9i2g6","engine.io-parser":20,parseqs:27,"xmlhttprequest-ssl":19,yeast:30}],18:[function(e,t,i){(function(i){function n(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,a.call(this,e)}var a=e("../transport"),o=e("engine.io-parser"),r=e("parseqs"),s=e("component-inherit"),l=e("yeast"),c=e("debug")("engine.io-client:websocket"),d=i.WebSocket||i.MozWebSocket,p=d;if(!p&&"undefined"==typeof window)try{p=e("ws")}catch(e){}t.exports=n,s(n,a),n.prototype.name="websocket",n.prototype.supportsBinary=!0,n.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t={agent:this.agent,perMessageDeflate:this.perMessageDeflate};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(t.headers=this.extraHeaders),this.ws=d?new p(e):new p(e,void 0,t),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},n.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(n.prototype.onData=function(e){var t=this;setTimeout(function(){a.prototype.onData.call(t,e)},0)}),n.prototype.write=function(e){var t=this;this.writable=!1;for(var n=e.length,a=0,r=n;a<r;a++)!function(e){o.encodePacket(e,t.supportsBinary,function(a){if(!d){var o={};e.options&&(o.compress=e.options.compress),t.perMessageDeflate&&("string"==typeof a?i.Buffer.byteLength(a):a.length)<t.perMessageDeflate.threshold&&(o.compress=!1)}try{d?t.ws.send(a):t.ws.send(a,o)}catch(e){c("websocket closed before onclose event")}--n||(t.emit("flush"),setTimeout(function(){t.writable=!0,t.emit("drain")},0))})}(e[a])},n.prototype.onClose=function(){a.prototype.onClose.call(this)},n.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},n.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",i="";this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(i=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||(e.b64=1),(e=r.encode(e)).length&&(e="?"+e);var n=-1!==this.hostname.indexOf(":");return t+"://"+(n?"["+this.hostname+"]":this.hostname)+i+this.path+e},n.prototype.check=function(){return!(!p||"__initialize"in p&&this.name===n.prototype.name)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../transport":13,"component-inherit":9,debug:"n9i2g6","engine.io-parser":20,parseqs:27,ws:7,yeast:30}],19:[function(e,t,i){var n=e("has-cors");t.exports=function(e){var t=e.xdomain,i=e.xscheme;e=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||n))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!i&&e)return new XDomainRequest}catch(e){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}},{"has-cors":23}],20:[function(e,t,i){(function(t){function n(e,t,i){var n=Array(e.length);i=l(e.length,i);for(var a=function(e,i,a){t(i,function(t,i){n[e]=i,a(t,n)})},o=0;o<e.length;o++)a(o,e[o],i)}var a=e("./keys"),o=e("has-binary"),r=e("arraybuffer.slice"),s=e("base64-arraybuffer"),l=e("after"),c=e("utf8"),d=navigator.userAgent.match(/Android/i),p=/PhantomJS/i.test(navigator.userAgent),h=d||p;i.protocol=3;var m=i.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},g=a(m),f={type:"error",data:"parser error"},u=e("blob");i.encodePacket=function(e,n,a,o){"function"==typeof n&&(o=n,n=!1),"function"==typeof a&&(o=a,a=null);var r=void 0===e.data?void 0:e.data.buffer||e.data;if(t.ArrayBuffer&&r instanceof ArrayBuffer){if(n){for(a=e.data,n=new Uint8Array(a),(a=new Uint8Array(1+a.byteLength))[0]=m[e.type],e=0;e<n.length;e++)a[e+1]=n[e];e=o(a.buffer)}else e=i.encodeBase64Packet(e,o);return e}return u&&r instanceof t.Blob?(n?h?e=function(e,t,n){if(!t)return i.encodeBase64Packet(e,n);var a=new FileReader;return a.onload=function(){e.data=a.result,i.encodePacket(e,t,!0,n)},a.readAsArrayBuffer(e.data)}(e,n,o):((n=new Uint8Array(1))[0]=m[e.type],e=new u([n.buffer,e.data]),e=o(e)):e=i.encodeBase64Packet(e,o),e):r&&r.base64?o("b"+i.packets[e.type]+e.data.data):(n=m[e.type],void 0!==e.data&&(n+=a?c.encode(String(e.data)):String(e.data)),o(""+n))},i.encodeBase64Packet=function(e,n){var a,o="b"+i.packets[e.type];if(u&&e.data instanceof t.Blob){var r=new FileReader;return r.onload=function(){var e=r.result.split(",")[1];n(o+e)},r.readAsDataURL(e.data)}try{a=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(t){a=new Uint8Array(e.data);for(var s=Array(a.length),l=0;l<a.length;l++)s[l]=a[l];a=String.fromCharCode.apply(null,s)}return o+=t.btoa(a),n(o)},i.decodePacket=function(e,t,n){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return i.decodeBase64Packet(e.substr(1),t);if(n)try{e=c.decode(e)}catch(e){return f}return n=e.charAt(0),Number(n)==n&&g[n]?1<e.length?{type:g[n],data:e.substring(1)}:{type:g[n]}:f}return n=new Uint8Array(e)[0],e=r(e,1),u&&"blob"===t&&(e=new u([e])),{type:g[n],data:e}},i.decodeBase64Packet=function(e,i){var n=g[e.charAt(0)];if(!t.ArrayBuffer)return{type:n,data:{base64:!0,data:e.substr(1)}};var a=s.decode(e.substr(1));return"blob"===i&&u&&(a=new u([a])),{type:n,data:a}},i.encodePayload=function(e,t,a){"function"==typeof t&&(a=t,t=null);var r=o(e);return t&&r?u&&!h?i.encodePayloadAsBlob(e,a):i.encodePayloadAsArrayBuffer(e,a):e.length?void n(e,function(e,n){i.encodePacket(e,!!r&&t,!0,function(e){n(null,e.length+":"+e)})},function(e,t){return a(t.join(""))}):a("0:")},i.decodePayload=function(e,t,n){if("string"!=typeof e)return i.decodePayloadAsBinary(e,t,n);var a;if("function"==typeof t&&(n=t,t=null),""==e)return n(f,0,1);a="";for(var o,r,s=0,l=e.length;s<l;s++)if(":"!=(r=e.charAt(s)))a+=r;else{if(""==a||a!=(o=Number(a)))return n(f,0,1);if(r=e.substr(s+1,o),a!=r.length)return n(f,0,1);if(r.length){if(a=i.decodePacket(r,t,!0),f.type==a.type&&f.data==a.data)return n(f,0,1);if(!1===n(a,s+o,l))return}s+=o,a=""}return""!=a?n(f,0,1):void 0},i.encodePayloadAsArrayBuffer=function(e,t){if(!e.length)return t(new ArrayBuffer(0));n(e,function(e,t){i.encodePacket(e,!0,!0,function(e){return t(null,e)})},function(e,i){var n=i.reduce(function(e,t){var i;return i="string"==typeof t?t.length:t.byteLength,e+i.toString().length+i+2},0),a=new Uint8Array(n),o=0;return i.forEach(function(e){var t="string"==typeof e,i=e;if(t){for(var i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);i=i.buffer}for(a[o++]=t?0:1,e=i.byteLength.toString(),n=0;n<e.length;n++)a[o++]=parseInt(e[n]);for(a[o++]=255,i=new Uint8Array(i),n=0;n<i.length;n++)a[o++]=i[n]}),t(a.buffer)})},i.encodePayloadAsBlob=function(e,t){n(e,function(e,t){i.encodePacket(e,!0,!0,function(e){var i=new Uint8Array(1);if(i[0]=1,"string"==typeof e){for(var n=new Uint8Array(e.length),a=0;a<e.length;a++)n[a]=e.charCodeAt(a);e=n.buffer,i[0]=0}for(var n=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),o=new Uint8Array(n.length+1),a=0;a<n.length;a++)o[a]=parseInt(n[a]);o[n.length]=255,u&&(e=new u([i.buffer,o.buffer,e]),t(null,e))})},function(e,i){return t(new u(i))})},i.decodePayloadAsBinary=function(e,t,n){"function"==typeof t&&(n=t,t=null);for(var a=[],o=!1;0<e.byteLength;){for(var s=new Uint8Array(e),l=0===s[0],c="",d=1;255!=s[d];d++){if(310<c.length){o=!0;break}c+=s[d]}if(o)return n(f,0,1);if(e=r(e,2+c.length),c=parseInt(c),s=r(e,0,c),l)try{s=String.fromCharCode.apply(null,new Uint8Array(s))}catch(e){for(l=new Uint8Array(s),s="",d=0;d<l.length;d++)s+=String.fromCharCode(l[d])}a.push(s),e=r(e,c)}var p=a.length;a.forEach(function(e,a){n(i.decodePacket(e,t,!0),a,p)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":21,after:3,"arraybuffer.slice":4,"base64-arraybuffer":5,blob:6,"has-binary":22,utf8:29}],21:[function(e,t,i){t.exports=Object.keys||function(e){var t,i=[],n=Object.prototype.hasOwnProperty;for(t in e)n.call(e,t)&&i.push(t);return i}},{}],22:[function(e,t,i){(function(i){var n=e("isarray");t.exports=function(e){return function e(t){if(!t)return!1;if(i.Buffer&&i.Buffer.isBuffer(t)||i.ArrayBuffer&&t instanceof ArrayBuffer||i.Blob&&t instanceof Blob||i.File&&t instanceof File)return!0;if(n(t)){for(var a=0;a<t.length;a++)if(e(t[a]))return!0}else if(t&&"object"==typeof t)for(a in t.toJSON&&(t=t.toJSON()),t)if(Object.prototype.hasOwnProperty.call(t,a)&&e(t[a]))return!0;return!1}(e)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:25}],23:[function(e,t,i){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},{}],24:[function(e,t,i){var n=[].indexOf;t.exports=function(e,t){if(n)return e.indexOf(t);for(var i=0;i<e.length;++i)if(e[i]===t)return i;return-1}},{}],25:[function(e,t,i){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],26:[function(e,t,i){(function(e){var i=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,a=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,r=/^\s+/,s=/\s+$/;t.exports=function(t){return"string"==typeof t&&t?(t=t.replace(r,"").replace(s,""),e.JSON&&JSON.parse?JSON.parse(t):i.test(t.replace(n,"@").replace(a,"]").replace(o,""))?new Function("return "+t)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(e,t,i){i.encode=function(e){var t,i="";for(t in e)e.hasOwnProperty(t)&&(i.length&&(i+="&"),i+=encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return i},i.decode=function(e){var t={};e=e.split("&");for(var i=0,n=e.length;i<n;i++){var a=e[i].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}},{}],28:[function(e,t,i){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,a="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");t.exports=function(e){var t=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length)),e=n.exec(e||"");for(var r={},s=14;s--;)r[a[s]]=e[s]||"";return-1!=i&&-1!=o&&(r.source=t,r.host=r.host.substring(1,r.host.length-1).replace(/;/g,":"),r.authority=r.authority.replace("[","").replace("]","").replace(/;/g,":"),r.ipv6uri=!0),r}},{}],29:[function(e,t,i){(function(e){!function(n){function a(e){for(var t,i,n=[],a=0,o=e.length;a<o;)55296<=(t=e.charCodeAt(a++))&&56319>=t&&a<o?56320==(64512&(i=e.charCodeAt(a++)))?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),a--):n.push(t);return n}function o(e){if(55296<=e&&57343>=e)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function r(){if(m>=h)throw Error("Invalid byte index");var e=255&p[m];if(m++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function s(){var e,t,i,n;if(m>h)throw Error("Invalid byte index");if(m==h)return!1;if(e=255&p[m],m++,0==(128&e))return e;if(192==(224&e)){if(t=r(),128<=(e=(31&e)<<6|t))return e;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=r(),i=r(),2048<=(e=(15&e)<<12|t<<6|i))return o(e),e;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=r(),i=r(),n=r(),65536<=(e=(15&e)<<18|t<<12|i<<6|n)&&1114111>=e))return e;throw Error("Invalid UTF-8 detected")}var l="object"==typeof i&&i,c="object"==typeof t&&t&&t.exports==l&&t,d="object"==typeof e&&e;d.global!==d&&d.window!==d||(n=d);var p,h,m,g=String.fromCharCode,d={version:"2.0.0",encode:function(e){for(var t,i=(e=a(e)).length,n=-1,r="";++n<i;){if(0==(4294967168&(t=e[n])))t=g(t);else{var s="";0==(4294965248&t)?s=g(t>>6&31|192):0==(4294901760&t)?(o(t),s=g(t>>12&15|224),s+=g(t>>6&63|128)):0==(4292870144&t)&&(s=g(t>>18&7|240),s+=g(t>>12&63|128),s+=g(t>>6&63|128)),t=s+=g(63&t|128)}r+=t}return r},decode:function(e){p=a(e),h=p.length,m=0,e=[];for(var t;!1!==(t=s());)e.push(t);t=e.length;for(var i,n=-1,o="";++n<t;)65535<(i=e[n])&&(o+=g((i-=65536)>>>10&1023|55296),i=56320|1023&i),o+=g(i);return o}};if(l&&!l.nodeType)if(c)c.exports=d;else for(var f in n={}.hasOwnProperty,d)n.call(d,f)&&(l[f]=d[f]);else n.utf8=d}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],30:[function(e,t,i){function n(e){var t="";do{t=r[e%s]+t,e=Math.floor(e/s)}while(0<e);return t}function a(){var e=n(+new Date);return e!==o?(c=0,o=e):e+"."+n(c++)}for(var o,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s=64,l={},c=0,d=0;d<s;d++)l[r[d]]=d;a.encode=n,a.decode=function(e){var t=0;for(d=0;d<e.length;d++)t=t*s+l[e.charAt(d)];return t},t.exports=a},{}]},{},[10])(10),function(e){"function"!=typeof Array.isArray&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1}),e=e.EventEmitter=function(){};var t=Array.isArray;e.prototype.emit=function(e){var i;if("error"===e&&(!this._events||!this._events.error||t(this._events.error)&&!this._events.error.length)){if(arguments[1]instanceof Error)throw arguments[1];throw Error("Uncaught, unspecified 'error' event.")}if(!this._events)return!1;if(!(n=this._events[e]))return!1;if("function"==typeof n){switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}return!0}if(t(n)){i=Array.prototype.slice.call(arguments,1);for(var n,a=0,o=(n=n.slice()).length;a<o;a++)n[a].apply(this,i);return!0}return!1},e.prototype.addListener=function(e,i){if("function"!=typeof i)throw Error("addListener only takes instances of Function");return this._events||(this._events={}),this._events[e]?t(this._events[e])?this._events[e].push(i):this._events[e]=[this._events[e],i]:this._events[e]=i,this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(e,t){var i=this;i.on(e,function n(){i.removeListener(e,n),t.apply(this,arguments)})},e.prototype.removeListener=function(e,i){if("function"!=typeof i)throw Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var n=this._events[e];if(t(n)){var a=n.indexOf(i);if(0>a)return this;n.splice(a,1),0===n.length&&delete this._events[e]}else this._events[e]===i&&delete this._events[e];return this},e.prototype.removeAllListeners=function(e){return e?e&&this._events&&this._events[e]&&(this._events[e]=null):this._events={},this},e.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),t(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}}(window),function(e){function t(t,i){if(!i.engineIo)throw Error("You must specify engineIo");if(i.timestampRequests=!0,i.timestampParam="__t",this.__callbackIndex=0,this.__callbacks={},this.state=n.OPENING,this.socket=new i.engineIo(t,i),this.debug=!1,document.getElementById("tawk__dmz")){var a=this;e.getSocketTransport=function(){if(a.socket.transport)return a.socket.transport.name}}document.location&&"#!tawk-debug"===document.location.hash&&(this.debug=!0),EventEmitter.call(this),this.attachListeners()}var i,n={OPENING:"opening",OPEN:"open",CLOSING:"closing",CLOSED:"closed"};for(i in EventEmitter.prototype)"function"==typeof EventEmitter.prototype[i]&&Object.prototype.hasOwnProperty.call(EventEmitter.prototype,i)&&(t.prototype[i]=EventEmitter.prototype[i]);t.prototype.attachListeners=function(){var e=this;this.socket.on("open",function(){e.state=n.OPEN,e.emit("connect")}),this.socket.on("close",function(t,i){e.emit("disconnect",t,i),e.doClose()}),this.socket.on("error",function(t){e.emit("error",t)}),this.socket.on("message",function(t){e.onMessage(t)})},t.prototype.close=t.prototype.disconnect=function(){var e=this;this.state===n.OPENING&&setTimeout(function(){e.close()},1e3),this.state===n.OPEN&&(this.state=n.CLOSING,this.clearCallbacks(),this.socket.close())},t.prototype.doClose=function(){this.clearCallbacks(),this.state=n.CLOSED,this.socket.removeAllListeners(),this.removeAllListeners(),this.socket=null},t.prototype.clearCallbacks=function(){this.__callbacks={}},t.prototype.onMessage=function(e){(e=this.decode(e))&&("__callback__"===e.c?this.executeCallback(e):this.emit.apply(this,[e.c].concat(e.p)))},t.prototype.executeCallback=function(e){var t=this.__callbacks[e.cb];delete this.__callbacks[e.cb],t.apply(null,e.p)},t.prototype.decode=function(e){var t;this.debug&&console&&console.log&&(data=new Date,console.log("received "+data.toUTCString()+" : "+e));try{t=JSON.parse(e)}catch(e){return void this.emit("error",e)}if(t.c)if("error"===t.c||"connect"===t.c||"disconnect"===t.c)this.emit("error",Error("server returned reserved command : `"+t.cmd+"`"));else if(t.p&&"[object Array]"!==Object.prototype.toString.call(t.p))this.emit("error",Error("data is expected to be an array"));else{if("__callback__"!==t.c)return t;if(e=parseInt(t.cb,10),isNaN(e))this.emit("error",Error("received callback command but there was no valid callback id(`"+e+"`"));else{if(this.__callbacks[e])return t.cb=e,t;this.emit("error",Error("received callback command but callback isnt present (`"+t.cb+"`)"))}}else this.emit("error",Error("no command was sent by the server"))},t.prototype.send=function(){var e=this.encode(arguments);this.debug&&console&&console.log&&(data=new Date,console.log("send "+data.toUTCString()+" : "+e)),this.state!==n.OPEN?this.emit("error",Error("Socket isnt open its state is `"+this.state+"` tried to send `"+e+"`")):e&&this.socket.send(e)},t.prototype.encode=function(e){var t={};if((e=Array.prototype.slice.call(e))[0]){var i;t.c=e[0],"function"==typeof e[e.length-1]&&(t.cb=this.enqueuCallback(e.pop())),t.p=e.slice(1);try{i=JSON.stringify(t)}catch(e){return void this.emit("error",e)}return i}this.emit("error",Error("now command specified"))},t.prototype.enqueuCallback=function(e){return this.__callbacks[this.__callbackIndex]=e,this.__callbackIndex++},e.$__TawkSocket=t}(window),function(e){var t,i,n,a,o,r,s={},l=this,c=(new Date).getTime(),d=l.navigator,p={viewHandler:null};e.startTime=c.toString(),e.loaded=!1,e.connected=!1,e.ready=!1,"undefined"!=typeof Tawk_LoadStart&&($_Tawk_LoadStart=Tawk_LoadStart);try{p.ResetStyle="html,body,div,span,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,abbr,address,cite,code,del,dfn,em,img,ins,kbd,q,samp,small,strong,sub,sup,var,b,i,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,figcaption,figure,footer,header,hgroup,menu,nav,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}nav ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}a{margin:0;padding:0;font-size:100%;vertical-align:baseline;background:transparent}ins{background-color:#ff9;color:#000;text-decoration:none}mark{background-color:#ff9;color:#000;font-style:italic;font-weight:bold}del{text-decoration:line-through}abbr[title],dfn[title]{border-bottom:1px dotted;cursor:help}table{border-collapse:collapse;border-spacing:0}hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}input,select{vertical-align:middle}html,body{height:100%;width:100%}body{background:transparent;height:100%;width:100%;font:13px Helvetica,Arial,sans-serif;position:relative}.clear{clear:both}.clearfix:after{content:'';display:block;height:0;clear:both;visibility:hidden}",p.MaximizedStyle="body{font-weight:normal;outline:0;font-size:15px;font-family:Helvetica,Arial,sans-serif}body.font-lato{font-family:'Lato','Open Sans',sans-serif !important}*{font-family:inherit}::-webkit-input-placeholder{white-space:normal}::-moz-placeholder{white-space:normal}:-ms-input-placeholder{white-space:normal}:-moz-placeholder{white-space:normal}.rtl-direction{direction:rtl !important}#tawkchat-maximized-wrapper{width:100%;height:100%;position:relative}#tawkchat-maximized-wrapper.noMenu .headerBoxLink{display:none !important}#tawkchat-maximized-wrapper.noMenu #minimizeChat.headerBoxLink{display:block !important}#tawkchat-maximized-wrapper .notShown{display:none !important}#borderWrapper{position:absolute;top:0;bottom:0;z-index:-10;background-color:#e1e1e1;width:100%;height:100%}#innerWrapper{background:#fff;left:0;position:absolute;right:0;top:0;bottom:0;border:1px solid #e9e9e9}#headerBoxWrapper{height:60px}#expandableLink{height:5px;width:100%;font-size:0;cursor:s-resize;visibility:hidden;position:absolute;top:56px;z-index:30}#expandableIcon{width:30px;height:4px;margin:0 auto;background:#a1a1a1}#expandableLink.expanded{cursor:n-resize}#headerBox{height:60px;position:relative;z-index:30;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}#agentBar{height:100px;display:none}#headerBoxControlsContainer{height:60px;position:relative;float:none;display:grid;grid-auto-columns:1fr;padding:0 8px;display:-ms-grid;-ms-grid-columns:1fr}#headerBoxControlsContainer #screenShare{-ms-grid-row:1;-ms-grid-column:2;float:left;width:30px;height:60px}#headerBoxControlsContainer #voiceCall{-ms-grid-row:1;-ms-grid-column:3;float:left;width:30px;height:60px}#headerBoxControlsContainer #videoCall{-ms-grid-row:1;-ms-grid-column:4;float:left;width:30px;height:60px}#headerBoxControlsContainer .headerBoxLink{-ms-grid-row:1;-ms-grid-column:5;float:left;width:30px;height:60px}#headerBoxControlsContainer #minimizeChat{-ms-grid-row:1;-ms-grid-column:6;float:left;width:30px;height:60px}#headerAccountStateContainer{width:fit-content;height:60px;display:grid;grid-template-columns:auto 1fr;-ms-flex-grow:1;-webkit-flex-grow:1;-moz-flex-grow:1;flex-grow:1;-ms-flex-shrink:1;-webkit-flex-shrink:1;-moz-flex-shrink:1;flex-shrink:1;-ms-flex:1;display:-ms-grid;-ms-grid-columns:auto 1fr}#headerAccountStateContainer #headerAccountState{-ms-grid-row:1;-ms-grid-column:1;float:left}#headerAccountStateContainer #agentProfileContainer{-ms-grid-row:1;-ms-grid-column:2;float:left;width:auto}.rtl-direction #headerAccountStateContainer #agentProfileContainer{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}#headerAccountStateContainer #agentProfileContainer.show{display:-ms-grid;display:grid;-ms-grid-columns:auto auto 1fr;grid-template-columns:auto auto 1fr}.agent-profile-detailed{-ms-grid-row:1;-ms-grid-column:3}#headerAccountState{padding:0 5px 0 14px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin-left:0;height:100%;box-sizing:border-box;line-height:60px}#shortMessage{font-weight:500}#chatContainerWrapper{position:absolute;bottom:78px;top:0;width:100%;background-color:white}#greetingsText{white-space:pre-wrap}#chatContainerWrapper.chat-ended{bottom:118px}.no-branding #chatContainerWrapper{bottom:48px}.form-opened #bottomContainer{bottom:0;z-index:1}#chatContainer{overflow:scroll;position:absolute;font-size:14px;color:#6c6c6c;min-width:270px;height:auto;overflow-x:hidden;top:0;bottom:0;width:100%;box-sizing:border-box;scrollbar-width:thin;scrollbar-color:#fff #fff;-ms-overflow-style:-ms-autohiding-scrollbar}#chatContainer::-webkit-scrollbar,#formFieldsContainer::-webkit-scrollbar{width:7px}#chatContainer::-webkit-scrollbar-thumb,#formFieldsContainer::-webkit-scrollbar-thumb{-webkit-border-radius:3px;border-radius:3px;background:transparent}#tawkchat-maximized-wrapper:hover #chatContainer::-webkit-scrollbar-thumb,#formFieldsContainer:hover::-webkit-scrollbar-thumb{background:#aaa}#tawkchat-maximized-wrapper:hover #chatContainer,#tawkchat-maximized-wrapper:hover #formFieldsContainer{scrollbar-color:#aaa #fff}.uploadFailedNotifContainer,#maxFileNotificationContainer,#maxSizeNotificationContainer{color:black;background-color:white;border:1px solid #ddd;margin:5px 10px;padding:9px 10px 18px 10px;border-radius:6px;font-size:13px;position:relative}.uploadFailedNotifContainer{margin-bottom:25px}#maxFileNotificationContainer #maxFileNumberList,#maxSizeNotificationContainer #maxFileSizeList{margin:0;margin-top:10px;font-weight:600}#maxFileNotificationContainer #maxFileNumberList ul,#maxSizeNotificationContainer #maxFileSizeList ul{list-style:none}.uploadFailedNotifMessage,#maxFileNotificationMessage,#maxSizeNotificationMessage{margin-top:13px}.uploadFailedNotifIconContainer,#maxFileNotifIconContainer,#maxSizeNotifIconContainer{height:30px;width:30px;background-color:#e52f48;border-radius:5px;display:inline-block;position:relative;text-align:center;vertical-align:middle;line-height:30px}.uploadFailedNotifIconWrapper,#maxFileNotifIconWrapper,#maxSizeNotifIconWrapper{height:0;width:0;border-width:0 10px 17px 10px;border-style:solid;border-color:transparent transparent white transparent;display:inline-block;position:absolute;left:50%;top:50%;-ms-transform:translate(-50%,-50%);-webkit-transform:translate(-50%,-50%);-moz-transform:translate(-50%,-50%);-o-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.uploadFailedSizeNotifIcon,#maxFileNotifIcon,#maxSizeNotifIcon{color:#e52f48;font-weight:900;font-size:11px;display:inline-block;z-index:9999;position:relative;padding-top:2px}.uploadFailedNotifLabel,#maxFileNotifLabel,#maxSizeNotifLabel{display:inline-block;line-height:30px;vertical-align:top;margin-left:10px;font-weight:600}.uploadFailedRetryContainer{position:absolute;bottom:-18px;right:2px}.rtl-direction .uploadFailedRetryContainer{right:auto;left:2px}.uploadFailedRetryContainer a{font-size:12px;color:#e52f48;font-weight:600}.closeButtonContainer{margin:5px auto auto auto;display:inline-block;float:right;font-size:18px;cursor:pointer}.closeNotification{cursor:pointer;text-transform:uppercase}#maxFileSizeList,#maxFileNumberList{margin:10px}#maxFileSizeList li,#maxFileNumberList li{word-wrap:break-word}#maxFileSizeList a,#maxFileNumberList a{color:#00E}#maxFileNumberList a{display:none}#chatContainer .hidden{display:none}.actionRetry{cursor:pointer;float:right}#actionsContainer{z-index:99998;background-color:#fff;border-top:2px solid #e1e1e1;position:absolute;bottom:0;width:100%;height:46px}#status-message{font-weight:bold;font-style:normal}#resizeBox{width:52px;height:52px;position:absolute;top:0;background-color:#000;z-index:5}body.right #resizeBox{left:0;float:left;-webkit-border-top-left-radius:3px;-moz-border-radius-topleft:3px;border-top-left-radius:3px}body.left #resizeBox{right:0;float:right;-webkit-border-top-right-radius:3px;-moz-border-radius-topright:3px;border-top-right-radius:3px}#resizeInnerBox{background-color:#fefefe;width:47px;height:47px}body.right #resizeInnerBox{-webkit-border-top-left-radius:3px;-moz-border-radius-topleft:3px;border-top-left-radius:3px;margin:5px 0 0 5px}body.left #resizeInnerBox{-webkit-border-top-right-radius:3px;-moz-border-radius-topright:3px;border-top-right-radius:3px;margin:5px 5px 0 0}#pluginsBar{height:23px;background-color:#c2c2c2;min-width:278px}#rateMainWrapper{float:left;position:relative}#ratePositive{background-position:-145px 0}#rateNegative{background-position:-126px 0}#rateNegative:hover,#rateNegative.selected{background-position:-183px 0}#rateNegative:hover,#ratePositive:hover{transform:scale(1.2,1.2)}.activeSound{background-position:0 0;background-repeat:no-repeat}.disabledSound{background-position:-21px 0;background-repeat:no-repeat}#textareaWrapper{display:block;background-color:#fff;position:relative;height:100%;z-index:2}#textareaContainer{height:100%;padding:16px 14px 13px 14px;box-sizing:border-box}#textareaContainer.with-emoji{padding-right:44px;padding-left:14px}.rtl-direction #textareaContainer.with-emoji{padding-left:44px;padding-right:14px}#chatTextarea{padding:0;margin:0;height:100%;width:100%;overflow:hidden;resize:none;border:0;font-size:14px !important;background-color:#fff;color:#000;font-family:inherit}#chatTextarea:active,#chatTextarea:focus{outline:0}#textareaContainer textarea::-webkit-input-placeholder{color:#bdbdbd}#textareaContainer textarea::-moz-placeholder{color:#bdbdbd}#textareaContainer textarea:-ms-input-placeholder{color:#bdbdbd}#chatTextarea::placeholder{color:#bdbdbd !important}#greetingsContainer{margin:7px 45px 0 45px;margin:14px 0;padding:10px 15px;text-align:center;white-space:pre-wrap;word-wrap:break-word;color:black;font-weight:400;margin-top:0}#greetingsText a{color:inherit}#greetingsWaitTime{margin:14px 0 0;display:none}#formContainer #greetingsContainer{margin:0 !important}#agentBar.expanded{height:auto;overflow-y:auto;display:block;max-height:153px}#agentList{position:absolute;left:50%;top:0;-ms-transform:translateX(-50%);-webkit-transform:translateX(-50%);-moz-transform:translateX(-50%);-o-transform:translateX(-50%);transform:translateX(-50%);white-space:nowrap;overflow-x:hidden;max-width:100%;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}#agentList::-webkit-scrollbar{display:none}#agentList .agentWrapper{border-radius:0;min-width:0;display:inline-block;margin:10px 10px;text-align:center;flex-grow:1}#profileDetail .agentContainer{margin-left:50px}.agentContainer{height:50px}.rtl-direction #profileDetail .agentContainer{margin-right:50px;margin-left:0}#agentBar .agentContainer{height:auto;width:100%;margin-top:5px}.agentContainerNoImage{height:45px}.agentWrapper{width:100%;min-width:280px;clear:both;position:relative;-webkit-border-top-left-radius:10px;-webkit-border-top-right-radius:10px;-moz-border-radius-topleft:10px;-moz-border-radius-topright:10px;border-top-left-radius:10px;border-top-right-radius:10px}#headerBox .agentInformationContainer{padding:10px 0}.rtl-direction #agentBar .agentInformationContainer{margin-right:auto;margin-left:auto}.rtl-direction #agentBar .agentContainer{clear:both}.agentInformationContainerNoImage{padding-top:13px;padding-bottom:13px;font-size:16px}.agentInformationContainer{font-size:14px}.position-label{font-size:12px}.agentNameCentered{font-weight:400;font-size:16px;text-transform:capitalize;margin-top:5px}.rtl-direction .noImageAgentProfileDetail{padding:0 5px 0 0}.agentInformationContainer p{white-space:nowrap;overflow:hidden;box-sizing:border-box;text-overflow:ellipsis}@-ms-keyframes profileShow{0%{-ms-transform:scale(0)}6.25%{-ms-transform:scale(0.1)}12.5%{-ms-transform:scale(0.2)}18.75%{-ms-transform:scale(0.3)}25%{-ms-transform:scale(0.4)}31.25%{-ms-transform:scale(0.5)}37.5%{-ms-transform:scale(0.6)}43.75%{-ms-transform:scale(0.7)}50%{-ms-transform:scale(0.8)}56.25%{-ms-transform:scale(0.9)}62.5%{-ms-transform:scale(1)}68.75%{-ms-transform:scale(1.1)}75%{-ms-transform:scale(1.2)}81.25%{-ms-transform:scale(1.3)}87.5%{-ms-transform:scale(1.2)}93.75%{-ms-transform:scale(1.1)}100%{-ms-transform:scale(1)}}@-webkit-keyframes profileShow{0%{-webkit-transform:scale(0)}6.25%{-webkit-transform:scale(0.1)}12.5%{-webkit-transform:scale(0.2)}18.75%{-webkit-transform:scale(0.3)}25%{-webkit-transform:scale(0.4)}31.25%{-webkit-transform:scale(0.5)}37.5%{-webkit-transform:scale(0.6)}43.75%{-webkit-transform:scale(0.7)}50%{-webkit-transform:scale(0.8)}56.25%{-webkit-transform:scale(0.9)}62.5%{-webkit-transform:scale(1)}68.75%{-webkit-transform:scale(1.1)}75%{-webkit-transform:scale(1.2)}81.25%{-webkit-transform:scale(1.3)}87.5%{-webkit-transform:scale(1.2)}93.75%{-webkit-transform:scale(1.1)}100%{-webkit-transform:scale(1)}}@-moz-keyframes profileShow{0%{-moz-transform:scale(0)}6.25%{-moz-transform:scale(0.1)}12.5%{-moz-transform:scale(0.2)}18.75%{-moz-transform:scale(0.3)}25%{-moz-transform:scale(0.4)}31.25%{-moz-transform:scale(0.5)}37.5%{-moz-transform:scale(0.6)}43.75%{-moz-transform:scale(0.7)}50%{-moz-transform:scale(0.8)}56.25%{-moz-transform:scale(0.9)}62.5%{-moz-transform:scale(1)}68.75%{-moz-transform:scale(1.1)}75%{-moz-transform:scale(1.2)}81.25%{-moz-transform:scale(1.3)}87.5%{-moz-transform:scale(1.2)}93.75%{-moz-transform:scale(1.1)}100%{-moz-transform:scale(1)}}@-o-keyframes profileShow{0%{-o-transform:scale(0)}6.25%{-o-transform:scale(0.1)}12.5%{-o-transform:scale(0.2)}18.75%{-o-transform:scale(0.3)}25%{-o-transform:scale(0.4)}31.25%{-o-transform:scale(0.5)}37.5%{-o-transform:scale(0.6)}43.75%{-o-transform:scale(0.7)}50%{-o-transform:scale(0.8)}56.25%{-o-transform:scale(0.9)}62.5%{-o-transform:scale(1)}68.75%{-o-transform:scale(1.1)}75%{-o-transform:scale(1.2)}81.25%{-o-transform:scale(1.3)}87.5%{-o-transform:scale(1.2)}93.75%{-o-transform:scale(1.1)}100%{-o-transform:scale(1)}}@keyframes profileShow{0%{transform:scale(0)}6.25%{transform:scale(0.1)}12.5%{transform:scale(0.2)}18.75%{transform:scale(0.3)}25%{transform:scale(0.4)}31.25%{transform:scale(0.5)}37.5%{transform:scale(0.6)}43.75%{transform:scale(0.7)}50%{transform:scale(0.8)}56.25%{transform:scale(0.9)}62.5%{transform:scale(1)}68.75%{transform:scale(1.1)}75%{transform:scale(1.2)}81.25%{transform:scale(1.3)}87.5%{transform:scale(1.2)}93.75%{transform:scale(1.1)}100%{transform:scale(1)}}#agentBar .alias-image,#headerBox .alias-image{width:40px;height:40px;margin:0;background-repeat:no-repeat;border-radius:50%;margin:5px 0;background-image:url('https://static-v.tawk.to/a-v3/images/default-profile.svg');background-size:40px 40px;float:left;margin-left:-100%;animation:fadeIn 1s;-webkit-animation:fadeIn 1s;-moz-animation:fadeIn 1s;-o-animation:fadeIn 1s}#headerBox .alias-image{width:30px;height:30px;position:relative;margin-left:-10px;display:inline-block;margin-top:14px;box-shadow:0 0 0 1px #eee;background-size:30px 30px}#agentBar .alias-image{float:none;margin:0 auto;width:53px;height:53px;background-size:53px 53px}.agentChatContainer .messageBody{margin:-12px 0 0 0;max-width:calc(100% - 30px)}.rtl-direction .agentChatContainer .messageBody{float:right;margin:-12px 00px 0 0;padding-right:40px}.agentChatContainer .message{background:#eee;color:#333;margin-left:0;padding:5px 10px;border-radius:3px;box-shadow:0 0 1px 0 rgba(0,0,0,0.1)}.ie9.rtl-direction .agentChatContainer .message{border-radius:0 15px 15px 15px !important}.agentChatContainer .messageStatusContainer{margin-left:-40px;position:absolute;top:5px;left:100%}.rtl-direction .agentChatContainer .messageStatusContainer{margin:0 -40px 0 0;left:auto;right:100%}.messageContainer.agentChatContainer{margin:15px 40px 12px 11px}.rtl-direction .messageContainer.agentChatContainer{margin:30px 8px 10px 23px}.messageContainer.visitorChatContainer{margin:15px 15px 12px 74px}.rtl-direction .messageContainer.visitorChatContainer{margin:10px 0 10px 12px}.visitorChatContainer .messageBody{margin:0;float:right;max-width:100%;min-height:62px}.rtl-direction .visitorChatContainer .messageBody{float:left}.visitorChatContainer .messageWrapper .message{color:#333;text-align:left;background:#e5e5e5}.rtl-direction .visitorChatContainer .messageWrapper .message{text-align:left;margin:0 30px 0 0;border-radius:0 15px 15px 15px;border-radius:3px}.ie9.rtl-direction .visitorChatContainer .messageWrapper .message{border-radius:15px 0 15px 15px !important;border-radius:3px}.message.agentTypingIndicator,.messageContainer .messageWrapper .message{position:relative}.message.agentTypingIndicator::after,.message.agentTypingIndicator::before,.upload-data::after,.upload-data::before,.messageContainer .messageWrapper .message::after,.messageContainer .messageWrapper .message::before{content:'';display:block;position:absolute;width:0;height:0;border-style:solid;top:6px;border-width:7px}.message.agentTypingIndicator::after,.message.agentTypingIndicator::before,.messageContainer.agentChatContainer .messageWrapper .message::after,.messageContainer.agentChatContainer .messageWrapper .message::before{right:100%}.message.agentTypingIndicator::before,.messageContainer.agentChatContainer .messageWrapper .message::before{border-color:transparent #f9f9f9 transparent transparent;border-width:7px;top:6px}.upload-data::after,.upload-data::before,.messageContainer.visitorChatContainer .messageWrapper .message::after,.messageContainer.visitorChatContainer .messageWrapper .message::before{left:100%}.upload-data::before,.messageContainer.visitorChatContainer .messageWrapper .message::before{border-color:transparent transparent transparent #f9f9f9;border-width:7px;top:5px}.message.agentTypingIndicator::after,.messageContainer.agentChatContainer .messageWrapper .message::after{top:7px;border-width:6px}.upload-data::after,.messageContainer.visitorChatContainer .messageWrapper .message::after{top:6px;border-width:6px}.visitorChatContainer .messageStatusContainer.errorInMessage{width:100%;position:relative;right:auto;text-align:right;font-size:12px;color:#ec6368;font-weight:600;line-height:1;top:3px;float:right}.visitorChatContainer .messageStatusContainer.errorInMessage a{float:right;display:inline-block;font-size:12px;text-decoration:underline;color:#ec6368;width:auto;background:0;text-align:right;top:0;margin:0 0 0 15px;font-weight:900}.messageStatusContainer.pending .failed-label,.messageStatusContainer.pending .icon-alert{display:none}.time-div{visibility:hidden}.mobile .time-div{visibility:visible}.one-agent .agent-div.agent{display:none}.messageBody:hover .time-div{visibility:visible}.rtl-direction .visitorChatContainer .messageStatusContainer.errorInMessage a{float:left;text-align:left}.visitorChatContainer .messageStatusContainer{position:absolute;right:100%;top:0;left:auto}.rtl-direction .visitorChatContainer .messageStatusContainer.errorInMessage{left:auto;margin:0}.rtl-direction .visitorChatContainer .messageStatusContainer{right:auto;left:100%;margin:0 0 0 -40px}.messageHead{position:absolute;z-index:10001}.messageHeadLine{position:relative;top:10px;z-index:1}.messageContainer .messageHead .messageTitle{text-align:center;width:100%}.messageBody{line-height:1.5em;margin:5px 0 0 42px;float:left;position:relative}.notification{margin-left:0;width:100%}.ownerNameContainer,.notificationContainer{float:left}.rtl-direction .notificationContainer{direction:rtl !important;float:right}.notificationContainer .message{margin-right:40px;font-size:14px !important;font-style:italic}.rtl-direction .notificationContainer .message{margin:0 0 0 40px}.message{white-space:pre-wrap;word-wrap:break-word}.messageContainer .messageHead.agent .messageTime,.notificationTime{color:#b3b3b3}.messageContainer .chat-agent-name{position:absolute;bottom:-18px;left:40px;font-size:11px}.rtl-direction .messageContainer .chat-agent-name{left:auto;right:40px}.notificationTime{width:40px;float:left;margin-left:-40px;text-align:right;font-size:12px !important}.rtl-direction .notificationTime{float:right;margin:0 -40px 0 0;text-align:left}.messageStatusContainer{position:relative;z-index:2;width:40px}.messageTime{padding:0 2px 0 8px;font-size:11px !important;color:#777;display:none}.rtl-direction .messageTime{padding:0 8px 0 2px}.messageTime.visitor{padding:0 8px 0 2px}.messageTime.agent,.messageTime.visitor{display:inline-block;margin:0;padding:0;line-height:1;top:auto;bottom:auto;vertical-align:bottom}.rtl-direction .messageTime.visitor{padding:0 2px 0 8px}.messageWrapper{background:0;position:relative;width:auto}.rtl-direction .messageWrapper{float:right;max-width:100%}.messageStatus:active,.messageStatus:focus{outline:0}.messageStatusContainer.pending .lds-spinner{transform:scale(0.3);margin-left:-5px;margin-top:-25%}.messageWrapper.pending{font-style:italic}.messageWrapper.error{font-style:italic;color:red;cursor:pointer;float:right;width:auto;max-width:100%}.rtl-direction .messageWrapper.error{max-width:100%;float:left}.messageWrapper.error .message{background-color:#ec6368 !important;color:#fff !important}.messageWrapper .message{font-size:14px !important;padding:10px 13px;font-weight:400;border-radius:5px;box-shadow:0 0 1px 0 rgba(0,0,0,0.1)}.messageTitle span{text-transform:uppercase;font-weight:bold;padding:0 10px;color:#ccc;background-color:#fff;z-index:1;position:relative}#formContainer::-webkit-scrollbar{display:none}.formMessageField{padding:10px 20px;line-height:1.2em;color:#616161;font-size:15px;text-align:left;word-wrap:break-word}.form{font-size:13px;color:#a1a1a1;height:auto;position:absolute;top:0;bottom:30px;left:6px;right:6px;overflow:hidden;max-width:400px;margin:0 auto;width:calc(100% - 16px)}.rtl-direction .form{left:0;right:6px}#changeNameForm.form,#emailTranscriptForm.form,#endChatForm.form{max-width:284px}.no-branding .form{bottom:14px}.form::-webkit-scrollbar{display:none}.form fieldset{padding:0}.form textarea{resize:none;display:block;height:40px;width:100%;overflow:auto;padding:0 15px;color:#707070;font-size:13px;font-weight:bold;border:0;background-color:#fff;margin:13px 0;-webkit-appearance:none}.form textarea:active,.form textarea:focus,.inputContainer select:active,.inputContainer select:focus{outline:0}.inputContainer{padding:0 15px;border:1px solid #ccc;-webkit-border-radius:3px;-moz-border-radius:3px;-ms-border-radius:3px;-o-border-radius:3px;border-radius:3px;background-color:#fff;margin:0 0 7px 0;position:relative}.inputContainer input,.inputContainer select{width:100%;margin:0;border:0;display:block;line-height:1.2em;padding:10px 0;color:#707070;font-size:13px;font-weight:bold;font-family:inherit;-webkit-appearance:none}.inputContainer input{padding:11px 0}.inputContainer.other-fix{padding:0}.inputContainer select{background-color:#fff;outline:0}#departmentFieldFieldset.safari-fix .inputContainer{position:relative}#departmentFieldFieldset.safari-fix .inputContainer:after{position:absolute;right:24px;top:12px;cursor:pointer;width:10px;height:10px;font-size:10px;padding:0;background:#fff;color:#000;content:'▼';pointer-events:none;cursor:pointer}.inputContainer.error,.form .textareaFieldset.error{border-color:#ef5656;color:#ef5656;margin-bottom:0 !important}.inputContainer.error input,.form .textareaFieldset.error textarea,.inputContainer.error select,.error .form-field-label{color:#ef5656;padding-right:30px}.inputContainer.error input::-webkit-input-placeholder,.form .textareaFieldset.error textarea::-webkit-input-placeholder{color:#ef5656}.inputContainer.valid,.form .textareaFieldset.valid{border-color:#92ed9d}.inputContainer.valid{padding-right:30px}.inputContainer.selection.valid{padding:0}.inputContainer input:active,.inputContainer input:focus{margin:0;border:0;outline:0}.inputContainer input:active+.form-field-label,.inputContainer input:focus+.form-field-label,.textareaFieldset textarea:active+.form-field-label,.textareaFieldset textarea:focus+.form-field-label{display:block}.inputContainer input:active::-webkit-input-placeholder,.inputContainer input:focus::-webkit-input-placeholder,.textareaFieldset textarea:active::-webkit-input-placeholder,.textareaFieldset textarea:focus::-webkit-input-placeholder{color:transparent !important}.inputContainer input:focus::-moz-placeholder,.inputContainer input:active::-moz-placeholder,.textareaFieldset textarea:focus::-moz-placeholder,.textareaFieldset textarea:active::-moz-placeholder{color:transparent !important;opacity:0 !important}.formErrorContainer{display:none;margin:0 0 7px 15px;color:#e52f48}.formErrorIcon{display:none;position:absolute;top:50%;right:10px;-ms-transform:translateY(-50%);-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%);white-space:nowrap}.form-icon{color:white;font-weight:900;position:absolute;right:-2.5px;font-size:11px;top:1.5px}.rtl-direction .formErrorContainer{margin:0 15px 7px 0}.rtl-direction #preChatForm .formErrorContainer,.rtl-direction #offlineForm .formErrorContainer{margin:-6px 0 7px 15px}#formSavingStatus.errorMessage{color:#ef5656;border:0;visibility:visible}#formSavingStatus{font-size:13px;visibility:hidden;margin:0 auto;max-width:260px}#formSavingStatus img{margin:0 0 0 5px}.formButtonContainer{margin:20px 0 0 0}button{display:inline;zoom:1;vertical-align:baseline;outline:0 none;cursor:pointer;text-align:center;text-decoration:none;overflow:visible;margin:0;padding:7px 15px 8px 15px;font-family:inherit;background-color:#c1c1c1;color:#3d3d3d;border:0;float:left;font-weight:bold;font-size:14px}button::-moz-focus-inner{border:0}button:focus{outline:0}button:active{background-color:#ddd}button:hover{background-color:#a9a9a9}.formButton{width:100%;height:50px}#agentTypingContainer .messageBody{font-size:16px !important;font-weight:bold;min-width:auto;line-height:normal}#offlineOverlay,#inactivityOverlay,#maintenanceOverlay{text-align:center;margin-top:100px;font-size:40px;font-weight:bold;height:auto}#formInnerHeight{margin:0 auto}#tawktoLink{color:#4f4f4f;font-size:12px;font-weight:400;text-decoration:none;padding:5px}#tawktoLink:hover{background:#eee;border-radius:3px}#tawktoLink .emojione{margin-left:-5px;margin-right:-5px;height:3ex;width:auto;min-height:20px;min-width:20px;display:inline-block;vertical-align:middle}#tawktoLink b{font-weight:700}#bottomContainer{text-align:center;width:100%;position:absolute;bottom:48px;height:30px;background:#fff;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:30px}.headerBoxLink{width:30px;height:60px;margin:0;display:inline-block;position:relative;grid-row:1;text-decoration:none}#chatMenu{text-decoration:none}.headerBoxLink .headerBoxIcon{font-size:18px;margin:0 auto;display:block;width:18px;line-height:60px;vertical-align:middle}.headerBoxLink#faq{display:none}.headerBoxLink.active::before,#chatMenu.active::before{content:\"\";height:25px;width:25px;background-color:#00000030;position:absolute;border-radius:3px;top:17px;right:3px}#chatMenuControls{background-color:white;width:calc(100vw - 50px);max-width:200px;position:absolute;z-index:9999;border-radius:3px;top:45px;right:0;display:none;border:1px solid #e2e2e2;animation:slideDown .2s;-webkit-animation:slideDown .2s;-moz-animation:slideDown .2s;-o-animation:slideDown .2s}@keyframes slideDown{0%{transform:translateY(-2%)}50%{transform:translateY(-1%)}100%{transform:translateY(0%)}}@-webkit-keyframes slideDown{0%{-webkit-transform:translateY(-2%)}50%{-webkit-transform:translateY(-1%)}100%{-webkit-transform:translateY(0%)}}#chatMenuControls::after{content:\"\";width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-bottom:8px solid white;position:absolute;top:-6px;right:8px}#chatMenuControlsOverlay{position:fixed;top:50px;left:0;height:calc(100vh - 50px);width:100vw}.rtl-direction #chatMenuControls{right:auto;left:0}.rtl-direction #chatMenuControls::after{right:auto;left:8px}#chatMenuControls ul{padding:0;margin:0;list-style:none;text-align:left;padding:10px;position:relative}#chatMenuControls li{padding:10px;cursor:pointer;font-size:14px;color:#434343}#chatMenuControls li:hover{background-color:#53ce3c;color:white;border-radius:3px}.rtl-direction #endChat{margin-right:5px}#endChat .icon{width:11px;height:11px;float:right;margin:2.5px}.black #endChat .icon{background-position:0 0}.white #endChat .icon{background-position:-63px 0}#minimizeChat .icon{width:11px;height:7px;margin:4.5px 2.5px}.black #minimizeChat .icon{background-position:-32px 0}.white #minimizeChat .icon{background-position:-95px 0}#popoutChat .icon{width:10px;height:10px;margin:3px}.isPopout #popoutChat{display:none}.black #popoutChat .icon{background-position:-48px 0}.white #popoutChat .icon{background-position:-111px 0}#openMenu{position:absolute;left:10px;bottom:0;color:#bdbdbd;font-size:13px;font-weight:700;text-decoration:none;line-height:28px;z-index:100001;cursor:pointer;text-transform:lowercase}.rtl-direction #openMenu{right:10px;left:auto}#options{height:32px;margin-left:110px;text-overflow:ellipsis}.rtl-direction #options{margin:0 110px 0 0}.profileImageContainer .agentProfileImage{background-position:0 0;width:28px;height:28px;background-repeat:no-repeat;border-radius:14px;background-image:url('https://static-v.tawk.to/a-v3/images/default-profile.svg');background-size:28px 28px;position:absolute;left:0;top:-9px}#tawkToContent{display:none;position:absolute;top:60px;bottom:0;width:100%;background:#fff;z-index:3}#tawkToContent #formFieldsContainer{left:8px;right:8px;margin:14px 0}#tawkToContent .formFrame{position:absolute;overflow:hidden;top:0;bottom:0;left:0;right:0;height:auto;width:auto}#tawkToContent .contentContainer{position:relative;height:100%;overflow:auto}#tawkToContent .buttonContainer{position:absolute;height:50px;bottom:0;width:100%}#tawkToContent .buttonContainer button{width:50%;height:50px}#tawkHeader{font-size:22px;font-weight:bold;text-align:center;padding:20px 0 12px 0;color:#343434;border-bottom:2px solid #ddd;width:150px;margin:0 auto}#tawkContent{font-size:15px;text-align:center;color:#6c6c6c;margin:12px 0 0}#tawkImage{background-image:url('https://static-v.tawk.to/a-v3/images/tawky.png');background-position:-235px 0;width:78px;height:83px;margin:0 auto}#cancelTawkRedirect{float:left}#tawkRedirect{float:right}#optionsContainer{position:absolute;left:0;width:155px;bottom:0;z-index:1000001;padding:3px;text-align:left}.rtl-direction #optionsContainer{left:auto;right:0}#optionsContainer .item{padding:0 3px;color:#696969;cursor:pointer;font-size:12px;font-weight:bold;line-height:30px;display:inline-block;vertical-align:middle;position:relative;height:30px}.rtl-direction #optionsContainer .item{float:right}#optionsContainer .tooltip{position:absolute;top:0;left:0;background:#333;color:#fff;padding:2px;-ms-transform:translate(-50%,-100%);-webkit-transform:translate(-50%,-100%);-moz-transform:translate(-50%,-100%);-o-transform:translate(-50%,-100%);transform:translate(-50%,-100%);min-width:100px;border-radius:3px;display:none;line-height:20px;position:absolute;left:50%;text-align:center}#soundOption .tooltip{left:0;-ms-transform:translate(0%,-100%);-webkit-transform:translate(0%,-100%);-moz-transform:translate(0%,-100%);-o-transform:translate(0%,-100%);transform:translate(0%,-100%)}#emailTranscriptOption .tooltip{left:-26px;-ms-transform:translate(0%,-100%);-webkit-transform:translate(0%,-100%);-moz-transform:translate(0%,-100%);-o-transform:translate(0%,-100%);transform:translate(0%,-100%)}#optionsContainer .item:hover .tooltip{display:block}#emailTranscriptForm .inputContainer,#changeNameForm .inputContainer,#endChatForm .inputContainer{border:0;margin:0}#offlineForm #messageField{height:85px}#offlineFormContainer.success #offlineForm #overlayOfflineForm{display:block}#overlayOfflineForm{position:absolute;top:50%;-ms-transform:translate(0%,-50%);-webkit-transform:translate(0%,-50%);-moz-transform:translate(0%,-50%);-o-transform:translate(0%,-50%);transform:translate(0%,-50%);bottom:0;left:0;right:0;display:none;z-index:1;background-color:#fff;color:#000;text-align:center;padding:20px 15px;font-size:15px}#overlayOfflineForm #resendButton{margin-top:15px;padding:7px 12px;width:100%;font-weight:700;cursor:pointer;height:40px}#overlayOfflineForm p{font-size:17px}.innerTittle{margin:0;padding:15px 0;text-align:left;font-size:14px}.rtl-direction #formInnerHeight .innerTittle{text-align:right}.rtl-direction #emailTranscriptFormMessageContainer,.rtl-direction #changeNameFormMessageContainer{text-align:right}.rtl-direction .longFormBottomContainer #formCancel,.rtl-direction .longFormBottomContainer #formDecline{float:right;margin-left:6px;order:1}.rtl-direction .longFormBottomContainer #newChat{float:right;margin-left:6px}.rtl-direction .longFormBottomContainer #formSubmit{float:right;order:2}#submitWrapper{position:absolute;bottom:0;height:0;width:auto;right:16px;background:#000;border-radius:4px 4px 0 0;color:#fff;-webkit-transition:height .25s ease;-moz-transition:height .25s ease;-ms-transition:height .25s ease;-o-transition:height .25s ease;transition:height .25s ease;z-index:5}#submitWrapper.visible{height:30px}#submitWrapper p{line-height:30px;padding:0 10px;float:left}.rtl-direction #submitWrapper p{float:right}#submitWrapper .loader{transform:scale(0.3);margin-top:-17px;margin-left:-13px;margin-right:-13px}#submitWrapper .spin:after{background:#fff !important}#agentProfileContainer{width:100%;margin-left:10px;display:none}#agentProfileContainer.show{display:block;animation:fadeIn 1s;-webkit-animation:fadeIn 1s;-moz-animation:fadeIn 1s;-o-animation:fadeIn 1s}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-moz-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-o-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}#profileDetail{height:50px;position:static;width:100%;float:left}#profileDetailNoImage{height:45px;position:static;margin-left:0}#agentWrapper{height:0;display:none;float:left;width:100%;height:45px}.messageStatusContainer.pending .messageTime{display:none}#chatEnded{position:absolute;left:0;bottom:32px;height:87px;width:100%;background:#fff;display:none;z-index:10}#chatEnded .title{text-align:center;font-size:14px;margin:10px 0}#chatEnded .buttonContainer{width:100%;height:50px}#offlineButtonContainer,#prechatButtonContainer{top:auto}#newMessageDivider{margin-top:4px;font-size:.7rem;line-height:.6rem}#newMessageDividerLine{border-top:2px solid #e4c0b6;border-bottom:0;margin:0 0 -1px}#newMessageDividerLabel{background:#fcfcfc;margin:-0.3rem 0;float:right;padding:0 .5rem;color:#e4c0b6}.offlineMessageSuccess{color:#6db626}#newMessageContainer{position:relative;left:-50%;cursor:pointer;display:none}#newMessagesBar{position:absolute;bottom:33px;height:0;width:auto;left:50%;color:#fff;-webkit-transition:all .5s ease;-moz-transition:all .5s ease;-ms-transition:all .5s ease;-o-transition:all .5s ease;transition:all .5s ease;visibility:hidden;cursor:pointer;z-index:0}#newMessagesBar.theme-background-color{background-color:transparent !important}#notificationMessageText{font-weight:700}#newMessageArrowDown{width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #81bd1d;transform:translate(-50%);position:absolute;left:50%;bottom:-5px}#newMessagesNotificationLink{float:left;margin:6px 6px auto auto;font-weight:bold}.rtl-direction #newMessagesNotificationLink{float:right;-ms-transform:rotateY(180deg);-webkit-transform:rotateY(180deg);transform:rotateY(180deg);margin:7px auto auto 7px}#newMessagesBar.visible{height:27px;bottom:90px;visibility:visible}#newMessagesBar.visible #newMessageContainer{display:block}#newMessagesBar p{line-height:27px;padding:0 10px;text-align:center;background-color:#81bd1d;border-radius:5px}.uploaded-image{max-width:100%;max-height:220px;display:block}.download-file{color:inherit;text-decoration:underline;display:block;margin-top:3px}.progress{height:14px;position:relative;background:#eee;box-shadow:0 1px 0 transparent,0 0 0 1px #e3e3e3 inset;width:200px;margin:5px 0;display:inline-block;vertical-align:middle}.progress-bar{display:block;height:100%;background-color:#71a06a;box-shadow:inset 0 2px 9px rgba(255,255,255,0.3),inset 0 -2px 6px rgba(0,0,0,0.4);position:relative;overflow:hidden;box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);-webkit-transition:width .6s ease;-o-transition:width .6s ease;transition:width .6s ease}.upload-data{margin:7px 12px 0 20px;min-width:250px}.upload-data span{font-style:italic}#uploadFileIcon{font-size:18px;vertical-align:middle;width:20px;height:21px;margin-top:5px}.image-loader{display:block;position:relative;width:64px;height:64px;margin:0 auto}.upload-error{margin:5px}.upload-error span{font-size:16px;color:red;font-weight:bold;vertical-align:middle}.drag-over #textareaWrapper:before{text-align:center;margin:0;font-size:25px;height:auto;line-height:68px;color:#ccc;background:#fff;position:absolute;top:0;bottom:0;right:0;left:0;border:3px dashed #ccc;content:'';white-space:pre-line}#drop-text{text-align:center;font-size:25px;height:auto;color:#ccc;position:absolute;top:2px;bottom:2px;right:2px;left:2px;white-space:pre-line;display:none}.drag-over #drop-text{display:block}#drop-text span{display:block;vertical-align:middle;line-height:normal;top:50%;margin-top:-15px;position:relative}.drag-over .drop-text{display:block}.drag-over #chatTextarea{opacity:0}#upload-form{position:absolute;top:-100000px}#uploadFileOption label{display:block;cursor:pointer}.form-field-label.small{color:#b3b3b3;padding:1px 0 0 0;display:none;font-size:10px;position:absolute;top:0;left:4px;font-weight:bold}.rtl-direction .form-field-label.small{left:auto;right:4px}.form-field-label{color:#707070;font-size:13px;font-weight:bold}.selection-label{vertical-align:middle;cursor:pointer}.selection-container{position:relative}.selections-container.error{border:2px solid #e52f48;border-radius:3px;padding:11px 0 11px 11px;position:relative}.agentInfoNoImage{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.messageContainer{position:relative;margin:10px 12px}#agentTypingContainer{position:relative;margin:24px 12px;display:none}.messageContainer{clear:both}.profileImageContainer{height:28px;width:28px;position:absolute}.ownerNameContainer{float:right}.multi-agent .agentChatContainer .ownerNameContainer{float:left;width:100%;position:absolute;bottom:-13px;left:0}.messageOwnerName{color:#757575;font-weight:400;text-decoration:none;font-size:11px !important;margin:0;padding:0;line-height:1;display:block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin-left:40px;vertical-align:bottom}.rtl-direction .messageOwnerName{margin-left:0;margin-right:30px}.messageOwnerName.visitor{text-align:right;margin-right:0;margin-left:0;margin-bottom:3px}.messageOwnerName.agent{display:none}.multi-agent .messageOwnerName.agent{display:inline-block}.rtl-direction .messageOwnerName.visitor{text-align:left}#chatTableWrapper{display:table;height:100%;width:100%;table-layout:fixed}#chatRowWrapper{display:table-row;vertical-align:bottom}#chatCellWrapper{position:relative;display:table-cell;vertical-align:bottom;overflow:hidden}.single-agent .profileImageContainer{display:block;margin-top:8px}.rtl-direction .single-agent .profileImageContainer{margin-top:-3px}.single-agent .agentChatContainer .ownerNameContainer.trigger{display:block}.ownerNameContainer.trigger .messageOwnerName{margin-left:0;margin-right:0}.multi-agent .ownerNameContainer.trigger .messageOwnerName{margin-left:30px;margin-right:0}.rtl-direction .multi-agent .agentChatContainer .message{margin-right:30px;margin-left:40px}.rtl-direction .multi-agent .ownerNameContainer.trigger .messageOwnerName{margin-right:30px;margin-left:0}.single-agent .visitorChatContainer .messageBody,.single-agent .messageOwnerName.visitor{margin-right:0;margin-left:0}.agentChatContainer .messageBody,.agentChatContainer .ownerNameContainer{margin-left:0;margin-right:0;margin-top:0}.agentChatContainer .messageBody{padding-left:38px}.visitorChatContainer .pending .message,.rtl-direction .agentChatContainer .message{animation:slideFromRight .1s;-webkit-animation:slideFromRight .1s;-moz-animation:slideFromRight .1s;-o-animation:slideFromRight .1s;max-width:229px}.visitorChatContainer[style] .message{animation:none}.agentChatContainer .message,.visitorChatContainer .pending .message{animation:slideFromLeft .1s;-webkit-animation:slideFromLeft .1s;-moz-animation:slideFromLeft .1s;-o-animation:slideFromLeft .1s}.agentChatContainer .message.agentTypingIndicator{animation:none}@keyframes slideFromLeft{0%{margin-left:-50px;opacity:0}100%{margin-left:0;opacity:1}}@-webkit-keyframes slideFromLeft{0%{margin-left:-50px;opacity:0}100%{margin-left:0;opacity:1}}@keyframes slideFromRight{0%{margin-right:-100px;opacity:0}100%{margin-right:0;opacity:1}}@-webkit-keyframes slideFromRight{0%{margin-right:-100px;opacity:0}100%{margin-right:0;opacity:1}}#agentTypingContainer .agentChatContainer{margin-bottom:5px}.has-profile-image #headerBoxWrapper,.has-profile-image #headerBox,.has-profile-image #agentWrapper,.has-profile-image #headerBoxControlsContainer{height:60px}.has-profile-image #agentListLabel{margin-top:17px}.selection-container input{margin:0 3px 0 5px}.agentTypingIndicator{position:relative;text-align:center;margin-left:auto;margin-right:auto}.agentTypingIndicator .dot{display:inline-block;width:5px;height:5px;border-radius:50%;margin-right:3px;background:#303131;animation:typing 1.3s linear infinite}.agentTypingIndicator .dot:nth-child(2){animation-delay:-1.1s;-webkit-animation-delay:-1.1s;-moz-animation-delay:-1.1s;-ms-animation-delay:-1.1s;-o-animation-delay:-1.1s}.agentTypingIndicator .dot:nth-child(3){animation-delay:-0.9s;-webkit-animation-delay:-0.9s;-moz-animation-delay:-0.9s;-ms-animation-delay:-0.9s;-o-animation-delay:-0.9s}@keyframes typing{0%,60%,100%{transform:initial}30%{transform:translateY(-10px)}}@-ms-keyframes typing{0%,60%,100%{transform:initial}30%{transform:translateY(-10px)}}@-webkit-keyframes typing{0%,60%,100%{transform:initial}30%{transform:translateY(-10px)}}@-moz-keyframes typing{0%,60%,100%{transform:initial}30%{transform:translateY(-10px)}}@-o-keyframes typing{0%,60%,100%{transform:initial}30%{transform:translateY(-10px)}}.message a{color:inherit}#formContainer .inputContainer.selection:before{content:\"\";position:absolute;right:14px;top:17px;width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #707070;z-index:0}.rtl-direction #formContainer .inputContainer.selection:before{right:auto;left:14px}#formContainer .inputContainer{background-color:#fff;overflow:hidden;position:relative;height:33px}#formContainer .inputContainer select{position:absolute;height:100%;-webkit-appearance:none;-moz-appearance:none;appearance:none;width:90%;background:transparent;font-size:13px;font-weight:600;line-height:1;-webkit-appearance:none;-moz-appearance:none;text-indent:.01px;text-overflow:'';-ms-appearance:none}#formContainer .inputContainer select::-ms-expand{display:none}#endChatOption{display:none}#actionButtonsContainer{position:absolute;right:14px;top:11px}.rtl-direction #actionButtonsContainer{left:0;right:auto}#rateContainer{padding:6px 8px;border-radius:5px;box-shadow:0 3px 15px #cbcbcb;display:none;position:absolute;width:50px;background:#fff;left:-100%;top:-8px;animation:fadeIn .5s;-webkit-animation:fadeIn .5s;-moz-animation:fadeIn .5s;-o-animation:fadeIn .5s}.rtl-direction #rateContainer{left:5px}.rtl-direction #rateNegative{float:right;margin-left:11px !important}.rtl-direction #ratePositive{float:right;margin-left:0}#actionButtonsContainer a{font-size:19px;color:#bdbdbd;text-decoration:none;float:left;margin-left:11px}#actionButtonsContainer a:hover{color:#464646}#rateNegative{margin-left:0 !important;color:#f99 !important}#ratePositive{color:#b4deab !important}#uploadFileOption{margin-left:6px}#viewEmoji{margin-left:12px}.drag-over #viewEmoji{display:none}#emoji-selection-container{position:absolute;bottom:48px;height:185px;background:#f0f0f0;display:none;z-index:2;width:100%;background-color:#f3f3f3}.header-title{text-align:center;margin:5px 0;font-weight:bold;font-size:14px}#tooLongMsgNotification{position:absolute;bottom:20px;z-index:100000;width:100%;text-align:center;display:none;color:red;font-size:12px;background-color:white}#tooLongMsgNotification.visible{display:block}.chatNotifInfoContainer,.callInfoContainer,.callErrorContainer{border:1px solid #ddd;border-radius:5px;padding:10px 8px 10px 8px;display:none;background:#fff}.chatNotifInfoContainer{display:block}.chatNotifIconContainer,.callIconContainer{display:table-cell;width:35px;vertical-align:middle}.chatNotifIconWrapper,.callIconWrapper{width:35px;height:35px;border-radius:50%;vertical-align:middle;display:inline-block}.callDetailsContainer{display:table-cell;vertical-align:middle;padding-left:5px}.rtl-direction .callDetailsContainer{padding-right:5px}.chatNotifDetailsContainer{display:inline-block;vertical-align:middle;margin-left:5px}.chatNotifTitle,.callTitle{font-size:15px;font-weight:bold;color:black}.callEndDetails{display:none;margin-top:5px;color:black}.callEndDetails,.callTitle{color:#3e3e3e}.callErrorContainer .callEndDetails{display:block}.callInfoWrapper{display:table}.callRetryContainer{display:inline-block;position:absolute;right:10px;top:50%;transform:translateY(-50%)}.callLoader .loader{transform:scale(0.3);margin-left:-10px}.rtl-direction .callRetryContainer{right:auto;left:10px}.retry-load{float:none;background:#fafafa;color:#717171;border:1px solid #d3d3d3}#chatEnded{width:100%;height:auto}.longFormContainer{position:relative;display:block;background-color:white;width:100%;z-index:4;margin:0 auto;box-sizing:border-box;border-radius:3px;font-weight:400;font-size:15px;color:#464646;overflow:hidden;height:auto}.rtl-direction #formContainer>#emailTranscriptForm .form-header-text,.rtl-direction #changeNameForm .form-header-text,.rtl-direction #chatEndedForm .form-header-text,.rtl-direction #offlineForm .longFormContainer .form-header-text,.rtl-direction #preChatForm .longFormContainer .form-header-text{padding-right:5px}.rtl-direction #formContainer>#emailTranscriptForm .formMessageField,.rtl-direction #offlineForm .formMessageField,.rtl-direction #preChatForm .formMessageField{text-align:unset}#offlineFormContainer,#prechatFormContainer{height:calc(100% - 250px);display:none;position:relative}#chatEndedForm #emailTranscriptForm{position:relative;height:auto}#offlineForm #formInnerHeight,#preChatForm #formInnerHeight{max-width:100%}#form-container::-webkit-scrollbar,#form-container.longFormContainer::-webkit-scrollbar,#tawkToContent .contentContainer::-webkit-scrollbar{display:none}.form-header-icon{background-color:#53ce3c;display:inline-block;height:30px;width:30px;margin-right:10px;line-height:34px;border-radius:5px;box-sizing:border-box;color:white;font-size:22px;text-align:center}.rtl-direction .form-header-icon{margin-left:10px;margin-right:0}.form-header-text{display:inline-block;line-height:30px;height:30px;vertical-align:top;font-weight:600;font-size:15px}#endChatForm #endChatFormMessageContainer{display:block;font-weight:600;font-size:15px;height:auto;color:#464646;padding:0}#formContainer>#emailTranscriptForm::before,#changeNameForm::before,#chatEndedForm::before,#endChatForm::before{content:\"\";height:100%;width:2px;background-color:#4ac735;position:absolute;left:0;top:0;border:1px solid #53ce3c;border-top-left-radius:3px;border-bottom-left-radius:3px;z-index:9;display:none}#controlsWrapper{position:relative}#offlineForm .formMessageField,#preChatForm .formMessageField{padding:10px 15px;text-align:center;margin-bottom:14px;font-size:14px;-webkit-transition:height .16s ease-out;transition:height .16s ease-out}#formContainer .inputContainer{border:0;padding:0;border-radius:5px;margin:0 0 11px 0;height:42px}#formContainer .textareaFieldset>.inputContainer,#formContainer>#emailTranscriptForm input,#formContainer .inputContainer input,#formContainer .inputContainer select,#formContainer .inputContainer input{box-shadow:none;height:100%;border-style:solid;border-color:#d0d0d0;box-sizing:border-box;display:inline-block;padding-left:11px;width:100%;border-width:2px;color:#656565;font-weight:700;border-radius:5px;width:100%}.rtl-direction #offlineForm .textareaFieldset>.inputContainer,.rtl-direction #preChatForm .textareaFieldset>.inputContainer,.rtl-direction #formContainer>#emailTranscriptForm input,.rtl-direction #changeNameForm .inputContainer input,.rtl-direction #chatEndedForm .inputContainer select,.rtl-direction #chatEndedForm .inputContainer input,.rtl-direction #offlineForm .inputContainer select,.rtl-direction #offlineForm .inputContainer input,.rtl-direction #preChatForm .inputContainer select,.rtl-direction #preChatForm .inputContainer input{padding-left:5px;padding-right:11px}.rtl-direction #changeNameForm .formErrorIcon,.rtl-direction #emailTranscriptForm .formErrorIcon,.rtl-direction #offlineForm .formErrorIcon,.rtl-direction #preChatForm .formErrorIcon{left:15px;right:auto}.rtl-direction #offlineForm .selection-container .selection-input-css-placeholder,.rtl-direction #preChatForm .selection-container .selection-input-css-placeholder{left:auto;right:0}.rtl-direction #offlineForm .selection-label,.rtl-direction #preChatForm .selection-label{padding-right:27px}#offlineForm .textareaFieldset>.error.inputContainer,#preChatForm .textareaFieldset>.error.inputContainer,#chatEndedForm .inputContainer.error select,#offlineForm .inputContainer.error select,#preChatForm .inputContainer.error select,.error.inputContainer input{border-color:#e52f48 !important}.inputContainer.error textarea::placeholder{color:#e52f48 !important}#offlineForm .textareaFieldset>.inputContainer,#preChatForm .textareaFieldset>.inputContainer{height:70px;padding:11px 0 11px 11px}#offlineForm .textareaFieldset .inputContainer textarea,#preChatForm .textareaFieldset .inputContainer textarea{margin:0;padding:0;height:100%;padding-right:11px;box-sizing:border-box}#changeNameForm fieldset,#emailTranscriptForm fieldset,#offlineForm fieldset,#preChatForm fieldset{position:relative}#chatEndedForm .inputContainer select option:disabled,#offlineForm .inputContainer select option:disabled,#preChatForm .inputContainer select option:disabled{display:none}#chatEndedForm .inputContainer.error select,#offlineForm .inputContainer.error select,#preChatForm .inputContainer.error select{color:#ef5656}#chatEndedForm .inputContainer.error select option,#offlineForm .inputContainer.error select option,#preChatForm .inputContainer.error select option{color:#656565}.longFormBottomContainer{width:100%;float:none;box-sizing:border-box;min-height:42px;margin-bottom:15px;grid-template-columns:1fr 1fr;grid-gap:12px;display:-ms-grid;display:grid;-ms-grid-columns:1fr 1fr}.longFormBottomContainer .clear{grid-column:span 2;-ms-grid-column-span:2}.has-required .longFormBottomContainer{display:block}#formCancel,#formDecline{-ms-grid-row:1;-ms-grid-column:1}#formSubmit{-ms-grid-row:1;-ms-grid-column:2}.formButton{height:100%;border-radius:5px;background-color:#d6d6d6;min-height:42px}#formSubmit-pc,#formSubmit{float:right}#changeNameForm .formErrorContainer,#emailTranscriptForm .formErrorContainer,#offlineForm .formErrorContainer,#preChatForm .formErrorContainer{margin:7px 0;text-align:right;font-size:13px;font-weight:600}#formContainer>#emailTranscriptForm #emailTranscriptFormMessageContainer,#changeNameForm #changeNameFormMessageContainer,#chatEndedForm #emailTranscriptFormMessageContainer{background-color:white;padding:15px 0}#formContainer>#emailTranscriptForm #formSavingStatus,#changeNameForm #formSavingStatus,#endChatForm #formSavingStatus,#chatEndedForm #formSavingStatus{display:none}#chatEndedForm #submitWrapper{bottom:32px;right:5px;display:none}#chatEndedForm #form-header{padding-top:12px}#changeNameForm #nameFieldError,#emailTranscriptForm #transcriptEmailFieldError,#chatEndedForm #transcriptEmailFieldError{color:#ef5656;font-size:13px}#circle-progress-bar-border{height:34px;width:34px;display:inline-block;padding:7px;border-radius:3px;border-width:1px;border-style:solid;border-color:#f4f4f4 !important;background:#fff}#circle-progress-bar-container{height:100%;width:100%;display:inline-block}#circle-progress-bar{height:100%;width:100%;overflow:hidden;border-radius:50%;position:relative;background-color:#e3e3e3;display:inline-block}#circle-progress-bar .inner-content{background-color:white;height:calc(100% - 5px);width:calc(100% - 5px);border-radius:50%;position:absolute;transform:translate(-50%,-50%);top:50%;left:50%;z-index:9999}#circle-progress-bar .circle-progress-clip{height:100%;width:50%;position:absolute;top:0;z-index:11;left:0;border-top-left-radius:50%;border-bottom-left-radius:50%;background:#e3e3e3}#circle-progress-bar .circle-progress-right,#circle-progress-bar .circle-progress-left{left:0;border-top-left-radius:50%;border-bottom-left-radius:50%;background:#4f4f4f;transform-origin:right center;transform:rotate(0deg);height:100%;width:50%;z-index:10;position:absolute}#circle-progress-bar .circle-progress-right{display:none;transform:rotate(180deg)}#upload-info-container .file-name{display:block;margin:0 0 0 5px;font-weight:700;font-size:14px;font-style:normal}#upload-info-container .file-status{display:block;margin:0 0 0 5px;font-weight:400;font-size:13px;font-style:normal}#upload-info-container{display:inline-block;height:100%;vertical-align:top;text-align:left;width:calc(100% - 60px);margin-left:10px}#upload-info-container #upload-info{display:table;height:100%}#upload-info-container #upload-info .wrapper{display:table-cell;vertical-align:middle}#upload-info-container .upload-icon{display:none}#circle-progress-bar .inner-content .icon{font-style:normal;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:25px;color:#4f4f4f}.upload-data{margin:24px 15px 12px 16px;display:inline-block;text-align:right;height:72px;padding:11px;border-radius:3px;border-width:1px;border-style:solid;border-color:#f4f4f4 !important;float:right;min-width:auto;position:relative;box-sizing:border-box}.visitorChatContainer .messageStatusContainer.messageTimeContainer,.agentChatContainer .messageStatusContainer.messageTimeContainer{position:absolute;top:auto;bottom:-13px;left:0;right:auto;width:auto;margin:0;padding:0}.agentChatContainer .messageStatusContainer.messageTimeContainer{right:0;left:auto}#offlineForm .selection-container,#preChatForm .selection-container{position:relative;margin:11px 0;width:calc(100% - 30px);display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}#offlineForm .selection-container .selection-input-css-placeholder,#preChatForm .selection-container .selection-input-css-placeholder{width:14px;height:14px;position:absolute;border-radius:4px;border-color:#d4d4d4;border-width:2px;border-style:solid}#offlineForm .selection-container.radio .selection-input-css-placeholder,#preChatForm .selection-container.radio .selection-input-css-placeholder{border-radius:50%}#offlineForm .selection-container.checkbox .selection-input-css-placeholder::after,#preChatForm .selection-container.checkbox .selection-input-css-placeholder::after{content:'';width:8px;height:3px;position:absolute;top:4px;left:2px;border:2px solid #53ce3c;border-top:0;border-right:0;background:transparent;opacity:0;transform:rotate(-55deg)}#offlineForm .selection-container.radio .selection-input-css-placeholder::after,#preChatForm .selection-container.radio .selection-input-css-placeholder::after{content:'';display:inline-block;width:calc(100% - 6px);height:calc(100% - 6px);top:50%;left:50%;transform:translate(-50%,-50%);position:absolute;border-radius:50%;background:#53ce3c;opacity:0}#offlineForm .selection-container.radio input[type=radio],#offlineForm .selection-container.checkbox input[type=checkbox],#preChatForm .selection-container.radio input[type=radio],#preChatForm .selection-container.checkbox input[type=checkbox]{display:none}.rtl-direction #offlineForm .selection-container.radio input[type=radio],.rtl-direction #offlineForm .selection-container.checkbox input[type=checkbox],.rtl-direction #preChatForm .selection-container.radio input[type=radio],.rtl-direction #preChatForm .selection-container.checkbox input[type=checkbox]{margin-right:-20px}#offlineForm .selection-container.radio input[type=radio]:checked+.selection-input-css-placeholder::after,#offlineForm .selection-container.checkbox input[type=checkbox]:checked+.selection-input-css-placeholder::after,#preChatForm .selection-container.radio input[type=radio]:checked+.selection-input-css-placeholder::after,#preChatForm .selection-container.checkbox input[type=checkbox]:checked+.selection-input-css-placeholder::after{opacity:1}#offlineForm .selection-label,#preChatForm .selection-label{color:#707070;font-size:13px;font-weight:bold;padding-left:27px;position:relative}.uploaded-file-name{margin-top:3px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.uploaded-file-info{display:grid;grid-template-columns:auto auto 1fr;grid-gap:5px;font-size:12px;align-content:normal;justify-content:center;vertical-align:middle;display:-ms-grid;-ms-grid-columns:auto auto 1fr}.uploaded-file-info .uploaded-file-name{-ms-grid-row:1;-ms-grid-column:1}.uploaded-file-info .uploaded-file-size{-ms-grid-row:1;-ms-grid-column:2}.uploaded-file-info .download-file{-ms-grid-row:1;-ms-grid-column:3}.download-file{text-transform:capitalize}.uploaded-file-size{margin-top:4px;font-size:11px}.file-upload-not-img-vid-audio .uploaded-file-name{margin-top:0}.file-upload-not-img-vid-audio .file-size{text-transform:lowercase;margin-top:3px}.file-upload-not-img-vid-audio .separator{margin-top:3px}#incoming-call{background-color:#f8f8f8;padding:13px 13px 12px 13px;box-sizing:border-box;border:#e6e6e6 1px solid;position:absolute;top:0;width:100%;z-index:5}#incoming-call-container{text-align:center}#incoming-call-container .header-label{display:inline-block;line-height:28px;vertical-align:top;font-weight:600;font-size:15px;margin-left:5px;color:#3e3e3e}.rtl-direction #incoming-call-container .header-label{margin-right:5px}#incoming-call .profileImageContainer{position:relative;display:inline-block}.profileImageContainer .incomingCallAgentProfileImage{width:28px;height:28px;background-repeat:no-repeat;background-image:url('https://static-v.tawk.to/a-v3/images/default-profile.svg');background-size:28px 28px;position:absolute;left:0;display:block;border-radius:50%}#incoming-call-buttons{margin-top:16px}#incoming-call-buttons button{width:calc(50% - 5px);border-radius:5px;border:0;display:inline-block;color:#fff;height:42px;cursor:pointer;padding:0;margin:0}.rtl-direction #incoming-call-buttons{direction:ltr}#incoming-call-buttons button .btn-icon{font-size:17px;color:white;display:inline-block;line-height:41px;vertical-align:top}#incoming-call-buttons button .btn-label{display:inline-block;margin-left:10px;line-height:41px;font-weight:600}#decline-call .btn-icon{transform:rotate(135deg)}#decline-call{background-color:#e52f48;float:right}#accept-call{background-color:#48c82e;float:left}.rtl-direction #decline-call{float:left}.rtl-direction #accept-call{float:right}.visitorChatContainer .ownerNameContainer{display:none}#file-upload-drop-container{display:none;background-color:#fff;box-sizing:border-box;position:absolute;bottom:0;height:80px;width:100%;z-index:10}#fileUploadWrapper{border:#e4e4e4 solid 1px;border-radius:5px;background-color:#f1f1f1;height:calc(100% - 15px);width:90%;margin:10px auto 0;position:relative}#file-upload-drop-icon-label-container{transform:translate(-50%,-50%);position:absolute;top:50%;left:50%;width:100%}#file-upload-drop-icon{font-size:30px;display:block;font-weight:600;text-align:center}#file-upload-drop-label{font-size:15px;display:block;font-weight:600;text-align:center;color:#464646;margin-top:5px}.drag-over #actionsContainer{display:none}.drag-over #file-upload-drop-container{display:block}#tooLongMsgNotification{height:42px;position:absolute;width:calc(100% - 30px);left:15px;margin-top:10px;border-radius:5px;line-height:42px;text-align:center}#notifMessageText{margin-left:5px}.chatNotifIconContainer,.callIconContainer{display:inline-block;height:30px;width:30px;border-radius:5px;color:white;position:relative;background-color:#919191}.rtcIcon,.callIcon{display:inline-block;position:relative;top:8px}.chatNotifInfoWrapper,.callInfoWrapper{height:30px}.callInfo{vertical-align:top;line-height:32px;margin-left:10px;font-weight:600;font-size:15px}.chatNotifIconWrapper,.callIconWrapper{display:inline-block;font-size:17px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);text-align:center}.callInfoElapsedTime{position:absolute;bottom:8px;right:13px;font-size:13px;color:#bdbdbd}.embedded #consentForm #formCancel{display:none !important}.popup #consentForm #formCancel{display:block !important}.popup #consentForm #formSubmit{width:50% !important}#consentForm .innerTittle,#tawkToContent .innerTittle{text-align:center}#consentForm .formCell,#tawkToContent .formCell{vertical-align:middle}.rtl-direction .uploadFailedNotifLabel,.rtl-direction #maxFileNotifLabel,.rtl-direction #maxSizeNotifLabel{margin-right:10px}#contentContainer{position:absolute;top:59px;bottom:0;width:100%;height:auto;z-index:1;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;display:-ms-flexbox;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column}#chatPanel,#formContainer{-ms-flex-grow:1;-webkit-flex-grow:1;-moz-flex-grow:1;flex-grow:1;flex-shrink:1;position:relative;-ms-flex:1}#formContainer{display:none;background:#fff}.chatEndVisible #chatPanel{display:block !important}.chatEndVisible #formContainer{position:fixed;bottom:5px;z-index:99999;background:#fff;left:1px;right:1px;width:auto}.chatEndVisible #formFieldsContainer,.chatEndVisible .form{position:static}#greetingsMainContainer{transition:max-height .25s ease-out,opacity .5s ease;-webkit-transition:max-height .25s ease-out,opacity .5s ease;-moz-transition:max-height .25s ease-out,opacity .5s ease;-ms-transition:max-height .25s ease-out,opacity .5s ease;height:auto;max-height:100%}#greetingsMainContainer.minimize{max-height:0;opacity:0}#greetingsContent{padding:5px 15px 20px;text-align:center;font-size:14px;font-weight:400;display:none}#formFieldsContainer{margin:14px 0 0;position:absolute;width:auto;left:7px;right:0;bottom:0;top:0;height:auto;overflow:scroll;overflow-x:auto;animation:slideFadeIn .25s ease;-webkit-animation:slideFadeIn .25s ease;scrollbar-width:thin;scrollbar-color:#fff #fff;-ms-overflow-style:-ms-autohiding-scrollbar;box-sizing:border-box}#formContainer.has-required #formCancel,#formContainer.has-required #formDecline{display:none}#formContainer.has-required #formSubmit{float:none !important;width:100% !important}.formTable{display:table;width:100%;table-layout:fixed;height:100%}.formRow{display:table-row}.formCell{display:table-cell;vertical-align:bottom}.formFrame{border:1px solid #e4e4e4;border-radius:3px;padding:16px 15px 0}.field-error{font-size:17px;color:#ef5656}.rtl-direction .message.agentTypingIndicator::after,.rtl-direction .message.agentTypingIndicator::before,.rtl-direction .upload-data::after,.rtl-direction .upload-data::before,.rtl-direction .messageContainer .messageWrapper .message::after,.rtl-direction .messageContainer .messageWrapper .message::before{transform:rotate(180deg)}.rtl-direction .upload-data::after,.rtl-direction .upload-data::before,.rtl-direction .messageContainer.visitorChatContainer .messageWrapper .message::after,.rtl-direction .messageContainer.visitorChatContainer .messageWrapper .message::before{left:auto;right:100%}.rtl-direction .message.agentTypingIndicator::after,.rtl-direction .message.agentTypingIndicator::before,.rtl-direction .messageContainer.agentChatContainer .messageWrapper .message::after,.rtl-direction .messageContainer.agentChatContainer .messageWrapper .message::before{right:auto;left:100%}.border-corner{border-radius:5px 5px 0 0}.roundWidget #innerWrapper.border-corner{border-radius:5px}.embedded .border-corner{border-radius:0 !important}.embedded #innerWrapper{border:0}.time-agent-display{display:grid;grid-template-columns:1fr auto;grid-gap:5px;font-size:12px;display:-ms-grid;-ms-grid-columns:1fr}.time-agent-display .agent-div{-ms-grid-row:1;-ms-grid-column:1;float:left}.time-agent-display .time-div{-ms-grid-row:1;-ms-grid-column:2;font-size:11px;float:left}@keyframes slideFadeIn{0%{opacity:0;transform:translate(0,30px)}to{opacity:1;transform:translate(0,0px)}}#textareaSubmitContainer{width:45px;height:40px;position:absolute;right:0;display:none;top:0}.rtl-direction #textareaSubmitContainer{left:0;right:auto}.icon-mobile-submit{text-align:center;position:relative;top:0;padding-top:11px;font-size:21px;height:40px}#actionsContainer.mobile-typing #textareaSubmitContainer{display:block}#actionsContainer.mobile-typing #actionButtonsContainer{right:45px}.rtl-direction #actionsContainer.mobile-typing #actionButtonsContainer{left:45px}#actionsContainer.mobile-typing #rateMainWrapper,#actionsContainer.mobile-typing #uploadFileOption{display:none}.rtl-direction #rateMainWrapper,.rtl-direction #uploadFileOption,.rtl-direction #viewEmoji{float:right}.agent-profile-detailed{float:none;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-left:5px}.agent-profile-detailed strong{font-weight:bold}.multiple-agent .agent-profile-detailed{display:none}#headerAccountStateContainer.multiple-agent #agentProfileContainer.show{display:block}.rtl-direction .agent-profile-detailed{margin-left:auto;margin-right:20px}.rtl-direction #shortMessage{margin-left:auto;margin-right:10px}.agentDetailedInfo{position:relative;top:50%;-ms-transform:translateY(-50%);-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%)}.agentDetailedInfo,.agentDetailedInfo p{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mobile .headerBoxLink .headerBoxIcon{width:21px}.mobile .headerBoxLink .headerBoxIcon,.mobile #actionButtonsContainer a{font-size:21px}.mobile #rateContainer{width:53px}.mobile #changeNameForm.form,.mobile #emailTranscriptForm.form,.mobile #endChatForm.form,.mobile #formInnerHeight{max-width:350px}.mobile button{font-size:15px}.mobile .longFormBottomContainer{height:auto}.mobile .longFormContainer{padding-bottom:15px}.mobile .formMessageField.innerTittle,.mobile .formMessageField,.mobile .form-header-text{font-size:15px}.mobile #endChatForm .longFormContainer{padding-bottom:0}.mobile .form-header-icon{font-size:24px;width:31px;height:31px}#hidableActionsWrapper{float:left}",p.MinifiedStyle="body{font-family:Helvetica,Arial,sans-serif}body.font-lato{font-family:'Lato','Open Sans',sans-serif !important}*{font-family:inherit}.rtl-direction{direction:rtl}#tawkchat-minified-box{height:100%;width:100%;overflow:hidden}#tawkchat-minified-wrapper{z-index:999997;cursor:pointer;height:100%;width:100%}#tawkchat-minified-box.round{width:60px;height:60px}#tawkchat-status-container{height:100%;width:auto;display:inline-block;position:absolute}#tawkchat-status-agent-container{height:100%;width:100%;display:none;margin-right:5px;position:relative}#tawkchat-status-icon-container{margin-right:5px}#tawkchat-status-icon-container,#tawkchat-status-text-container{display:inline-block;vertical-align:top}.round #tawkchat-status-text-container{width:60px;height:60px;display:block;border-radius:50%}.round #tawkchat-status-agent-container{height:60px;width:60px;display:none;margin:0;position:relative}.round.open #tawkchat-status-agent-container{display:none !important}.center #tawkchat-minified-wrapper{position:absolute}#tawkchat-status-agent-container #agent-profile-image{background-image:url('https://static-v.tawk.to/a-v3/images/default-profile.svg');background-size:32px 32px;height:32px;width:32px;display:inline-block;position:absolute;top:50%;-webkit-transform:translateY(-50%);-moz-transform:translateY(-50%);-ms-transform:translateY(-50%);-o-transform:translateY(-50%);transform:translateY(-50%);border-radius:50%}.round #tawkchat-status-agent-container #agent-profile-image{height:60px;width:60px;background-size:60px 60px;position:static;transform:translate(0)}#tawkchat-minified-border{margin:0;border:0 none;padding:0;background-color:#000;filter:alpha(opacity=40);opacity:.4;position:absolute;z-index:999998;border-radius:4px 4px 0 0;-moz-border-radius:4px 4px 0 0;-webkit-border-radius:4px 4px 0 0;width:100%;height:100%;right:0;bottom:0}#tawkchat-minified-container{margin:0;border:0 none;padding:0;cursor:pointer;z-index:999999;position:absolute;top:0;bottom:0;width:auto;height:auto;left:0;right:0;border-bottom:0}#tawkchat-status-middle{border:0 none;margin:0 auto;font-size:17px;vertical-align:middle;position:absolute;top:50%;left:15px;right:15px;transform:translate(0%,-50%);-webkit-transform:translate(0%,-50%);-moz-transform:translate(0%,-50%);-ms-transform:translate(0%,-50%);-o-transform:translate(0%,-50%)}#tawkchat-status-message{border:0 none;margin:0 26px 0 0;padding:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:left;font-size:17px}.rtl-direction #tawkchat-status-message{margin:0 0 0 26px;text-align:right}#tawkchat-chat-bubble{border:0 none;padding:0;margin:0;width:190px;height:65px;position:absolute;top:0;display:none;right:32px}.left #tawkchat-chat-bubble{right:2px}#tawkchat-chat-bubble-text-container{border:0 none;padding:0;margin:0 0 0 -58px;width:111px;height:65px;position:absolute;z-index:10;font-style:italic;font-size:15px;top:5px;left:50%;right:auto;text-align:center;overflow:hidden;text-overflow:ellipsis;display:table}.rtl-direction #tawkchat-chat-bubble-text-container{right:50%;left:auto;margin:0 -58px 0 0}#tawkchat-chat-bubble-text{margin:0;display:table-cell;vertical-align:middle}#tawkchat-chat-bubble-graphics-container{border:0 none;padding:0;margin:0;width:146px;height:85px}#tawkchat-chat-bubble-canvas{width:146px;height:85px;border:0 none;padding:0;margin:0}#tawkchat-minified-agent-container{float:left;width:100%;display:none}#tawkchat-minified-agent-information-wrapper{border:0 none;margin:0 88px 0 0;padding:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:left;font-size:17px}.hasImage #tawkchat-minified-agent-information-wrapper{margin-left:60px}#tawkchat-minified-agent-name{border:0 none;padding:0;margin:0;font-weight:bold}.agentNameCentered{margin-top:17px}.agentContainerNoImage{margin-right:26px;margin-left:0}.rtl-direction .agentContainerNoImage{margin-left:19px;margin-right:0}.agentContainer{margin:6px 20px 5px 45px}.rtl-direction .agentContainer{margin-right:45px;margin-left:20px}#tawkchat-minified-agent-position{border:0 none;padding:0;margin:0;font-style:italic}#tawkchat-chat-indicator{text-align:center;border-radius:50%;width:100%;height:100%;border:0 none;margin:0;position:absolute;top:0;right:auto;z-index:1000000;display:none;background:#e52f48}#tawkchat-chat-indicator-text{border:0 none;padding:0;overflow:hidden;vertical-align:baseline;font-weight:bold;font-size:13px;text-align:center;color:white;z-index:1000001;display:block;line-height:21px;width:100%;height:100%}#maximizeChat,#popoutChat{width:16px;height:16px;margin:0;z-index:100001}#maximizeChat,#minimizeChatMinifiedBtn{display:inline-block;font-size:32px;height:100%;width:auto;text-align:center;cursor:pointer}#short-message{display:inline-block;width:auto;cursor:pointer;font-size:15px}#profileDetail{position:static;width:100%;float:left}.agentInformationContainer p{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.position-label{font-size:12px}.agentInfoNoImage{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.image-bubble-close{width:15px;height:15px;float:right;margin:0 2.5px;cursor:pointer;display:block;visibility:hidden}.image-bubble-close:before,.image-bubble-close:after{position:absolute;right:5px;content:' ';height:15px;width:2px;background-color:#333}.image-bubble-close:before{transform:rotate(45deg)}.image-bubble-close:after{transform:rotate(-45deg)}#bubble-image{cursor:pointer}#bubble-image.gallery-bubble{position:absolute;top:11px;bottom:0;left:0;right:0}.image-canvas-close{border:0 none;padding:0;margin:0;width:10px;height:13px;position:absolute;right:6px;top:3px;font-size:12px;cursor:pointer;z-index:20}.image-loader{display:block;position:relative;width:64px;height:64px;margin:0 auto}.uploaded-image{width:100%;height:auto;display:block;max-width:220px;margin:0 auto}.uploaded-file-name{margin-top:3px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.uploaded-file-info{display:grid;grid-template-columns:auto auto 1fr;grid-gap:5px;font-size:12px;align-content:normal;justify-content:center;vertical-align:middle;display:-ms-grid;-ms-grid-columns:auto auto 1fr}.uploaded-file-info .uploaded-file-name{-ms-grid-row:1;-ms-grid-column:1}.uploaded-file-info .uploaded-file-size{-ms-grid-row:1;-ms-grid-column:2}.uploaded-file-info .download-file{-ms-grid-row:1;-ms-grid-column:3}.download-file{text-transform:capitalize}.uploaded-file-size{margin-top:4px;font-size:11px}.file-upload-not-img-vid-audio .uploaded-file-name{margin-top:0}.file-upload-not-img-vid-audio .file-size{text-transform:lowercase;margin-top:3px}.file-upload-not-img-vid-audio .separator{margin-top:3px}.download-file{color:inherit;text-decoration:underline;display:block;margin-top:3px}.imageMessageBody{padding-right:13px !important}.rtl-direction .image-canvas-close{left:6px !important;right:auto !important}.no-border #tawkchat-minified-container{border:none !important;top:0 !important;left:0 !important;right:0 !important}.top #tawkchat-chat-bubble-text-container{margin-top:10px !important}.top #tawkchat-chat-bubble-close{bottom:0 !important;right:0 !important;position:absolute !important}.default.top #tawkchat-chat-bubble-close{bottom:3px !important;right:6px !important;top:auto !important}.profileImageContainer .agentProfileImage{width:28px;height:28px;background-repeat:no-repeat;border-radius:14px;background-image:url('https://static-v.tawk.to/a-v3/images/default-profile.svg');background-size:28px 28px;position:absolute;left:-38px;display:block;background-color:#fff;background-position:0 0}.center-right #tawkchat-chat-bubble-close{float:left}.center.right .profileImageContainer .agentProfileImage,.top.right .profileImageContainer .agentProfileImage,.bottom.right .profileImageContainer .agentProfileImage{left:-38px;right:auto}.rtl-direction.center.right .profileImageContainer .agentProfileImage,.rtl-direction.top.right .profileImageContainer .agentProfileImage,.rtl-direction.bottom.right .profileImageContainer .agentProfileImage{left:auto;right:-38px}.center.left .profileImageContainer .agentProfileImage,.top.left .profileImageContainer .agentProfileImage,.bottom.left .profileImageContainer .agentProfileImage{left:-38px;right:auto}.rtl-direction.center.left .profileImageContainer .agentProfileImage,.rtl-direction.top.left .profileImageContainer .agentProfileImage,.rtl-direction.bottom.left .profileImageContainer .agentProfileImage{left:auto;right:-38px}#incoming-call .profileImageContainer{position:relative}.profileImageContainer .incomingCallAgentProfileImage{width:28px;height:28px;background-repeat:no-repeat;background-image:url('https://static-v.tawk.to/a-v3/images/default-profile.svg');background-size:28px 28px;position:absolute;left:0;display:block;border-radius:50%;background-position:0 0}#incoming-call-container .header-label{display:inline-block;line-height:28px;vertical-align:top;font-weight:600;font-size:15px;margin-left:33px;color:#3e3e3e}#tawkchat-message-preview-container{height:100%;box-sizing:border-box}.bottom#tawkchat-message-preview-container{position:absolute;bottom:0;top:auto;width:100%;height:auto}.top#tawkchat-message-preview-container{top:0;bottom:auto;width:100%;height:auto;position:absolute}.center#tawkchat-message-preview-container{top:0;bottom:auto;position:absolute;width:100%;height:auto}#tawkchat-message-preview-messages-container{max-height:calc(100vh - 110px);margin-bottom:10px;overflow:auto}#tawkchat-message-preview-messages-container *{cursor:pointer}#tawkchat-message-preview-messages-container::-webkit-scrollbar{display:none}#tawkchat-message-preview-messages-container .message-preview-item{position:relative;opacity:0;transition:opacity .5s ease-in-out;-moz-transition:opacity .5s ease-in-out;-webkit-transition:opacity .5s ease-in-out;margin-bottom:10px}#tawkchat-message-preview-messages-container .message-preview-item.animate-fade-object{opacity:1}#tawkchat-message-preview-messages-container .messageBody{position:relative;height:auto;padding:15px 25px 15px 13px;box-sizing:border-box;border-width:1px;border-style:solid;border-radius:5px;border-color:#e9e9e9}#tawkchat-message-preview-messages-container .message-preview-item:last-child{margin-bottom:0}#tawkchat-message-preview-messages-container .messageBody:after,#tawkchat-message-preview-messages-container .messageBody:before{right:100%;top:15px;border:solid transparent;content:\" \";height:0;width:0;position:absolute;pointer-events:none}#tawkchat-message-preview-messages-container .messageBody:after{border-color:rgba(255,255,255,0);border-right-color:#fff;border-width:6px;margin-top:-6px}#tawkchat-message-preview-messages-container .messageBody:before{border-color:rgba(170,170,170,0);border-right-color:#ddd;border-width:7px;margin-top:-7px}.rtl-direction #tawkchat-message-preview-messages-container .messageBody:after,.rtl-direction #tawkchat-message-preview-messages-container .messageBody:before{left:100%;right:unset}.rtl-direction #tawkchat-message-preview-messages-container .messageBody:after{border-right-color:transparent;border-left-color:#fff}.rtl-direction #tawkchat-message-preview-messages-container .messageBody:before{border-right-color:transparent;border-left-color:#ddd}#tawkchat-message-preview-messages-container .message{color:#464646;font-weight:400;font-size:14px;white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word}#tawkchat-message-preview-messages-container .messageTimeContainer,#tawkchat-message-preview-messages-container .messageNameContainer{display:inline-block;font-size:13px;color:#bdbdbd}#tawkchat-message-preview-messages-container .messageInformation{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;padding-top:5px}#tawkchat-message-preview-messages-container .messageNameContainer{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1}#tawkchat-message-preview-messages-container .message-preview-close-button{top:8px;right:8px;z-index:5;position:absolute;color:#bdbdbd;font-size:14px;cursor:pointer;display:none}#tawkchat-message-preview-messages-container .hidden-profile .profileImageContainer,#tawkchat-message-preview-messages-container .hidden-profile .messageBody::after,#tawkchat-message-preview-messages-container .hidden-profile .messageBody::before{display:none}#tawkchat-message-preview-quick-reply-container{position:relative;float:right;width:340px;height:auto;overflow:hidden !important}.center.right #tawkchat-message-preview-messages-container,.center.right #tawkchat-message-preview-quick-reply-container,.bottom.right #tawkchat-message-preview-messages-container,.top.right #tawkchat-message-preview-messages-container,.top.right #tawkchat-message-preview-quick-reply-container,.bottom.right #tawkchat-message-preview-quick-reply-container{padding-left:38px}.rtl-direction.center.right #tawkchat-message-preview-messages-container,.rtl-direction.center.right #tawkchat-message-preview-quick-reply-container,.rtl-direction.bottom.right #tawkchat-message-preview-messages-container,.rtl-direction.top.right #tawkchat-message-preview-messages-container,.rtl-direction.top.right #tawkchat-message-preview-quick-reply-container,.rtl-direction.bottom.right #tawkchat-message-preview-quick-reply-container{padding-left:0;padding-right:38px}.center.left #tawkchat-message-preview-messages-container,.center.left #tawkchat-message-preview-quick-reply-container,.bottom.left #tawkchat-message-preview-messages-container,.top.left #tawkchat-message-preview-messages-container,.top.left #tawkchat-message-preview-quick-reply-container,.bottom.left #tawkchat-message-preview-quick-reply-container{padding-left:38px;padding-right:0}.rtl-direction.center.left #tawkchat-message-preview-messages-container,.rtl-direction.center.left #tawkchat-message-preview-quick-reply-container,.rtl-direction.bottom.left #tawkchat-message-preview-messages-container,.rtl-direction.top.left #tawkchat-message-preview-messages-container,.rtl-direction.top.left #tawkchat-message-preview-quick-reply-container,.rtl-direction.bottom.left #tawkchat-message-preview-quick-reply-container{padding-left:0;padding-right:38px}#actionsContainer{z-index:99998;background-color:#fff;width:100%;height:50px;border-radius:5px}.drag-over#actionsContainer{height:155px !important;padding:8px 8px 35px 8px;box-sizing:border-box}#file-upload-drop-container{display:none;background-color:#f1f1f1;height:100%;width:100%;border:#e4e4e4 solid 1px;border-radius:5px;box-sizing:border-box;position:relative}#file-upload-drop-icon-label-container{transform:translate(-50%,-50%);position:absolute;top:50%;left:50%}#file-upload-drop-label{font-size:15px;display:block;font-weight:600;text-align:center;color:#464646;margin-top:5px}#file-upload-drop-icon{font-size:30px;display:block;font-weight:600;text-align:center}#textareaWrapper{display:block;background-color:transparent;position:relative;height:100%;box-shadow:inset 1px 1px 0 #e9e9e9,inset -1px 0 0 #e9e9e9,inset 0 -1px 0 #e9e9e9;border-radius:5px;max-height:180px}.drag-over #textareaWrapper{display:none}.drag-over #file-upload-drop-container{display:block}#textareaContainer{height:100%;padding:15px 14px 15px 14px;box-sizing:border-box;position:relative}#textareaContainer.with-emoji{padding-right:44px;padding-left:14px}.rtl-direction #textareaContainer.with-emoji{padding-right:14px;padding-left:44px}#chatTextarea{padding:0;margin:0;height:100%;width:100%;overflow:hidden;resize:none;border:0;vertical-align:top;font-size:14px !important;background-color:transparent;color:#000;font-family:inherit}#chatTextarea:active,#chatTextarea:focus{outline:0}#chatTextarea::placeholder{color:#bdbdbd !important}#actionButtonsContainer{position:absolute;right:14px;top:15px}.rtl-direction #actionButtonsContainer{right:auto;left:0}.rtl-direction #rateMainWrapper,.rtl-direction #uploadFileOption,.rtl-direction #viewEmoji{float:right}#rateContainer{padding:6px 8px;border-radius:5px;box-shadow:0 3px 15px #cbcbcb;display:none;position:absolute;width:51px;background:#fff;left:-100%;top:-6px}.rtl-direction #rateContainer{right:-40px}#rateMainWrapper{float:left;position:relative}#rateNegative{margin-left:0 !important;color:#f99 !important}#ratePositive{color:#b4deab !important}#rateNegative:hover,#ratePositive:hover{transform:scale(1.2,1.2)}#actionButtonsContainer a{font-size:19px;color:#bdbdbd;text-decoration:none;float:left;margin-left:13px}#actionButtonsContainer a:hover{color:#464646}#uploadFileOption label{display:block;cursor:pointer}#upload-form{position:absolute;top:-100000px}#emoji-selection-container{height:200px;background:#fff;display:none;z-index:10001;width:340px;background-color:#f3f3f3;position:relative}#tawktoLink{color:#000;font-size:11px;font-weight:400;text-decoration:none}#tawktoLink b{font-weight:700}#tawktoLink .thin{font-size:11px;font-weight:100}#bottomContainer{text-align:center;width:calc(100% - 38px);position:absolute;bottom:0;height:20px;background:transparent;z-index:100001;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}#incoming-call{background-color:#fff;border-radius:5px;padding:13px 13px 12px 13px;box-sizing:border-box;margin-bottom:10px;box-shadow:inset 0 0 1px #aaa}#incoming-call-buttons{margin-top:16px}#incoming-call-buttons button{width:calc(50% - 5px);border-radius:5px;border:0;display:inline-block;color:#fff;height:42px;cursor:pointer}#incoming-call-buttons button .btn-icon{font-size:17px;color:white;display:inline-block;line-height:41px;vertical-align:top}#incoming-call-buttons button .btn-label{display:inline-block;margin-left:10px;line-height:41px;font-weight:600}#decline-call .btn-icon{transform:rotate(135deg)}#decline-call{background-color:#e52f48;float:right}#accept-call{background-color:#48c82e;float:left}.mp-callIconContainer{display:inline-block;height:30px;width:30px;border-radius:5px;color:white;position:relative}#mp-callIcon{display:inline-block;position:relative}.mp-callInfoWrapper{height:30px}#mp-callInfo{vertical-align:top;line-height:32px;margin-left:10px;font-weight:600;font-size:15px;color:#3e3e3e}#mp-callIconWrapper{display:inline-block;font-size:17px;position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.mp-callInfoElapsedTime{position:absolute;bottom:8px;right:13px;font-size:13px;color:#bdbdbd}.mp-callInfoContainer.messageBody{height:80px !important}#tawkchat-message-preview-close{color:#bdbdbd;font-size:19px;margin:2.5px;cursor:pointer}.icon-close{font-weight:900}.left #tawkchat-message-preview-close{text-align:right}.right #tawkchat-message-preview-close{text-align:right}.top.left #tawkchat-message-preview-close{right:38px;left:auto}.top.right #tawkchat-message-preview-close{left:38px;right:auto}.rtl-direction.right #tawkchat-message-preview-close{text-align:left}.rtl-direction.left #tawkchat-message-preview-close{text-align:left}#tooLongMsgNotification{height:42px;position:absolute;width:calc(100% - 30px);left:15px;margin-top:10px;border-radius:5px;line-height:42px;text-align:center}#notifMessageText{margin-left:5px}.appear{animation:icon-appear .25s ease;display:block !important}.hide{display:none !important}#min-agent-profile-details{position:relative;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;display:block;left:40px;max-width:calc(100% - 37px)}.rtl-direction #min-agent-profile-details{left:auto;right:40px}#min-agent-profile-details .name{font-size:90%;font-weight:bold;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}#min-agent-profile-details .position{font-size:80%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.rtl-direction #mp-callInfo{padding-right:7px}.rtl-direction #tawkchat-message-preview-messages-container .messageNameContainer{left:initial;right:13px}.rtl-direction #tawkchat-message-preview-messages-container .messageTimeContainer,.rtl-direction .mp-callInfoElapsedTime{right:initial;left:13px}.rtl-direction #accept-call{float:right}.rtl-direction #decline-call{float:left}.rtl-direction .profileImageContainer .incomingCallAgentProfileImage{right:0}.rtl-direction #incoming-call-container .header-label{margin-right:33px;margin-left:0}@keyframes icon-appear{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}to{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}#hidableActionsWrapper{float:left}",p.MinifiedMobileStyle="body{position:relative;margin:0;font-size:16px;z-index:1000001;font-family:Helvetica,Arial,sans-serif}body.font-lato{font-family:'Lato','Open Sans',sans-serif !important}*{font-family:inherit}#tawkchat-minified-box{border:0 none;padding:0;margin:0;position:relative;width:100%;height:100%;z-index:999995;text-align:left;font-size:16px}.rectangle #tawkchat-minified-wrapper{width:107px;height:42px;bottom:0}.round #tawkchat-minified-wrapper{bottom:6px;width:60px;height:60px;border-radius:50%;box-shadow:rgba(0,0,0,0.16) 0 2px 10px 0 !important}#tawkchat-minified-wrapper{border:0 none;margin:0;z-index:999997;position:absolute;cursor:pointer}.bottom.rectangle #tawkchat-minified-wrapper{bottom:15px}.round #tawkchat-status-text-container{padding:0;position:absolute;z-index:999998;width:100%;height:100%;border-radius:50%;border:0 none}.rectangle #tawkchat-status-text-container{padding:0;position:absolute;z-index:999998;width:100%;height:100%;border-radius:3px;border:0 none;text-align:center}#incoming-call{background-color:#fff;border-radius:5px;padding:13px 13px 12px 13px;box-sizing:border-box;margin-bottom:10px;box-shadow:inset 0 0 1px #aaa}#incoming-call-buttons{margin-top:16px}#incoming-call-buttons button{width:calc(50% - 5px);border-radius:5px;border:0;display:inline-block;color:#fff;height:42px;cursor:pointer}#incoming-call-buttons button .btn-icon{font-size:17px;color:white;display:inline-block;line-height:41px;vertical-align:top}#incoming-call-buttons button .btn-label{display:inline-block;margin-left:10px;line-height:41px;font-weight:600}#decline-call .btn-icon{transform:rotate(135deg)}#decline-call{background-color:#e52f48;float:right}#accept-call{background-color:#48c82e;float:left}#incoming-call .profileImageContainer{position:relative}.profileImageContainer .incomingCallAgentProfileImage{width:28px;height:28px;background-repeat:no-repeat;background-image:url('https://static-v.tawk.to/a-v3/images/default-profile.svg');background-size:cover;position:absolute;left:0;display:block}#incoming-call-container .header-label{display:inline-block;line-height:28px;vertical-align:top;font-weight:600;font-size:15px;margin-left:33px}#tawkchat-status-message{border:0 none;padding:0;text-decoration:none;height:30px;text-align:center;position:absolute;left:21px;right:21px;width:auto}.rtl-direction{direction:rtl}.rtl-direction #mp-callInfo{padding-right:7px}.rtl-direction #tawkchat-message-preview-messages-container .messageNameContainer{left:initial;right:13px}.rtl-direction #tawkchat-message-preview-messages-container .messageTimeContainer,.rtl-direction .mp-callInfoElapsedTime{right:initial;left:13px}.rtl-direction #accept-call{float:right}.rtl-direction #decline-call{float:left}.rtl-direction .profileImageContainer .incomingCallAgentProfileImage{right:0}.rtl-direction #incoming-call-container .header-label{margin-right:33px;margin-left:0}#tawkchat-chat-indicator{border:0 none;margin:0;padding:0;line-height:1em;position:absolute;z-index:1000000;display:none;left:0;width:21px;height:21px;background-color:#e52f48;border-radius:50%}.bottom #tawkchat-chat-indicator,.center #tawkchat-chat-indicator{top:auto}.center.rectangle #tawkchat-chat-indicator{bottom:27px;left:95px}.center.right.rectangle #tawkchat-chat-indicator{left:95px}.bottom.rectangle #tawkchat-chat-indicator{bottom:42px}.round #tawkchat-chat-indicator{bottom:45px}.top #tawkchat-chat-indicator{top:auto}.top.rectangle #tawkchat-chat-indicator{bottom:27px}.left #tawkchat-chat-indicator{left:42px;right:auto}.left.rectangle #tawkchat-chat-indicator{left:93px}.left.rectangle .rtl-direction #tawkchat-chat-indicator{left:inherit;right:93px}.right #tawkchat-chat-indicator{left:95px;right:auto}.right .rtl-direction #tawkchat-chat-indicator{left:auto;right:93px}.round.right #tawkchat-chat-indicator{left:50px}.round.left #tawkchat-chat-indicator{left:42px}.round.left .rtl-direction #tawkchat-chat-indicator,.round.left .rtl-direction #tawkchat-chat-indicator{left:auto}#tawkchat-chat-indicator-text{border:0 none;padding:0;margin:0;overflow:hidden;vertical-align:baseline;font-weight:bold;font-size:13px;font-family:Arial;text-align:center;color:white;height:100%;width:100%;z-index:1000001;display:block;line-height:21px}#status-message{color:inherit;text-decoration:none;font-weight:bold;font-size:16px;vertical-align:middle;display:block;line-height:30px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin:0 5px}#bottomContainer{text-align:center;width:calc(100% - 38px);position:absolute;bottom:0;height:20px;background:transparent;z-index:100001;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rectangle #tawkchat-status-icon{margin:8px;font-size:24px;line-height:1em;text-align:left}.rectangle .rtl-direction #tawkchat-status-icon{text-align:right}#tawkchat-status-icon{speak:none;font-style:normal;font-weight:bold;font-variant:normal;text-transform:none;line-height:60px;color:inherit;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:32px;text-align:center}#tawkchat-status-icon .text{display:inline-block;line-height:20px;overflow:hidden;padding:2px 0 2px 7px;text-overflow:ellipsis;vertical-align:text-bottom;white-space:nowrap;word-wrap:break-word;word-break:break-all}#tawkchat-status-icon:before{font-weight:normal;font-family:'tawk-widget'}.rectangle #tawkchat-status-icon:before{position:absolute}.rectangle #tawkchat-status-icon.offline:before{top:11px}.rectangle #tawkchat-status-icon .text{padding-left:30px;padding-top:0}.rectangle .rtl-direction #tawkchat-status-icon .text{padding-left:inherit;padding-right:30px}#tawkchat-status-icon.offline:before{content:\"\\e914\"}#tawkchat-status-icon.online:before,#tawkchat-status-icon.away:before{content:\"\\e901\"}#tawkchat-status-agent-container{position:absolute;top:0;right:0;left:0;bottom:0;z-index:999999;display:none}#agent-profile-image{background-repeat:no-repeat;background-size:cover;background-position:center;border-radius:50%;width:60px;height:60px}#agent-profile-image.round{width:100%;height:100%;margin-top:0;margin-left:0}.rectangle #agent-profile-image{width:32px;height:32px;margin:5px}.profileImageContainer .agentProfileImage{width:28px;height:28px;background-repeat:no-repeat;border-radius:14px;background-image:url('https://static-v.tawk.to/a-v3/images/default-profile.svg');background-size:cover;position:absolute;left:-38px;display:block}.center-right #tawkchat-chat-bubble-close{float:left}.center.right .profileImageContainer .agentProfileImage,.top.right .profileImageContainer .agentProfileImage,.bottom.right .profileImageContainer .agentProfileImage{left:-38px;right:auto}.rtl-direction.center.right .profileImageContainer .agentProfileImage,.rtl-direction.top.right .profileImageContainer .agentProfileImage,.rtl-direction.bottom.right .profileImageContainer .agentProfileImage{left:auto;right:-38px}.center.left .profileImageContainer .agentProfileImage,.top.left .profileImageContainer .agentProfileImage,.bottom.left .profileImageContainer .agentProfileImage{left:-38px;right:auto}.rtl-direction.center.left .profileImageContainer .agentProfileImage,.rtl-direction.top.left .profileImageContainer .agentProfileImage,.rtl-direction.bottom.left .profileImageContainer .agentProfileImage{left:auto;right:-38px}#tawkchat-message-preview-container{height:100%;box-sizing:border-box}.bottom#tawkchat-message-preview-container{position:absolute;bottom:0;top:auto;width:100%;height:auto}.top#tawkchat-message-preview-container{top:0;bottom:auto}#tawkchat-message-preview-messages-container{overflow-y:scroll;max-height:calc(100vh - 110px);margin-bottom:10px}#tawkchat-message-preview-messages-container::-webkit-scrollbar{display:none}#tawkchat-message-preview-messages-container .message-preview-close-button{top:8px;right:8px;z-index:5;position:absolute;color:#bdbdbd;font-size:14px;cursor:pointer;display:none}#tawkchat-message-preview-messages-container .hidden-profile .profileImageContainer{display:none}.center.right #tawkchat-message-preview-messages-container,.bottom.right #tawkchat-message-preview-messages-container,.top.right #tawkchat-message-preview-messages-container{padding-left:38px}.center.left #tawkchat-message-preview-messages-container,.bottom.left #tawkchat-message-preview-messages-container,.top.left #tawkchat-message-preview-messages-container{padding-left:38px;padding-right:0}#tawkchat-message-preview-close{color:#bdbdbd;font-size:19px;margin:2.5px;cursor:pointer}.left #tawkchat-message-preview-close{text-align:right}.right #tawkchat-message-preview-close{text-align:right}.top.left #tawkchat-message-preview-close{right:38px;left:auto}.top.right #tawkchat-message-preview-close{left:38px;right:auto}.rtl-direction.right #tawkchat-message-preview-close{text-align:left}.rtl-direction.left #tawkchat-message-preview-close{text-align:left}",p.CommonStyle='@font-face{font-family:\'tawk-widget\';src:local(\'tawk-widget\'),url(\'https://static-v.tawk.to/a-v3/fonts/tawk-widget.woff2?yh9epr\') format(\'woff2\'),url(\'https://static-v.tawk.to/a-v3/fonts/tawk-widget.woff?yh9epr\') format(\'woff\'),url(\'https://static-v.tawk.to/a-v3/fonts/tawk-widget.ttf?yh9epr\') format(\'truetype\'),url(\'https://static-v.tawk.to/a-v3/fonts/tawk-widget.eot?yh9epr#iefix\') format(\'embedded-opentype\'),url(\'https://static-v.tawk.to/a-v3/fonts/tawk-widget.svg?yh9epr#tawk-widget\') format(\'svg\');font-weight:normal;font-style:normal}[class^="icon-"],[class*=" icon-"]{font-family:\'tawk-widget\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.icon-menu:before{content:"\\e902"}.icon-mobile-submit:before{content:"\\e900";color:#aaa}.icon-desktop-sharing:before{content:"\\e903"}.icon-close:before{content:"\\e909"}.icon-phone-incoming:before{content:"\\e911"}.icon-chat:before{content:"\\e901"}.icon-upload:before{content:"\\e904"}.icon-voice-chat:before{content:"\\e905"}.icon-vote-down:before{content:"\\e906"}.icon-vote-up:before{content:"\\e907"}.icon-video-chat:before{content:"\\e908"}.icon-mail:before{content:"\\e914"}.icon-alert:before{content:"\\e915"}.icon-arrow-up:before{content:"\\e916"}.icon-user:before{content:"\\e917"}.icon-happy:before{content:"\\e91a"}.icon-error:before{content:\'\\e810\'}.icon-message:before{content:\'\\e811\'}.lds-spinner{display:inline-block;position:relative;width:64px;height:64px}.lds-spinner .spin{transform-origin:32px 32px;animation:lds-spinner 1.2s linear infinite}.lds-spinner .spin:after{content:" ";display:block;position:absolute;top:3px;left:29px;width:5px;height:14px;border-radius:20%;background:rgba(0,0,0,0.4)}.lds-spinner .spin-1{transform:rotate(0deg);animation-delay:-1.1s}.lds-spinner .spin-2{transform:rotate(30deg);animation-delay:-1s}.lds-spinner .spin-3{transform:rotate(60deg);animation-delay:-0.9s}.lds-spinner .spin-4{transform:rotate(90deg);animation-delay:-0.8s}.lds-spinner .spin-5{transform:rotate(120deg);animation-delay:-0.7s}.lds-spinner .spin-6{transform:rotate(150deg);animation-delay:-0.6s}.lds-spinner .spin-7{transform:rotate(180deg);animation-delay:-0.5s}.lds-spinner .spin-8{transform:rotate(210deg);animation-delay:-0.4s}.lds-spinner .spin-9{transform:rotate(240deg);animation-delay:-0.3s}.lds-spinner .spin-10{transform:rotate(270deg);animation-delay:-0.2s}.lds-spinner .spin-11{transform:rotate(300deg);animation-delay:-0.1s}.lds-spinner .spin-12{transform:rotate(330deg);animation-delay:0s}@keyframes lds-spinner{0%{opacity:1}100%{opacity:0}}.emoji-select{display:inline-block;margin:8px}.emoji-select:hover .emojione{transform:scale(2);-ms-transform:scale(2);-webkit-transform:scale(2);-moz-transform:scale(2);-o-transform:scale(2)}.emoji-header{display:block;cursor:pointer}.open-tab{opacity:1;float:left;position:relative;display:block;cursor:pointer;width:11%;text-align:center;height:100%;padding:8px 0;box-sizing:border-box;line-height:24px}.open-tab.active::after{content:"";position:absolute;height:5px;width:calc(100% - 5px);transform:translateX(-50%);left:50%;bottom:0;background-color:#4f4f4f}#people.open-tab.active .emoji-header{border-left:0}.open-tab.active .emoji-header:hover{background:#fff}#tabs-selection{height:40px;background-color:white;list-style:none;box-shadow:inset 0 2px 0 0 rgba(128,128,128,0.14)}#emoji-selection-container .loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}#emoji-selection-container .emojione{min-width:auto;min-height:auto;height:3.2ex}.emojione{min-width:auto;min-height:auto;height:3.2ex;vertical-align:middle}.emojionly .emojione{height:4.5ex !important;width:auto}#viewEmoji.active{color:#464646}#emoji-selection-container .inputContainer{padding:0 6px}#emoji-selection-container .textInput{padding:6px 0}#tab-content{position:absolute;top:40px;bottom:0;overflow:auto;left:0;right:0;padding:10px 5px;border:1px solid #e3e3e3}.showWithFade{display:block !important;animation:slideFadeIn .25s ease;-webkit-animation:slideFadeIn .25s ease}';var h={"chat-notification-container":'<div id="__MESSAGE_ID__" class="messageBody notification clearfix"><div class="notificationContainer"><div class="message">__MESSAGE__</div></div><div class="notificationTime">__TIME__</div><div class="clear"></div></div>',"chat-resend-link":'<a id="resendMessage-__MESSAGE_ID__" href="javascript:void(0);" class="messageStatus" title="Resend">__NOT_DELIVERED__</a><span class="icon-alert"></span> <span class="failed-label">__FAILED__</span>',"tawk-survey-wrapper":'<div class="surveyContainer"><div class="surveyQuestion">__QUESTION__</div><div class="survey-options-wrapper">__OPTIONS__</div></div>',departmentOfflineNotification:'<div class="messageBody notification"><div class="messageWrapper"><div class="message">__MESSAGE__</div></div><div class="clear"></div></div>',"survey-option":'<input type="radio" id="__RADIO_ID__" name="__RADIO_NAME__" value="__RADIO_VALUE__" /><label for="__RADIO_ID__">__RADIO_VALUE__</label><br />',"file-upload":'<div>__FILE_DISPLAY__<div class="uploaded-file-info"><p class="uploaded-file-name"><b>__FILE_NAME__</b></p><div class="uploaded-file-size">&#x25CF; __FILE_SIZE__</div><a class="download-file" href="__DOWNLOAD_URL__" title="__DOWNLOAD_TEXT__" target="_blank">__DOWNLOAD_LABEL__</a></div></div>',"file-upload-not-img-vid-audio":'<div class="file-upload-not-img-vid-audio"><p class="uploaded-file-name"><b>__FILE_NAME__</b></p><div class="uploaded-file-info"><span class="file-size">__FILE_SIZE__</span><span class="separator">&#x25CF; __FILE_TYPE__</span><a class="download-file" href="__DOWNLOAD_URL__" title="__DOWNLOAD_TEXT__" target="_blank">__DOWNLOAD_LABEL__</a></div></div>',"chat-divider":'    <hr id="newMessageDividerLine">    <span id="newMessageDividerLabel">__NEW_MESSAGES__</span>',"default-branding":"",fileUploadProgress:'    <div id="upload-__HANDLE__" class="upload-data">    <div id="circle-progress-bar-border">        <div id="circle-progress-bar-container">        <div id="circle-progress-bar">        <div class="inner-content"><span class="icon-arrow-up icon"></span>        </div><div class="circle-progress-clip"></div><div class="circle-progress-left"></div><div class="circle-progress-right"></div></div>        </div>        </div><div id="upload-info-container"><div id="upload-info"><div class="wrapper"><span class="file-name">__FILE_NAME__</span><span class="file-status">__FILE_STATUS__</span></div></div></div><span class="upload-icon"></span>    </div>    <div class="clearfix"></div>',incomingCallRequest:'<div id="incoming-call-container"><div class="profileImageContainer"><div class="incomingCallAgentProfileImage"></div><div style="background-image : __IMAGE_URL__;" class="incomingCallAgentProfileImage"></div></div><div class="header-label">__INCOMING_CALL__</div><div id="incoming-call-buttons"><button id="decline-call"><span class="btn-icon icon-voice-chat"></span><span class="btn-label">__DECLINE_CALL__</span></button><button id="accept-call"><span class="btn-icon icon-voice-chat"></span><span class="btn-label">__ACCEPT_CALL__</span></button></div><div class="clear"></div></div>',callInfo:'<div class="callLoader">__LOADER__</div><div class="callInfoContainer"><div class="callInfoWrapper"><div class="callIconContainer"><div class="callIconWrapper"></div></div><div class="callDetailsContainer"><p class="callTitle"></p></div></div><p class="callEndDetails"></p></div>',callError:'<div class="callInfoWrapper"><div class="callDetailsContainer"><p class="callTitle missed">__HEADER__</p><p class="callEndDetails">__MESSAGE__</p></div><div class="callRetryContainer"><button class="retry-load">__ACTION__</button></div></div>',loader:'<div class="lds-spinner loader"><div class="spin spin-1"></div><div class="spin spin-2"></div><div class="spin spin-3"></div><div class="spin spin-4"></div><div class="spin spin-5"></div><div class="spin spin-6"></div><div class="spin spin-7"></div><div class="spin spin-8"></div><div class="spin spin-9"></div><div class="spin spin-10"></div><div class="spin spin-11"></div><div class="spin spin-12"></div></div>',noWebrtc:'<div class="uploadFailedNotifContainer"><div class="uploadFailedNotifHeader"><div class="uploadFailedNotifIconContainer"><div class="uploadFailedNotifIconWrapper"></div><span class="uploadFailedSizeNotifIcon">!</span></div><span class="uploadFailedNotifLabel">__HEADER__</span></div><div class="uploadFailedNotifMessage">__MESSAGE__</div><div class="uploadFailedRetryContainer"></div></div>',"emoji-selection":'<ul id="tabs-selection">__TAB_LIST__<li id="search" class="open-tab"><a href="javascript:void(0);" class="emoji-header"><img class="emojione only-emoji" alt="search" title=":mag:" src="https://cdn.jsdelivr.net/emojione/assets/png/1f50d.png?v=2.2.7" /></a></li><div class="clearfix"></div></ul><div id="tab-content"></div>',"emoji-tab-pane":'<div class="tab-pane"><div class="emoji-list">__EMOJIS__</div></div>',"emoji-search-pane":'<div class="tab-pane"><div class="inputContainer"><input id="search-emoji" type="text" class="textInput" placeholder="Search Emoji" /></div><div id="search-list"></div></div>',"emoji-tab-select":'<li class="open-tab" id="__ID__"><a href="javascript:void(0);" class="emoji-header">__IMAGE__</a></li>',"emoji-list":'<a href="javascript:void(0);" class="emoji-select" id="__SHORTNAME__" title="__SHORTNAME__">__IMAGE__</a>',changeNameForm:'<div id="formFieldsContainer"><div class="formTable"><div class="formRow"><div class="formCell"><div class="formFrame"><div class="longFormContainer"><div id="formInnerHeight"><div id="form-header"><span class="form-header-icon"><span class="icon-user"></span></span><div class="form-header-text"><span>__CHANGE_NAME__</span></div>        </div><div id="changeNameFormMessageContainer" class="formMessageField">__TITLE__</div><fieldset><div class="inputContainer"><input type="text" id="nameField" value="__NAME__" title="__NAME_PLACEHOLDER__" class="textInput" maxlength="40" placeholder="__NAME_PLACEHOLDER__" /></div><div id="nameFieldErrorIcon" class="formErrorIcon"><div class="icon-error field-error"></div></div></fieldset><div id="nameFieldError" class="formErrorContainer"></div></div></div><div class="longFormBottomContainer"><button id="formCancel" class="declineButton formButton">__CANCEL_BUTTON__</button><button id="formSubmit" class="approveButton formButton  theme-background-color theme-text-color">__SAVE_BUTTON__</button><div class="clear"></div></div></div></div></div></div></div><div id="submitWrapper"></div>',emailTranscriptForm:'<div id="formFieldsContainer"><div class="formTable"><div class="formRow"><div class="formCell"><div class="formFrame"><div class="longFormContainer"><div id="formInnerHeight"><div id="form-header" class="email-transcript-form-header"><span class="form-header-icon"><span class="icon-mail"></span></span><div class="form-header-text"><span>__EMAIL_TRANSCRIPT_TO__:</span></div>        </div>        <div id="changeNameFormMessageContainer" class="formMessageField"></div><fieldset><div class="inputContainer"><input type="email" id="transcriptEmailField" title="__TRANSCRIPTEMAIL_PLACEHOLDER__" value="__TRANSCRIPTEMAIL__" class="textInput" maxlength="150" placeholder="__TRANSCRIPTEMAIL_PLACEHOLDER__" /></div><div id="transcriptEmailFieldErrorIcon" class="formErrorIcon"><span class="icon-error field-error"></span></div></fieldset><div id="transcriptEmailFieldError" class="formErrorContainer"></div></div><div class="longFormBottomContainer"><button id="formCancel" class="declineButton formButton">__CANCEL_BUTTON__</button><button id="formSubmit" class="approveButton formButton theme-background-color theme-text-color">__SEND_BUTTON__</button></div></div></div></div></div></div></div><div id="submitWrapper"></div>',offlineForm:'<div id="overlayOfflineForm"><p>__OFFLINE_MESSAGE_SUCCESSFULY_SENT__</p></br><button id="resendButton" class="approveButton formButton theme-background-color theme-text-color">__SEND_AGAIN__</button></div><div id="formFieldsContainer"><div class="formTable"><div class="formRow"><div class="formCell"><div class="formFrame"><div class="longFormContainer"><div id="formInnerHeight">__FIELDS__</div></div><div id="offlineButtonContainer" class="longFormBottomContainer"><button id="formSubmit" class="approveButton formButton theme-background-color theme-text-color">__SUBMIT_BUTTON__</button></div></div></div></div></div></div><div id="submitWrapper"></div>',preChatForm:'<div id="formFieldsContainer"><div class="formTable"><div class="formRow"><div class="formCell"><div class="formFrame"><div class="longFormContainer"><div id="formInnerHeight">__FIELDS__</div></div><div id="prechatButtonContainer" class="longFormBottomContainer"><button id="formCancel" class="declineButton formButton">__CANCEL_BUTTON__</button><button id="formSubmit" class="approveButton formButton theme-background-color theme-text-color">__START_CHAT_BUTTON__</button></div></div></div></div></div></div><div id="submitWrapper"></div>',departmentSelection:'<fieldset><div class="inputContainer selection "><select id="__ID__Field" title="__LABEL__">__VALUE__</select></div></fieldset><div id="__ID__FieldError" class="formErrorContainer"></div><div id="__ID__FieldErrorIcon" class="formErrorIcon"></div>',inputTextFieldType:'<fieldset><div class="inputContainer"><input type="__INPUT_TYPE__" id="__ID__Field" title="__LABEL__" value="__VALUE__" class="textInput" maxlength="__MAXLENGTH__"placeholder="__REQUIRED__ __LABEL__" /><label class="form-field-label small">__REQUIRED__ __LABEL__</label></div><div id="__ID__FieldErrorIcon" class="formErrorIcon"><div class="icon-error field-error"></div></div></fieldset><div id="__ID__FieldError" class="formErrorContainer"></div>',textAreaFieldType:'<fieldset class="textareaFieldset"><div class="inputContainer"><textarea id="__ID__Field" title="__LABEL__" maxlength="__MAXLENGTH__" placeholder="__REQUIRED__ __LABEL__"></textarea><label class="form-field-label small">__REQUIRED__ __LABEL__</label></div><div id="__ID__FieldErrorIcon" class="formErrorIcon"><div class="icon-error field-error"></div></div></fieldset><div id="__ID__FieldError" class="formErrorContainer"></div>',selectionsType:'<fieldset><label class="form-field-label">__REQUIRED__ __LABEL__</label><div><div class="selections-container" id="__ID__Container">__VALUE__<div id="__ID__FieldErrorIcon" class="formErrorIcon"><div class="icon-error field-error"></div></div></div></div></fieldset><div id="__ID__FieldError" class="formErrorContainer"></div>',checkboxSelectionType:'<div class="selection-container checkbox"><input type="checkbox" name="__FIELD_ID__group" id="__ID__" value="__VALUE__" /><span class="selection-input-css-placeholder"></span><label class="selection-label" for="__ID__">__VALUE__</label></div>',radioSelectionType:'<div class="selection-container radio"><input type="radio" name="__FIELD_ID__group" id="__ID__" value="__VALUE__" /><span class="selection-input-css-placeholder"></span><label class="selection-label" for="__ID__">__VALUE__</label></div>',"close-form-button":'<button id="formCloseChat" class="declineButton formButton">__CLOSE_BUTTON__</button>',inactivityOverlay:"<div>__OVERLAY__</div>",maintenanceOverlay:"<div>__OVERLAY__</div>",endChatForm:'<div id="formFieldsContainer"><div class="formFrame"><div class="longFormContainer"><div id="formInnerHeight"><div class="formMessageField innerTittle">__TITLE__</div><div class="longFormBottomContainer"><button id="formCancel" class="declineButton formButton">__CANCEL_BUTTON__</button><button id="formSubmit" class="approveButton formButton theme-background-color theme-text-color">__END_CHAT_BUTTON__</button></div></div></div></div></div><div id="submitWrapper"></div>',restartChatForm:'<div id="formFieldsContainer"><div class="formTable"><div class="formRow"><div class="formCell"><div class="formFrame"><div class="longFormContainer"><div id="formInnerHeight"><div id="form-header"><span class="form-header-icon"><span class="icon-chat"></span></span><div class="form-header-text"><span>__TITLE__</span></div></div><div class="formMessageField innerTittle">__END_CHAT_MESSAGE__</div><fieldset><div class="inputContainer"><input type="email" id="transcriptEmailField" title="__TRANSCRIPTEMAIL_PLACEHOLDER__" value="__TRANSCRIPTEMAIL__" class="textInput" maxlength="150" placeholder="__TRANSCRIPTEMAIL_PLACEHOLDER__" /><div id="transcriptEmailFieldErrorIcon" class="formErrorIcon"><div class="icon-error field-error"></div></div></div></fieldset><div id="transcriptEmailFieldError" class="formErrorContainer"></div></div></div><div class="longFormBottomContainer"><button id="newChat" class="declineButton formButton">__START_CHAT__</button><button id="formSubmit" class="approveButton formButton theme-background-color theme-text-color">__EMAIL_TRANCRIPT__</button></div></div></div></div></div></div><div id="submitWrapper"></div>',consentForm:'<div id="formFieldsContainer"><div class="formTable"><div class="formRow"><div class="formCell"><div class="formFrame"><div class="longFormContainer"><div id="formInnerHeight"><div class="formMessageField innerTittle">__TITLE__</div><div class="longFormBottomContainer"><button id="formDecline" class="declineButton formButton">__CUSTOM_CLOSE_BUTTON__</button><button id="formSubmit" class="approveButton formButton theme-background-color theme-text-color">__CUSTOM_SUBMIT_BUTTON__</button></div></div></div></div></div></div></div></div><div id="submitWrapper"></div>',"tawkchat-minified-iframe-element-rectangle":'<div id="tawkchat-minified-wrapper"><div id="tawkchat-minified-container" class="theme-background-color"><div id="tawkchat-status-middle"><div id="tawkchat-status-agent-container" class="theme-text-color"><div id="agent-profile-image" class="agent-profile">&nbsp;</div><div id="min-agent-profile-details" class="theme-text-color"></div></div><div id="tawkchat-status-text-container" class="theme-text-color"><div id="tawkchat-status-message"><span id="short-message"></span></div></div></div></div></div>',"tawkchat-minified-iframe-element-round":'<div id="tawkchat-minified-box" class="round"><div id="tawkchat-minified-wrapper"><div id="tawkchat-status-agent-container"><div id="agent-profile-image" class="agent-profile theme-background-color">&nbsp;</div></div><div id="tawkchat-status-text-container" class="theme-background-color theme-text-color"><span id="maximizeChat" class="icon-chat" title="__MAXIMIZE__"></span><span id="minimizeChatMinifiedBtn" class="icon-close" title="__MINIMIZE__"></span></div></div></div>',"tawkchat-chat-bubble-canvas":'<div id="tawkchat-chat-bubble-graphics-container"><canvas id="tawkchat-chat-bubble-canvas"></canvas></div><div id="tawkchat-chat-bubble-close" class="image-canvas-close"></div><div id="tawkchat-chat-bubble-text-container"><p id="tawkchat-chat-bubble-text" class="bubble-text-color"></p></div>',"tawkchat-chat-indicator":'<div id="tawkchat-chat-indicator"><p id="tawkchat-chat-indicator-text"></p></div>',"tawkchat-chat-bubble-gallery":'<span id="tawkchat-chat-bubble-close" class="image-bubble-close"></span><img src="__IMAGE_SRC__" style="__IMAGE_SIZE__" /><a id="bubble-image" class="gallery-bubble" href="javascript:void(0);"></a>',"tawkchat-chat-bubble-upload":'<span id="tawkchat-chat-bubble-close" class="image-bubble-close"></span><img id="bubble-image" src="__IMAGE_SRC__" />',"tawkchat-message-preview":'<div id="tawkchat-message-preview-container"><div id="tawkchat-message-preview-close"><div class="icon-close"></div></div><div id="tawkchat-message-preview-messages-container"></div><div id="tawkchat-message-preview-quick-reply-container"><div id="emoji-selection-container"></div><div id="actionsContainer"><div id="file-upload-drop-container"><div id="file-upload-drop-icon-label-container"><span id="file-upload-drop-icon" class="icon-upload"></span><span id="file-upload-drop-label"></span></div></div><fieldset id="textareaWrapper"><div id="textareaContainer" class="additionalPadding"><div id="tooLongMsgNotification"><span class="icon-alert"></span><span id="notifMessageText"></span></div></div><div id="actionButtonsContainer"><div id="hidableActionsWrapper"><div id="rateMainWrapper"><a id="rateChat" href="javascript:void(0);"><span class="icon-vote-up"></span></a><div id="rateContainer"><a id="rateNegative" href="javascript:void(0);" title="__RATE_NEGATIVE__"><span class="icon-vote-down"></span></a><a id="ratePositive" href="javascript:void(0);" title="__RATE_POSITIVE__"><span class="icon-vote-up"></span></a></div></div><a id="uploadFileOption" href="javascript:void(0);" title="__UPLOAD_FILE__"><label for="fileInput"><span class="icon-upload"></span></label></a></div><a id="viewEmoji" href="javascript:void(0);" title="__VIEW_EMOJI__"><span class="icon-happy"></span></a></div></fieldset></div><form enctype="multipart/form-data" id="upload-form" method="post"><input type="file" class="hidden file-input" name="file[]" multiple="multiple" id="fileInput" /><label class="upload-file sprite-background" title="Upload File" for="test"></label></form></div></div>',"message-preview-item":'<span class="message-preview-close-button icon-close"></span><div class="profileImageContainer"><div class="agentProfileImage"></div><div style="background-image : __IMAGE_URL__;" class="agentProfileImage"></div></div><div class="messageBody"><div class="message">__MESSAGE__</div><div class="messageInformation"><div class="messageNameContainer"><div class="messageName">__NAME__</div></div><div class="messageTimeContainer"><div class="messageTime">__TIME__</div></div></div></div>',"messagePreview-callInfo":'<div class="profileImageContainer"><div class="agentProfileImage"></div><div style="background-image : __IMAGE_URL__;" class="agentProfileImage"></div></div><div class="mp-callInfoContainer messageBody"><div class="mp-callInfoWrapper"><div class="mp-callIconContainer"><div id="mp-callIconWrapper"><span id="mp-callIcon" class="btn-icon icon-voice-chat"></span></div></div><span id="mp-callInfo">__CALL_INFO__ __CALLER_NAME__</span></div><div class="mp-callInfoElapsedTime">__ELAPSED_TIME__</div></div>',"tawkchat-maximized-wrapper":'<div id="innerWrapper" class="border-corner"><div id="headerBoxWrapper" class="border-corner"><div id="headerBox" class="theme-background-color theme-text-color border-corner"><div id="headerAccountStateContainer"><p id="headerAccountState"><span id="shortMessage"></span></p><div id="agentProfileContainer">&nbsp;</div></div><div id="headerBoxControlsContainer"><a id="screenShare" class="headerBoxLink" href="javascript:void(0);" title="__SCREENSHARE__"><span class="icon-desktop-sharing headerBoxIcon"></span></a><a id="voiceCall" class="headerBoxLink" href="javascript:void(0);" title="__VOICECALL__"><span class="icon-voice-chat headerBoxIcon"></span></a><a id="videoCall" class="headerBoxLink" href="javascript:void(0);" title="__VIDEOCALL__"><span class="icon-video-chat headerBoxIcon"></span></a><div class="headerBoxLink"><a id="chatMenu"  href="javascript:void(0);" title="__CHATMENU__"><span class="icon-menu headerBoxIcon"></span></a><div id="chatMenuControls"><div id="chatMenuControlsOverlay"></div><ul><li id="changeName" style="display: none;">__CHANGE_NAME__</li><li id="emailTranscriptOption" style="display: none;"></li><li id="soundOn"></li><li id="soundOff"></li><li id="popoutChat"></li><li id="endChat"></li></ul></div></div><a id="minimizeChat" class="headerBoxLink" href="javascript:void(0);" title="__END__"><span class="icon-close headerBoxIcon"></span></a></div></div></div><div id="contentContainer"><div id="greetingsMainContainer" class="theme-background-color theme-text-color"><div id="greetingsContent"><p id="greetingsText"></p><p id="greetingsWaitTime"></p></div><div id="agentBar"><div id="agentList"></div></div></div><div id="chatPanel"><div id="chatContainerWrapper"><div id="chatContainer"><div id="chatTableWrapper"><div id="chatRowWrapper"><div id="chatCellWrapper"><div id="chatWrapper" class="single-agent"><div id="agentTypingContainer"></div></div></div></div></div><div id="maxFileNotificationContainer" class="hidden"><div id="maxFileNotifHeader"><div id="maxFileNotifIconContainer"><div id="maxFileNotifIconWrapper"></div><span id="maxFileNotifIcon">!</span></div><span id="maxFileNotifLabel"></span><div class="closeButtonContainer"><span class="icon-close" id="closeNumberNotification"></span></div></div><div id="maxFileNotificationMessage"></div><div id="maxFileNumberList"></div></div><div id="maxSizeNotificationContainer" class="hidden"><div id="maxSizeNotifHeader"><div id="maxSizeNotifIconContainer"><div id="maxSizeNotifIconWrapper"></div><span id="maxSizeNotifIcon">!</span></div><span id="maxSizeNotifLabel"></span><div class="closeButtonContainer"><span class="icon-close" id="closeSizeNotification"></span></div></div><div id="maxSizeNotificationMessage"></div><div id="maxFileSizeList"></div></div></div></div><div id="actionsContainer"><fieldset id="textareaWrapper"><div id="textareaContainer" class="additionalPadding"><div id="tooLongMsgNotification"><span class="icon-alert"></span><span id="notifMessageText">__TOO_LONG_MESSAGE__</span></div></div><div id="actionButtonsContainer"><div id="hidableActionsWrapper"><div id="rateMainWrapper"><a id="rateChat" href="javascript:void(0);"><span class="icon-vote-up"></span></a><div id="rateContainer"><a id="rateNegative" href="javascript:void(0);" title="__RATE_NEGATIVE__"><span class="icon-vote-down"></span></a><a id="ratePositive" href="javascript:void(0);" title="__RATE_POSITIVE__"><span class="icon-vote-up"></span></a></div></div><a id="uploadFileOption" href="javascript:void(0);" title="__UPLOAD_FILE__"><label for="fileInput"><span class="icon-upload"></span></label></a></div><a id="viewEmoji" href="javascript:void(0);" title="__VIEW_EMOJI__"><span class="icon-happy"></span></a></div><div id="textareaSubmitContainer"><div class="icon-mobile-submit" id="textareaSubmitButton"></div></div></fieldset></div><div id="file-upload-drop-container"><div id="fileUploadWrapper"><div id="file-upload-drop-icon-label-container"><span id="file-upload-drop-icon" class="icon-upload"></span><span id="file-upload-drop-label"></span></div></div></div><form enctype="multipart/form-data" id="upload-form" method="post"><input type="file" class="hidden file-input" name="file[]" multiple="multiple" id="fileInput" /><label class="upload-file sprite-background" title="Upload File" for="test"></label></form></div><div id="__BOTTOM_CONTAINER__"><a id="__TAWK_TO_LINK__" tabindex="-1"></a></div><div id="newMessagesBar"><div id="newMessageContainer"><p id="newMessagesNotification"><a id="newMessagesNotificationLink" title="" class="icon-message"></a><span id="notificationMessageText"></span></p><div id="newMessageArrowDown"></div></div></div><div id="formContainer"></div></div><div id="emoji-selection-container"></div><div id="tawkToContent"><div id="formFieldsContainer"><div class="formTable"><div class="formRow"><div class="formCell"><div class="formFrame"><div class="contentContainer"><div class="longFormContainer"><div id="formInnerHeight"><div id="tawkImage"></div><p id="tawkHeader">TAWK.TO</p><div id="tawkContent" class="formMessageField innerTittle"></div></div></div><div class="longFormBottomContainer"><button id="cancelTawkRedirect" class="formButton"></button><button id="tawkRedirect" class="theme-background-color theme-text-color formButton"></button><div class="clear"></div></div></div></div></div></div></div></div></div></div>',uploadFailedNotification:'<div class="uploadFailedNotifContainer"><div class="uploadFailedNotifHeader"><div class="uploadFailedNotifIconContainer"><div class="uploadFailedNotifIconWrapper"></div><span class="uploadFailedSizeNotifIcon">!</span></div><span class="uploadFailedNotifLabel">__UPLOAD_FAILED_LABEL__</span></div><div class="uploadFailedNotifMessage">__UPLOAD_FAILED_MESSAGE__</div><div class="uploadFailedRetryContainer"></div></div>',"mobile-bottom-round":'<div id="tawkchat-minified-box"><div id="tawkchat-chat-indicator"><span id="tawkchat-chat-indicator-text"></span></div><div id="tawkchat-minified-wrapper"><div id="tawkchat-status-agent-container"><div id="agent-profile-image" class="agent-profile theme-background-color">&nbsp;</div></div><div id="tawkchat-status-text-container" class="theme-background-color theme-text-color"><div id="tawkchat-status-icon" class="online"></div></div></div></div>',"mobile-bottom-rectangle":'<div id="tawkchat-minified-box"><div id="tawkchat-chat-indicator"><span id="tawkchat-chat-indicator-text"></span></div><div id="tawkchat-minified-wrapper"><div id="tawkchat-status-agent-container"><div id="agent-profile-image" class="agent-profile theme-background-color">&nbsp;</div></div><div id="tawkchat-status-text-container" class="theme-background-color theme-text-color"><div id="tawkchat-status-icon" class="online"><div id="tawk-minified-mobile-text" class="text"></div></div></div></div></div>',"chat-message-container":'__OWNER_TPL__<div class="clearfix"></div><div class="messageBody clearfix">__CONTENT__</div>',"chat-message-owner-agent":'<div class="ownerNameContainer"><div class="messageOwnerName agent">__NAME__</div></div><div class="profileImageContainer"><div style="background-image : __IMAGE_URL__;" class="agentProfileImage"></div></div>',"chat-message-owner-visitor":'<div class="ownerNameContainer"><a class="messageOwnerName visitor" href="#">__NAME__</a></div>',"agent-typing":'<div id="agentTyping-__MESSAGE_ID__" class="agentChatContainer clearfix"><div class="ownerNameContainer"><div class="messageOwnerName agent">__NAME__</div></div><div class="profileImageContainer"><div style="background-image : __IMAGE_URL__;" class="agentProfileImage"></div></div><div class="clearfix"></div><div class="messageBody clearfix"><div class="message agentTypingIndicator"><span class="dot"></span><span class="dot"></span><span class="dot"></span></div></div></div>',"agent-profile":"__AGENT_PROFILE_IMAGE____AGENT_PROFILE_DETAIL__","agent-profile-image":'<div class="alias-image theme-background-color" style="__IMAGE_URL__;"></div>',"agent-profile-detailed":'<div class="agentDetailedInfo"><strong>__NAME__</strong><p>__POSITION__</p></div>',"agent-profile-description":'<div class="agentContainer"><div class="agentInformationContainer"><p class="__POSITION_CLASS__">__NAME__</p><p class="position-label" style="display: none;">__POSITION__</p></div></div>',"agent-profile-description-noimage":'<div class="agentContainerNoImage"><div class="agentInformationContainerNoImage"><p class="agentInfoNoImage"><b>__NAME__</b><i>__POSITION__</i></p></div></div>',"chat-message-row":'<div class="messageWrapper __PENDING__"><div class="message">__MESSAGE__</div></div>__MESSAGE_STATUS_ROW__<div class="clear"></div>',"chat-message-status-row":'<div class="clear"></div><div class="time-agent-display"><div class="agent-div __TIME_CLASS__">__NAME__</div><div class="time-div __TIME_CLASS__">__TIME__</div></div>',"chat-message-pending-row":'<div class="messageStatusContainer pending"><div class="lds-spinner loader"><div class="spin spin-1"></div><div class="spin spin-2"></div><div class="spin spin-3"></div><div class="spin spin-4"></div><div class="spin spin-5"></div><div class="spin spin-6"></div><div class="spin spin-7"></div><div class="spin spin-8"></div><div class="spin spin-9"></div><div class="spin spin-10"></div><div class="spin spin-11"></div><div class="spin spin-12"></div></div></div>'},m={undefined:1,boolean:1,number:1,string:1},g={exportProperty:function(e,t,i){e[t]=i}};g.dependencyDetection=(r=[],{begin:function(e){r.push(e&&{callback:e,distinctDependencies:[]})},end:function(){r.pop()},registerDependency:function(e){if(!g.isSubscribable(e))throw Error("Only subscribable things can act as dependencies");if(0<r.length){var t=r[r.length-1];!t||0<=g.utils.arrayIndexOf(t.distinctDependencies,e)||(t.distinctDependencies.push(e),t.callback(e))}},ignore:function(e,t,i){try{return r.push(null),e.apply(t,i||[])}finally{r.pop()}}}),g.observable=function(e){function t(){return 0<arguments.length?(t.equalityComparer&&t.equalityComparer(i,arguments[0])||(t.valueWillMutate(),i=arguments[0],t.valueHasMutated()),this):(g.dependencyDetection.registerDependency(t),i)}var i=e;return g.subscribable.call(t),t.peek=function(){return i},t.valueHasMutated=function(){t.notifySubscribers(i)},t.valueWillMutate=function(){t.notifySubscribers(i,"beforeChange")},g.utils.extend(t,g.observable.fn),g.exportProperty(t,"peek",t.peek),g.exportProperty(t,"valueHasMutated",t.valueHasMutated),g.exportProperty(t,"valueWillMutate",t.valueWillMutate),t},g.subscribable=function(){this._subscriptions={},g.utils.extend(this,g.subscribable.fn),g.exportProperty(this,"subscribe",this.subscribe),g.exportProperty(this,"getSubscriptionsCount",this.getSubscriptionsCount)},g.subscribable.fn={subscribe:function(e,t,i){i=i||"change",e=t?e.bind(t):e;var n=new g.subscription(this,e,function(){g.utils&&g.utils.arrayRemoveItem&&g.utils.arrayRemoveItem(this._subscriptions[i],n)}.bind(this));return this._subscriptions[i]||(this._subscriptions[i]=[]),this._subscriptions[i].push(n),n},notifySubscribers:function(e,t){if(t=t||"change",this.hasSubscriptionsForEvent(t)){var i,n=this._subscriptions[t];i=0;for(var a=this._subscriptions[t].length;i<a;++i)(n=(n=this._subscriptions[t].slice(0))[i])&&!0!==n.isDisposed&&n.callback(e)}},hasSubscriptionsForEvent:function(e){return this._subscriptions[e]&&this._subscriptions[e].length},getSubscriptionsCount:function(){var e=0;return g.utils.objectForEach(this._subscriptions,function(t,i){e+=i.length}),e},unsubscribe:function(e,t){g.utils.arrayRemoveItem(this._subscriptions[t||"change"],e)}},g.isSubscribable=function(e){return null!==e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},g.subscription=function(e,t,i){this.target=e,this.callback=t,this.disposeCallback=i,g.exportProperty(this,"dispose",this.dispose)},g.subscription.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()},g.observable.fn={equalityComparer:function(e,t){return(null===e||typeof e in m)&&e===t}};var f=g.observable.protoProperty="__tw_proto__";if(g.observable.fn[f]=g.observable,g.hasPrototype=function(e,t){return null!=e&&void 0!==e[f]&&(e[f]===t||g.hasPrototype(e[f],t))},g.isObservable=function(e){return g.hasPrototype(e,g.observable)},g.utils={arrayIndexOf:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},extend:function(e,t){if(t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},arrayRemoveItem:function(e,t){var i=g.utils.arrayIndexOf(e,t);0<=i&&e.splice(i,1)},objectForEach:function(e,t){for(var i in e)e.hasOwnProperty(i)&&t(i,e[i])}},function(e){function t(e){for(var t,i,n=[],a=0,o=e.length;a<o;)55296<=(t=e.charCodeAt(a++))&&56319>=t&&a<o?56320==(64512&(i=e.charCodeAt(a++)))?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),a--):n.push(t);return n}function i(e){var i,h,m,b,y,w,_,x,C,k,E,T,I=[];for(k=(e=t(e)).length,i=d,h=0,y=c,w=0;w<k;++w)128>(C=e[w])&&I.push(v(C));for((m=b=I.length)&&I.push(p);m<k;){for(_=n,w=0;w<k;++w)(C=e[w])>=i&&C<_&&(_=C);if(_-i>u((n-h)/(E=m+1)))throw new RangeError(g.overflow);for(h+=(_-i)*E,i=_,w=0;w<k;++w){if((C=e[w])<i&&++h>n)throw new RangeError(g.overflow);if(C==i){for(x=h,_=a;!(x<(C=_<=y?o:_>=y+r?r:_-y));_+=a)T=x-C,x=a-C,I.push(v(C+T%x+22+75*(26>C+T%x)-0)),x=u(T/x);for(I.push(v(x+22+75*(26>x)-0)),y=E,_=0,h=m==b?u(h/l):h>>1,h+=u(h/y);h>f*r>>1;_+=a)h=u(h/f);y=u(_+(f+1)*h/(h+s)),h=0,++m}}++h,++i}return I.join("")}var n=2147483647,a=36,o=1,r=26,s=38,l=700,c=72,d=128,p="-",h=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=a-o,u=Math.floor,v=String.fromCharCode;e.punycode={version:"1.4.1",ucs2:{decode:t},encode:i,toASCII:function(e){return function(e,t){var i="";1<(n=e.split("@")).length&&(i=n[0]+"@",e=n[1]);for(var n,a=(n=(e=e.replace(m,".")).split(".")).length,o=[];a--;)o[a]=t(n[a]);return i+(n=o.join("."))}(e,function(e){return h.test(e)?"xn--"+i(e):e})}}}(p),s={},l.$_Tawk=l.$_Tawk||{},l.Tawk_API=l.Tawk_API||{},"object"==typeof l.$_Tawk_API)for(var u in l.$_Tawk_API)l.$_Tawk_API.hasOwnProperty(u)&&(l.Tawk_API[u]=l.$_Tawk_API[u]);if("function"!=typeof l.CustomEvent){var v=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i};v.prototype=l.Event.prototype,p.CustomEventIE=v}e.begin=function(e){p.main.begin(e)},e.init=function(e){p.main.init(e)};e.maximize=Tawk_API.maximize=function(){e.ready&&p.sessionHandler.notifyWindowState("max")},e.minimize=Tawk_API.minimize=function(){e.ready&&p.sessionHandler.notifyWindowState("min")},e.toggle=Tawk_API.toggle=function(){e.ready&&p.viewHandler.toggleWidget()},e.popup=Tawk_API.popup=function(){e.ready&&p.viewHandler.popoutWidget()},e.getWindowType=Tawk_API.getWindowType=function(){if(e.ready)return T.isEmbedded?"embed":T.isPopup?"popup":"inline"},e.showWidget=Tawk_API.showWidget=function(){e.ready&&p.viewHandler.showWidget()},e.hideWidget=Tawk_API.hideWidget=function(){e.ready&&p.viewHandler.hideWidget()},e.toggleVisibility=Tawk_API.toggleVisibility=function(){e.ready&&p.viewHandler.toggleVisibility()},e.getStatus=Tawk_API.getStatus=function(){if(e.ready)return R.pageStatus()},e.isChatMaximized=Tawk_API.isChatMaximized=function(){if(e.ready)return"max"===R.chatWindowState()},e.isChatMinimized=Tawk_API.isChatMinimized=function(){if(e.ready)return"min"===R.chatWindowState()},e.isChatHidden=Tawk_API.isChatHidden=function(){if(e.ready)return p.viewHandler.isWidgetHidden()},e.isChatOngoing=Tawk_API.isChatOngoing=function(){if(e.ready)return p.chatHandler.isChatOngoing()},e.isVisitorEngaged=Tawk_API.isVisitorEngaged=function(){if(e.ready)return p.chatHandler.isVisitorEngaged()},e.endChat=Tawk_API.endChat=function(){e.ready&&p.chatHandler.triggerEndChat()},e.addEvent=Tawk_API.addEvent=function(e,t,i){p.sessionHandler.addEvent(e,t,i)},e.setAttributes=Tawk_API.setAttributes=function(e,t){p.sessionHandler.setAttributes(e,!0,t)},e.addTags=Tawk_API.addTags=function(e,t){p.sessionHandler.addTags(e,t)},e.removeTags=Tawk_API.removeTags=function(e,t){p.sessionHandler.removeTags(e,t)};var b="",y=0,w=!1,_=!1,x=null,C=null,k={},E=!0,T={widgetId:"default",isPopup:!1,isEmbedded:!1,soundOn:g.observable(!0),showAgentBar:!0,showWaitTime:!0,showPreChatForm:!1,showOfflineForm:!0,hideWidget:!1,hideWidgetOnLoad:!1,hideWidgetOnOffline:!1,greetings:{},prechatOptions:{},headerBgColor:null,headerTxtColor:null,isLegacyLayout:!1,whiteLabel:g.observable(),mobileWidget:g.observable("round"),desktopWidget:g.observable("full"),chatBubble:g.observable(),chatPosition:g.observable("br"),maximizedDimensions:g.observable({width:0,height:0}),minimizedDimensions:g.observable({width:0,height:0,position:"br"}),showMessagePreview:g.observable(!0),showUploads:g.observable(!0),showRating:g.observable(!0),showAgentTyping:!0,showVisitorTyping:g.observable(!0),showEmoji:g.observable(!0),showUnreadInTab:g.observable(!0),onClickAction:"max",widgetVersion:0,locale:"en",schedule:null,scheduleTimezone:null,isTopPositioned:function(){return"tr"===this.chatPosition()||"tl"===this.chatPosition()},isBottomPositioned:function(){return"br"===this.chatPosition()||"bl"===this.chatPosition()},isCenterPositioned:function(){return"cr"===this.chatPosition()||"cl"===this.chatPosition()},isRightPositioned:function(){return"cr"===this.chatPosition()||"tr"===this.chatPosition()||"br"===this.chatPosition()},isLeftPositioned:function(){return"cl"===this.chatPosition()||"tl"===this.chatPosition()||"bl"===this.chatPosition()},isDesktopRectangle:function(){return"min"!==this.desktopWidget()},agentTextBgColor:null,agentTextColor:null,visitorTextBgColor:null,visitorTextColor:null,agentTextBorderColor:null,topCorner:null,bottomCorner:null,widgetOffsetX:0,widgetOffsetY:0,isHeaderCompact:null,maxStyle:g.observable(),minStyle:g.observable(),mobMaxStyle:g.observable(),mobMinStyle:g.observable(),isRTL:g.observable(!1),webRTCSettings:g.observable(),brandingRedirect:g.observable(),key:-1987780763},I={uuid:null,uuidVer:0,visitorId:"",name:g.observable(),displayName:g.observable(),email:g.observable(),transcriptEmail:"",uuids:[]},S={pageId:null,tawkId:"",pageName:g.observable(),isStable:!0},B={chatSynced:!1,chatBuffer:[],chatVersion:0,chatDepartment:"any",agents:{},agentProfiles:{},profiles:{},rating:g.observable(),chatHistory:[],chatOrder:0,chatEndVersion:1,chatId:null},R={transferKey:"",sessionKey:"",transferedSession:!1,currentVersion:685,criticalVersion:0,serverVersion:0,agentImgUrl:"https://s3.amazonaws.com/tawk-to-pi",visitorAppServer:"https://va.tawk.to",visitorSocketServer:"",chatWindowState:g.observable("min"),pageStatus:g.observable(),pageStatusVersion:0,prechatFormSubmitted:g.observable(!1),waitTime:6e4,chatBubbleClosed:g.observable(!1),restarted:!1,departments:[]},H={chat_sound:"https://static-v.tawk.to/a-v3/audio/chat_sound.mp3"},N={chat_sound:"https://static-v.tawk.to/a-v3/audio/chat_sound.ogg"},P={chat_sound:"https://static-v.tawk.to/a-v3/audio/chat_sound.wav"};!function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.TawkClass=function(){},TawkClass.extend=function(i){function n(){!e&&this.init&&this.init.apply(this,arguments)}var a=this.prototype;e=!0;var o=new this;for(var r in e=!1,i)o[r]="function"==typeof i[r]&&"function"==typeof a[r]&&t.test(i[r])?function(e,t){return function(){var i=this._super;this._super=a[e];var n=t.apply(this,arguments);return this._super=i,n}}(r,i[r]):i[r];return n.prototype=o,n.prototype.constructor=n,n.extend=arguments.callee,n}}();var M=function(){this.br="<br/>",this.regAlphaNumeric=/^[a-z0-9\-]{1,50}$/i,this.regNameMach=/^V[0-9]{16}$/,this.regTrim=/^\s+|\s+$/g,this.regDate=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,this.regEmail=/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/i,this.regSurvey=/\[option\](.*?)(<br\/>|$)/g,this.regSurveyQuestion=/^(.*?)\[option\]/g,this.regOption=/\[option\]/g,this.regBr=/<br\/>/,this.regMatchUrl=RegExp('(?:^(?:(?:[a-z]+:)?//)?(?:\\S+(?::\\S*)?@)?(?:localhost|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i"),this.regMatchIp=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?\/([a-zA-Z0-9!$&'()*+.=-_~:@\/\?#]+)+)\b/gi,this.regEmailMatch=/^((mailto:){0,1}[a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]+)$/,this.regLineBreaks=/(\r\n|\n|\r)/gm,this.decodedAmp="&",this.decodedQuote='"',this.decodedApos="'",this.decodedLess="<",this.decodedGreat=">",this.encodedQuote="&quot;",this.encodedApos="&#39;",this.encodedLess="&lt;",this.encodedGreat="&gt;",this.encodedAmp="&amp;",this.rtlLangTab=["ar","he","fa"],this.decodedAmpRegex=RegExp(this.decodedAmp,"g"),this.decodedQuoteRegex=RegExp(this.decodedQuote,"g"),this.decodedAposRegex=RegExp(this.decodedApos,"g"),this.decodedLessRegex=RegExp(this.decodedLess,"g"),this.decodedGreatRegex=RegExp(this.decodedGreat,"g"),this.encodedQuoteRegex=RegExp(this.encodedQuote,"g"),this.encodedAposRegex=RegExp(this.encodedApos,"g"),this.encodedLessRegex=RegExp(this.encodedLess,"g"),this.encodedGreatRegex=RegExp(this.encodedGreat,"g"),this.encodedAmpRegex=RegExp(this.encodedAmp,"g"),this.connectionUrl="https://video.tawk.to"};M.prototype.createElement=function(e,t,i,n,a){var o;for(o in e=e.createElement(t),i=i||{})e[o]=i[o];return a&&"iframe"!==t&&(e.innerHTML=a),n&&(e.style.cssText=n),e},M.prototype.getDocument=function(e){return e.contentWindow?e.contentWindow.document:e.contentDocument?e.contentDocument:e.document?e.document:null},M.prototype.parseQueryString=function(e){var t,i,n,a={};for(n=(e?e.replace(/(.*)\?/,""):l.location.search.substring(1)).split("&"),e=0,t=n.length;e<t;e+=1)a[(i=n[e].split("="))[0]]=i[1];return a},M.prototype.createQueryString=function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return i.join("&")},M.prototype.getReloadedScript=function(){var e,t,i=document.getElementsByTagName("script"),n=null;for(e=0,t=i.length;e<t;e++)i[e].id&&-1!==i[e].id.indexOf("TawkScript")&&(n=i[e]);return n},M.prototype.trim=function(e){return this.isString(e)?String.prototype.trim?e.trim().toString():e.replace(this.regTrim,""):null},M.prototype.isString=function(e){return void 0!==e&&"string"==typeof e},M.prototype.isEmail=function(e){return this.regEmail.test(e)},M.prototype.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},M.prototype.parseVisitorName=function(e){return this.isGeneratedName(e)?p.languageParser.translate("chat","defaultName"):e},M.prototype.generateRandomString=function(e){var t,i=[];for(e=e||6,t=0;t<e;t++)i.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random())));return i.join("")},M.prototype.computedStyle=function(e,t){var i;if(!e||!t)return null;if(e.currentStyle)i=e.currentStyle[t];else try{i=getComputedStyle(e,null).getPropertyValue(t)}catch(e){i="none"}return"width"===t&&"auto"===i&&(i=e.clientWidth),""+i},M.prototype.parseChatTime=function(e){var t=this.getDateFromUTC(e);return 10>(e=t.getHours())&&(e="0"+e),10>(t=t.getMinutes())&&(t="0"+t),e+":"+t},M.prototype.getDateFromUTC=function(e){return e instanceof Date?e:(e=this.regDate.exec(e),new Date(Date.UTC(e[1],e[2]-1,e[3],e[4],e[5],e[6],e[7])))},M.prototype.rawEncode=function(e){return e.replace(this.decodedAmpRegex,this.encodedAmp).replace(this.decodedQuoteRegex,this.encodedQuote).replace(this.decodedAposRegex,this.encodedApos).replace(this.decodedLessRegex,this.encodedLess).replace(this.decodedGreatRegex,this.encodedGreat)},M.prototype.rawDecode=function(e){return e.replace(this.encodedQuoteRegex,this.decodedQuote).replace(this.encodedAposRegex,this.decodedApos).replace(this.encodedLessRegex,this.decodedLess).replace(this.encodedGreatRegex,this.decodedGreat).replace(this.encodedAmpRegex,this.decodedAmp)},M.prototype.getMilliseconds=function(e){return e instanceof Date||(e=this.regDate.exec(e),e=new Date(Date.UTC(e[1],e[2]-1,e[3],e[4],e[5],e[6],e[7]))),e.getTime()},M.prototype.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},M.prototype.getDepartmentStatus=function(e){var t,i,n=R.departments,a="",o=!0,r="";if("any"===e)return{status:"",isOnline:!0,name:""};for(t=0,i=n.length;t<i;t++)if(n[t].did===e){o="online"===n[t].st,a=n[t].st,r=n[t].n;break}return{status:a,isOnline:o,name:r}},M.prototype.getElementsByClassName=function(e,t){var i,n,a,o;if(e.getElementsByClassName)return e.getElementsByClassName(t);for(o=[],i=0,n=(a=e.getElementsByTagName("*")).length;i<n;i++)-1!==a[i].className.indexOf(t)&&o.push(a[i]);return o},M.prototype.insertScript=function(e,t,i){var n=document.getElementsByTagName("script")[0],a=document.createElement("script");a.async=!0,a.src=e,a.charset="UTF-8",a.setAttribute("crossorigin","*"),t&&(a.id=t),i?n.parentNode.insertBefore(a,n):n.parentNode.appendChild(a)},M.prototype.isPlaceholderSupported=function(){return"placeholder"in document.createElement("input")},M.prototype.togglePlaceholderText=function(e,t,i){p.eventHandler.listen(e,"focus",function(e){this.value===t&&(this.value="")},i+"inputfocus"),p.eventHandler.listen(e,"blur",function(){""===this.value&&(this.value=t)},i+"inputblur")},M.prototype.redraw=function(e){var t=e.style.display;e.style.display="none !important",e.style.display=t+" !important"},M.prototype.isTouchDevice=function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}},M.prototype.shadeColor=function(e,t){var i,n,a="#";for(6>(e=String(e).replace(/[^0-9a-f]/gi,"")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),t=t||0,n=0;6>n;n+=2)i=parseInt(e[n]+""+e[n+1],16),a+=("00"+(i=Math.round(Math.min(Math.max(0,i+i*t),255)).toString(16))).substring(i.length);return a},M.prototype.getContrast=function(e){return 6>(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),8388607.5<parseInt(e,16)?"white":"black"},M.prototype.getElementsByTagName=function(e,t){for(var i=[],n=e.getElementsByTagName(t),a=0;a<n.length;a++)i.push(n[a]);return i},M.prototype.chatElementInView=function(e){var t=p.viewHandler.chatContainer.getElementById("chatContainer");return!!(e.offsetTop>=t.scrollTop&&e.offsetTop<=t.scrollTop+t.offsetHeight&&0!==e.clientWidth&&0!==e.clientHeight)},M.prototype.formatFileSize=function(e){var t="Bytes KB MB GB TB PB EB ZB YB".split(" ");if(!(e=parseInt(e,10)))return"0Bytes";for(var i=1;i<t.length;i++)if(e<Math.pow(1024,i))return Math.round(e/Math.pow(1024,i-1)*100)/100+t[i-1];return e},M.prototype.isFileInputSupported=function(){if(d.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/))return!1;var e=document.createElement("input");return e.type="file",!e.disabled},M.prototype.escapeTemplateReplacement=function(e,t){for(var i=0;i<t.length;i++){var n=t[i],a=n.textReplace;"string"==typeof a&&(a=a.replace(/\$/g,"$$$")),e=e.replace(n.placeholder,a)}return e},M.prototype.getGenericStyle=function(e){return["outline                     : "+(e.outline?e.outline:"none")+" !important; ","visibility                  : "+(e.visibility?e.visibility:"visible")+" !important; ","resize                      : "+(e.resize?e.resize:"none")+" !important; ","box-shadow                  : "+(e.boxshadow?e.boxshadow:"none")+" !important; ","overflow                    : "+(e.overflow?e.overflow:"visible")+" !important; ","background                  : "+(e.background?e.background:"none")+" !important; ","opacity                     : "+(e.opacity?e.opacity:"1")+" !important; ","filter                      : alpha(opacity="+(e.opacity?100*e.opacity:"100")+") !important; ","-ms-filter                  : progid:DXImageTransform.Microsoft.Alpha(Opacity"+(e.opacity?e.opacity:"1")+") !important; ","-moz-opacity                : "+(e.opacity?e.opacity:"1")+" !important; ","-khtml-opacity              : "+(e.opacity?e.opacity:"1")+" !important; ","top                         : "+(e.top?e.top:"auto")+" !important; ","right                       : "+(e.right?e.right:"auto")+" !important; ","bottom                      : "+(e.bottom?e.bottom:"auto")+" !important; ","left                        : "+(e.left?e.left:"auto")+" !important; ","position                    : "+(e.position?e.position:"absolute")+" !important; ","border                      : "+(e.border?e.border:"0")+" !important; ","min-height                  : "+(e.minheight?e.minheight:"auto")+" !important; ","min-width                   : "+(e.minwidth?e.minwidth:"auto")+" !important; ","max-height                  : "+(e.maxheight?e.maxheight:"none")+" !important; ","max-width                   : "+(e.maxwidth?e.maxwidth:"none")+" !important; ","padding                     : "+(e.padding?e.padding:"0")+" !important; ","margin                      : "+(e.margin?e.margin:"0")+" !important; ","-moz-transition-property    : "+(e.transition?e.transition:"none")+" !important; ","-webkit-transition-property : "+(e.transition?e.transition:"none")+" !important; ","-o-transition-property      : "+(e.transition?e.transition:"none")+" !important; ","transition-property         : "+(e.transition?e.transition:"none")+" !important; ","transform                   : "+(e.transform?e.transform:"none")+" !important; ","-webkit-transform           : "+(e.transform?e.transform:"none")+" !important; ","-ms-transform               : "+(e.transform?e.transform:"none")+" !important; ","width                       : "+(e.width?e.width:"auto")+" !important; ","height                      : "+(e.height?e.height:"auto")+" !important; ","display                     : "+(e.display?e.display:"block")+" !important; ","z-index                     : "+(e.zindex?e.zindex:"none")+" !important; ","background-color            : "+(e.backgroundcolor?e.backgroundcolor:"transparent")+" !important; ","cursor                      : "+(e.cursor?e.cursor:"auto")+" !important; ","float                       : "+(e.float?e.float:"none")+" !important; ","border-radius               : "+(e.borderRadius?e.borderRadius:"unset")+" !important; ","pointer-events              : auto !important"].join("").replace(/\s/gm,"")},M.prototype.isGeneratedName=function(e){return this.regNameMach.test(e)},M.prototype.getRotateStyling=function(e,t){var i="rotate("+e+"deg) translateZ(0px)";return{transform:i,"-moz-transform":i,"-webkit-transform":i,"-o-transform":i,"-ms-transform":i,"transform-origin":t,"-moz-transform-origin":t,"-webkit-transform-origin":t,"-o-transform-origin":t,"-ms-transform-origin":t}},M.prototype.blurElements=function(e){for(var t=0;t<e.length;t++)e[t].blur()},M.prototype.transformGreetings=function(e){for(var t,i,n=/\[([^)]+)\]/,a=/\(([^)]+)\)/,o=/\[[^\]\(\)]+\]\((\bhttp:\/\/\b|\bhttps:\/\/\b|\bmailto:\b){1}[^\]\(\)]+\)/i,r="_blank",s=e;null!==(t=o.exec(s))&&(i=n.exec(t[0]),(t=a.exec(t[0]))[0].indexOf("(mailto:")||(r="_top"),(s=s.replace(i[0]+t[0],'<a target="'+r+'" href="'+t[1]+'" class="link">'+i[1]+"</a>"))!==e););return s},M.prototype.checkWhiteLabelLink=function(e,t,i){var n,a,o=1e4*Math.random(),r=this,s=p.viewHandler.chatContainer,l=function(){(t.label!==e.innerHTML||t.url&&t.url!==e.href||!t.url&&e.href||t.id!==e.id||!s.getElementById(e.id)||t.cssText!==e.style.cssText||A.h(e.innerHTML)!==T.key)&&(r.whiteLabelUnexpectedIssueLogged||(p.loggingHandler.logIncident("White label element has changed unexpectedly",{pageId:I.uuid}),r.whiteLabelUnexpectedIssueLogged=!0),e.id=t.id,e.innerHTML=t.label,e.style.cssText=t.cssText,null!==t.url?e.href=t.url:e.removeAttribute("href"),!s.getElementById(t.parentElem.id)&&t.grandParentName&&(n=s.getElementById(t.grandParentName),t.siblingName&&(a=s.getElementById(t.siblingName))&&n&&n.insertBefore(t.parentElem,a)),n=s.getElementById(t.parentElem.id),!s.getElementById(e.id)&&n&&n.appendChild(e)),r.checkWhiteLabelLink(e,t,i)};i?this.messagePreviewCheckWhiteLabelRef=setTimeout(l,o):this.checkWhiteLabelRef=setTimeout(l,o)},M.prototype.applyWhiteLabelSettings=function(e,t,i){i?clearTimeout(this.messagePreviewCheckWhiteLabelRef):clearTimeout(this.checkWhiteLabelRef),null===t.url?e.removeAttribute("href"):(e.href=t.url,t.url=e.href),T.whiteLabel()&&null!==t.url&&(e.target="_blank"),e.innerHTML=t.label,e.style.cssText+=";color:"+t.textColor+" !important",t.cssText=e.style.cssText,this.checkWhiteLabelLink(e,t,i)},M.prototype.transformLabel=function(e){var t;return(t=e.match(/_[^_]+_/gi))&&0<t.length&&t.forEach(function(t){var i;i=t.indexOf("_");var n=t.lastIndexOf("_");i=t.substring(0,i)+"<i>"+t.substring(i+1,n)+"</i>"+t.substring(n+1,t.length),e=e.replace(t,i)}),(t=e.match(/\*[^*]+\*/gi))&&0<t.length&&t.forEach(function(t){var i;i=t.indexOf("*");var n=t.lastIndexOf("*");i=t.substring(0,i)+"<b>"+t.substring(i+1,n)+"</b>"+t.substring(n+1,t.length),e=e.replace(t,i)}),e},M.prototype.getRandomName=function(){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(52*Math.random())+this.generateRandomString()+"-"+(new Date).getTime()},M.prototype.insertRandomTagsBeforeAndAfter=function(e,t,i){var n,a=Math.floor(3*Math.random()+1);for(n=0;n<a;n++){var o=document.createElement(i);o.id=A.getRandomName(),t.insertBefore(o,e)}for(a=Math.floor(3*Math.random()+1),n=0;n<a;n++)(e=document.createElement(i)).id=A.getRandomName(),t.appendChild(e)},M.prototype.getWebRTCToken=function(e,t,i){if(!this.hasWebRTC())return i(!0);var n=this;e={video:e,screen:t},i=i||function(){},this.webrtcWin=l.open("",""),p.socketManager.sendToConnector("getWebRTCToken",e,function(e,t){if(e)return n.webrtcWin.close(),i(!0,e);n.webrtcWin.location.href=n.connectionUrl+"/v2/call?token="+t.data.token,i()})},M.prototype.rejectCall=function(e,t){var i={callId:e};t=t||function(){},p.socketManager.sendToConnector("declineCall",i,function(){t()})},M.prototype.disconnectWebRTC=function(){this.webrtcWin&&this.webrtcWin.close()},M.prototype.debounce=function(e,t,i){var n;return function(){var a=this,o=arguments,r=i&&!n;clearTimeout(n),n=setTimeout(function(){n=null,i||e.apply(a,o)},t),r&&e.apply(a,o)}},M.prototype.isDescendent=function(e,t){for(var i=t.parentNode;null!==i;){if(i===e)return!0;i=i.parentNode||null}return!1},M.prototype.getTimeDifference=function(e,t){var i,n;return i=new Date(e),endTimeFmt=new Date(t),diff=endTimeFmt.getTime()-i.getTime(),36e5<=diff?(i=Math.round(diff/36e5),n="hours"):6e4<=diff?(i=Math.round(diff/6e4),n="minutes"):(i=Math.round(diff/1e3),n="seconds"),p.languageParser.translate("chat",n,{num:i})},M.prototype.hasClass=function(e,t){return e.classList?e.classList.contains(t):!!e.className.match(RegExp("(\\s|^)"+t+"(\\s|$)"))},M.prototype.addClass=function(e,t){e.classList?e.classList.add(t):this.hasClass(e,t)||(e.className+=" "+t)},M.prototype.removeClass=function(e,t){e.classList?e.classList.remove(t):this.hasClass(e,t)&&(e.className=e.className.replace(RegExp("(\\s|^)"+t+"(\\s|$)")," "))},M.prototype.updateFontStylesheet=function(e){if(e&&(e!==document||T.isPopup)){var t=e.getElementById("lato-fonts"),i=e.body;A.supportsLatin(T.locale)&&!t?(e.querySelector("head").innerHTML+='<link id="lato-fonts" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:100,100i,300,300i,400,400i,700,700i,900,900i&subset=latin-ext" rel="stylesheet"/>',this.addClass(i,"font-lato")):!A.supportsLatin(T.locale)&&t&&(t.parentNode.removeChild(t),this.removeClass(i,"font-lato"))}},M.prototype.updateFonts=function(){if(p.viewHandler&&p.viewHandler.iframeContainer&&p.viewHandler.iframeContainer.childViews)for(var e=p.viewHandler.iframeContainer.childViews,t=0;t<e.length;t++){var i=e[t];i.isIframe&&this.updateFontStylesheet(i.documentRef)}},M.prototype.supportsLatin=function(e){return-1<"cat cs da de en et es fi fil fr hr hu id it lv lt ms nl no pl pt pt_br ro sk sl sr_cs sq sv tr vi".split(" ").indexOf(e)},M.prototype.hasWebRTC=function(){return!w&&(d.getUserMedia||d.webkitGetUserMedia||d.mozGetUserMedia||d.msGetUserMedia||d.mediaDevices&&d.mediaDevices.getUserMedia)},M.prototype.h=function(e){var t=0;if(0===e.length)return t;for(var i=0;i<e.length;i++)t=(t=(t<<5)-t+e.charCodeAt(i))&t;return t},Inheritance_Manager={extend:function(e,t){function i(){}i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.prototype.parent=t.prototype,e.baseConstructor=t,e.superClass=t.prototype}};var A=new M;"undefined"!=typeof module&&module.exports&&(module.exports.Utils=M);var F=[{string:d.userAgent,subString:"Edge",identity:"explorer",versionSearch:"Edge"},{string:d.userAgent,subString:"Trident/7.0",identity:"explorer",versionSearch:"rv"},{string:d.userAgent,subString:"(Opera|OPR)",identity:"opera",versionSearch:"Version"},{string:d.userAgent,subString:"Chrome",identity:"chrome",versionSearch:"Chrome"},{string:d.userAgent,subString:"Mobile Safari",identity:"android",versionSearch:"Version"},{string:d.userAgent,subString:"Firefox",identity:"firefox",versionSearch:"Firefox"},{string:d.userAgent,subString:"MSIE",identity:"explorer",versionSearch:"MSIE"},{string:d.userAgent,subString:"IEMobile",identity:"explorer",versionSearch:"IEMobile"},{string:d.userAgent,subString:"Safari",identity:"safari",versionSearch:"Version"},{string:d.userAgent,subString:"Gecko",identity:"mozilla",versionSearch:"rv"}],z=[{string:d.userAgent,subString:"Windows Phone",identity:"windows_phone"},{string:d.platform,subString:"Win",identity:"windows"},{string:d.platform,subString:"Mac",identity:"mac"},{string:d.userAgent,subString:"iPhone",identity:"iphone"},{string:d.userAgent,subString:"Android",identity:"android"},{string:d.platform,subString:"Linux",identity:"linux"},{string:d.userAgent,subString:"iPad",identity:"ipad"}],L={google:"q",yahoo:"p",baidu:"wd",yandex:"text",bing:"q",soso:"w",ask:"q",aol:"q",sogou:"query",mywebsearch:"searchfor",youdao:"q",lycos:"q",infospace:"q",blekko:"q",info:"q",dogpile:"q",duckduckgo:"q",webcrawler:"q"},O={src:"about:blank",border:"0",cellspacing:"0",frameBorder:"0",scrolling:"no",horizontalscrolling:"no",verticalscrolling:"no",allowTransparency:"true",title:"chat widget"},D={nokia:[/(NokiaBrowser)\/(\d+)\.(\d+).(\d+)\.(\d+)/,/^(Nokia)/,/(NokiaBrowser)\/(\d+)\.(\d+).(\d+)/,/(NokiaBrowser)\/(\d+)\.(\d+)/,/(BrowserNG)\/(\d+)\.(\d+).(\d+)/,/(Series60)\/5\.0/,/(Series60)\/(\d+)\.(\d+)/,/(S40OviBrowser)\/(\d+)\.(\d+)\.(\d+)\.(\d+)/,/(Nokia)[EN]?(\d+)/],blackberry:[/(BB10);/,/(PlayBook).+RIM Tablet OS (\d+)\.(\d+)\.(\d+)/,/(Black[bB]erry).+Version\/(\d+)\.(\d+)\.(\d+)/,/(Black[bB]erry)\s?(\d+)/],chrome:[/(CrMo)\/(\d+)\.(\d+)\.(\d+)\.(\d+)/,/(CriOS)\/(\d+)\.(\d+)\.(\d+)\.(\d+)/,/(Android).*(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+) (Mobile)?/],ie:[/(IEMobile)[ \/](\d+)\.(\d+)/],firefox:[/Mobile.*(Firefox)\/(\d+)\.(\d+)/,/Tablet.*(Firefox)\/(\d+)\.(\d+)/],operamini:[/(Opera Mini)(?:\/att)?\/(\d+)\.(\d+)/],opera:[/(Opera Tablet).*Version\/(\d+)\.(\d+)(?:\.(\d+))?/,/(?:Mobile Safari).*(OPR)\/(\d+)\.(\d+)\.(\d+)'/,/(Opera)\/.+Opera Mobi.+Version\/(\d+)\.(\d+)/,/(Opera)\/(\d+)\.(\d+).+Opera Mobi/,/Opera Mobi.+(Opera)\/(\d+)\.(\d+)/,/Opera Mobi/,/(Opera)\/9.80.*Version\/(\d+)\.(\d+)(?:\.(\d+))?/],safari:[/(iPod|iPhone|iPad);.*CPU.*OS (\d+)(?:_\d+)?_(\d+).*Mobile/],uc:[/(UCBrowser)[ \/](\d+)\.(\d+)\.(\d+)/,/(UC Browser)[ \/](\d+)\.(\d+)\.(\d+)/,/(UC Browser|UCBrowser|UCWEB)(\d+)\.(\d+)\.(\d+)/],"android2.3":[/(Android) 2\.3(?:[.\-]([a-z0-9]+))?/],android2:[/(Android) 2\.(\d+)(?:[.\-]([a-z0-9]+))?/],android:[/Android[\- ][\d]+\.[\d]+; [A-Za-z]{2}\-[A-Za-z]{0,2}; WOWMobile (.+) Build/,/Android[\- ][\d]+\.[\d]+\-update1; [A-Za-z]{2}\-[A-Za-z]{0,2}; (.+) Build/,/Android[\- ][\d]+\.[\d]+\.[\d]+; [A-Za-z]{2}\-[A-Za-z]{0,2}; (.+) Build/,/Android[\- ][\d]+\.[\d]+\.[\d]+;[A-Za-z]{2}\-[A-Za-z]{0,2};(.+) Build/,/Android[\- ][\d]+\.[\d]+; [A-Za-z]{2}\-[A-Za-z]{0,2}; (.+) Build/,/Android[\- ][\d]+\.[\d]+\.[\d]+; (.+) Build/,/Android[\- ][\d]+\.[\d]+; (.+) Build/]},W=function(){this.versionSearchString=this.browserObj=null,this.init()};W.prototype.init=function(){var e=this.getBrowserVersion();C=this.getMobileBrowser(),y=e.version,b=e.vendor,(k={mp3:this.hasHtmlAudio("mp3"),ogg:this.hasHtmlAudio("ogg"),wav:this.hasHtmlAudio("wav")}).supported=k.mp3||k.ogg||k.wav||k.aac,E=A.isPlaceholderSupported(),"explorer"===b&&(w=!0,6===y&&(_=!0))},W.prototype.getBrowserVersion=function(){return this.browserObj?this.browserObj:this.browserObj={vendor:this.searchString(F)||"other",version:this.searchVersion(d.userAgent)||this.searchVersion(d.appVersion)||"other",os:this.searchString(z)||"other",plugins:this.getPlugins()}},W.prototype.getPlugins=function(){var e,t,i=[];for(e=0,t=d.plugins.length;e<t;e++)d.plugins[e].name&&i.push(d.plugins[e].name);return i},W.prototype.searchString=function(e){var t,i,n;for(t=0;t<e.length;t++)if(i=e[t].string,n=RegExp(e[t].subString),this.versionSearchString=e[t].versionSearch||e[t].identity,n.test(i))return e[t].identity},W.prototype.searchVersion=function(e){var t=e.indexOf(this.versionSearchString);if(-1!==t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},W.prototype.getMobileBrowser=function(){for(var e=!1,t=d.userAgent,i=Object.keys(D),n=0;!e&&n<i.length;){for(var a=i[n],o=0;o<D[a].length;o++)if(t.match(D[a][o])){e=a;break}n++}return e},W.prototype.getReferredSearchEngine=function(){var e,t,i="";if(document.referrer&&(t=this.getHostname(document.referrer)))for(e in t=t.toLowerCase(),L)if(0<=t.indexOf(e)){queryString=this.getQuerystring(document.referrer,L[e]),"blekko"===e&&""===queryString&&(queryString=this.getQuerystring(document.referrer.replace("/ws/","/?q="),"q")),i=e;break}return i},W.prototype.getQuerystring=function(e,t){var i;return t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),null===(i=RegExp("[\\?&]"+t+"=([^&#]*)").exec(e))||!A.isArray(i)||2>i.length?null:i[1]?unescape(i[1].replace(/\+/g," ")):null},W.prototype.getHostname=function(e){return null===(e=e.match(/^(?:f|ht)tp(?:s)?:\/\/([^\/]+)/im))||!A.isArray(e)||2>e.length?null:e[1]?e[1].toString():null},W.prototype.hasHtmlAudio=function(e){var t=document.createElement("audio");try{if(!t.canPlayType||"no"===t.canPlayType("audio/"+e)||""===t.canPlayType("audio/"+e))return!1}catch(e){return!1}return!0},p.browserData=new W;var U=function(){this.unloading=!1};U.prototype.logPerformance=function(e){Y.xhrRequest("https://va.tawk.to/log-performance/v3",{logData:JSON.stringify(e)},function(){})},U.prototype.logIncident=function(e,t){var i=n.getBrowserData();i.visitorId=I.visitorId||"",i.message=e,i.data=t,this.log("warning",i)},U.prototype.log=function(e,t){var i;t&&e&&(t.uiVersion="v3",t.buildVersion="685",t.buildCommit="86f9abc644b13b30dda810ff2a38ad8ee5872404",i={type:e,data:t},this.postForm("log",JSON.stringify(i)))},U.prototype.postForm=function(e,t){var i,n,a;if(n=document.createElement("iframe"),!document.body)return!1;n.src="about:blank",n.style.cssText=";display:none !important;",n.title="chat widget logging",document.body.appendChild(n);try{i=A.getDocument(n)}catch(e){return!1}w&&(i.open(),i.writeln('<!DOCTYPE html><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /></head><body><iframe name="form-receiver" id="form-receiver"></iframe></body></html>'),i.close()),(n=i.createElement("form")).method="POST",n.action="https://va.tawk.to/"+e,n.enctype="application/x-www-form-urlencoded",n.acceptCharset="UTF-8",(a=i.createElement("input")).type="text",a.name="logData",a.value=t,n.appendChild(a),w&&(n.target="form-receiver"),i.body.appendChild(n),n.submit(),n.parentNode.removeChild(n)},l.onbeforeunload=function(){this.unloading=!0},l.onunload=function(){this.unloading=!0};var V=function(){this.originalErrorHandlerFn=l.onerror};V.prototype.getBrowserData=function(){var e=p.browserData.getBrowserVersion();return{site:l.location.href,browser:e.vendor||"",version:e.version||"",os:e.os||"",plugins:e.plugins||""}},V.prototype.handleError=function(e,t,i,n,a){var o;return!(!(t&&i||"Script error."!==e&&"Script error"!==e)||"string"!=typeof t||-1===t.indexOf("tawk.to")&&-1===t.indexOf("tawk.js"))&&((o=this.getBrowserData()).visitorId=I.visitorId||"",o.message=e||"",o.file=t||"",o.line=i||"",o.column=n||"",o.stack=a?JSON.stringify(a):"",o.stack=o.stack.replace(A.regLineBreaks,""),p.loggingHandler.log("error",o),!0)},n=new V,l.onerror=function(){var e;return!!n&&(e=n.handleError.apply(this,arguments),"function"==typeof n.originalErrorHandlerFn?n.originalErrorHandlerFn.apply(this,arguments):e)};var j=function(){var e=this;if(this.events={},this.supportsPassive=!1,l.addEventListener)try{var t=Object.defineProperty({},"passive",{get:function(){e.supportsPassive=!0}});l.addEventListener("testPassive",null,t),l.removeEventListener("testPassive",null,t)}catch(t){e.supportsPassive=!1}};j.prototype.attachEvent=function(e,t,i){var n=this,a=function(t){i.call(e,n.getEvent(t))};return e.attachEvent("on"+t,a),a},j.prototype.listen=function(e,t,i,n){var a;if(n){if(this.events[n]&&(a=this.events[n],this.events[n]=null,this.removeEventHandler(a.element,a.eventName,a.eventListener)),e.addEventListener)e.addEventListener(t,i,!!this.supportsPassive&&{passive:!1});else{if(!document.attachEvent)return null;i=this.attachEvent(e,t,i)}return this.events[n]={element:e,eventName:t,eventListener:i},i}},j.prototype.cancelEvent=function(e){document.attachEvent&&(e=this.getEvent(e)),e.preventDefault?e.preventDefault():e.returnValue=!1},j.prototype.removeEventHandler=function(e,t,i){document.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent("on"+t,i)},j.prototype.getEvent=function(e){var t=e||l.event;if(!t)for(e=this.getEvent.caller;e&&(!(t=e.arguments[0])||Event!=t.constructor);)e=e.caller;return t},j.prototype.clearEvents=function(){var e=this;Object.keys(this.events).forEach(function(t){t=e.events[t],e.removeEventHandler(t.element,t.eventName,t.eventListener)}),this.events={}},j.prototype.getTargetElement=function(e){return document.attachEvent&&(e=this.getEvent(e)),3===(e=e.target||e.srcElement).nodeType&&(e=e.parentNode),e};var q={keypressTimer:0,previousValue:0,initElement:function(e,t){var i=this;this.previousValue="",p.eventHandler.listen(e,"focus",function(n){i.startWatching(n,e,t)},e.id+"focus"),p.eventHandler.listen(e,"blur",function(e){i.stopWatching()},e.id+"blur"),p.eventHandler.listen(e,"keyup",function(n){i.detectChange(n,e,t)},e.id+"keyup")},startWatching:function(e,t,i){var n=this;this.stopWatching(),this.keypressTimer=setInterval(function(){n.detectChange(e,t,i)},100)},stopWatching:function(){0!=this.keypressTimer&&(clearInterval(this.keypressTimer),this.keypressTimer=0)},detectChange:function(e,t,i){if(t=t.value||"",this.previousValue===t)return!1;i(e,t),this.previousValue=t}},G=function(){};G.prototype.xhrRequest=function(e,t,i){var n=new XMLHttpRequest;return t=t||{},n.onerror=i,n.open("POST",e,!0),n.withCredentials=!0,n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){n.passed||4!==n.readyState||(n.passed=!0,i(null,n.responseText))},n.send(A.createQueryString(t)),{type:"xhr",req:n}},G.prototype.abort=function(e){e&&"xhr"===e.type&&e.req.abort()};var Y=new G,X=function(){this.isCookieEnabled=this.checkCookieEnabled(),this.alphaNumericReg=/[^0-9a-zA-Z]/g,this.hasSessionStorage=this.isCookieEnabled&&!!l.sessionStorage,this.checkLocalStorageUsage(),this.clearOldCookies("TawkCookie")};X.prototype.checkLocalStorageUsage=function(){try{localStorage.setItem("exist_test","yes"),localStorage.removeItem("exist_test"),this.hasLocalStorage=!0}catch(e){this.hasLocalStorage=!1}},X.prototype.setHTTPCookie=function(e,t,i,n){var a="";i||((i=new Date).setTime(i.getTime()+15552e6),a="; expires="+i.toGMTString()),document.cookie=e+"="+t+a+"; path=/"+(n?";domain="+n:"")},X.prototype.getHTTPCookie=function(e){var t,i,n=[],a=e+"=",o=document.cookie.split(";");for(e=0,t=o.length;e<t;e++){for(i=o[e];" "===i.charAt(0);)i=i.substring(1,i.length);0===i.indexOf(a)&&n.push(i.substring(a.length,i.length))}return n},X.prototype.setSessionStorage=function(e,t){if(this.hasSessionStorage&&sessionStorage.setItem)try{sessionStorage.setItem(e,t)}catch(e){}},X.prototype.getSessionStorage=function(e){return this.hasSessionStorage&&sessionStorage.getItem?sessionStorage.getItem(e):null},X.prototype.setLocalStorage=function(e,t){l.localStorage.setItem(e,t)},X.prototype.getLocalStorage=function(e){return l.localStorage.getItem(e)},X.prototype.setWindowName=function(e){l.name&&0!==l.name.indexOf("TawkWindowName-")||(l.name="TawkWindowName-"+e)},X.prototype.getWindowName=function(){var e,t,i;if(!l.name)return null;if(0!==l.name.indexOf("TawkWindowName-")){if(6>(t=(i=l.name.substring(0,5)).length))for(e=0,t=6-t;e<t;e++)i+="0";return i.replace(/[^0-9a-zA-Z]/g,"0").replace(" ","0")}return l.name.substring(15,21)},X.prototype.handleWindowId=function(){var e=this.getSessionStorage("TawkWindowName");"null"===e&&(e=null),e||this.hasSessionStorage||(e=this.getWindowName()),"null"===e&&(e=null),e||(e=A.generateRandomString(),this.hasSessionStorage?this.setSessionStorage("TawkWindowName",e):this.setWindowName(e)),x=e},X.prototype.storeUUID=function(){var e=this;R.transferedSession||I.uuids&&0<I.uuids.length&&I.uuids.forEach(function(t){var i=(t.isExact?"e::":"p::")+t.domain+"::"+t.uuid+"::"+I.uuidVer;e.isCookieEnabled&&e.setHTTPCookie("__tawkuuid",i,!1,t.domain)}),this.handleWindowId(),this.storeSessionInformation()},X.prototype.getSessionInformation=function(){var e;return this.sessionInformation&&(e=this.sessionInformation),this.hasLocalStorage&&(e=this.getLocalStorage("twk_"+S.pageId)),e||(e=this.getHTTPCookie("Tawk_"+S.pageId)[0]),this.parseSessionInformation(e)},X.prototype.storeSessionInformation=function(e,t){var i,n=this.getSessionInformation();e&&!R.visitorSocketServer||(e?i=R.visitorSocketServer+"::"+p.viewHandler.indicator.unansweredMessages:(i=n[1]||0,p.main.previousSessionKey!==R.sessionKey&&(i=0),i=R.visitorSocketServer+"::"+i),t?i+="::cf":3===n.length&&(i+="::"+n[2]),this.hasLocalStorage?(this.setLocalStorage("twk_"+S.pageId,i),this.clearOldCookies("Tawk_"+S.pageId)):this.setHTTPCookie("Tawk_"+S.pageId,i,!1),this.sessionInformation=i)},X.prototype.parseSessionInformation=function(e){var t=[];return e&&(1>=(t=e.split("::")).length&&(t=e.split("||"))),t},X.prototype.clearOldCookies=function(e){document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},X.prototype.checkCookieEnabled=function(){var e=!!d.cookieEnabled;return void 0!==d.cookieEnabled||e||(document.cookie="testcookie",e=-1!=document.cookie.indexOf("testcookie")),e},X.prototype.getStoredUUID=function(){var e;return this.isCookieEnabled&&(e=this.getHTTPCookie("__tawkuuid")),e&&0<e.length?e:[]};var $=new X,K=function(e){var t;"symbian"===C?this.play=function(){}:("safari"===C?((t=document.createElement("audio")).src=e,t.style.cssText="position: absolute; position: absolute; width: 0px; height: 0px; top: -10000px; left: -10000px;",document.body.appendChild(t)):t=new Audio(e),t.addEventListener("timeupdate",function(){.2<=t.currentTime&&t.pause()},!1),t.load(),this.soundEl=t,this.play=function(){try{t.currentTime=0,t.autoplay=!0,t.load(),t.play()}catch(e){}})},Q=function(e,t,i){this.sourcePath=e,this.buffer=null,this.name=t,this.audioPlayer=i,this.source=null,this.volume=1,this.play=function(){if(this.buffer){var e=this.audioPlayer.audioContext.createGain();e.gain.value=this.volume,this.source=this.audioPlayer.audioContext.createBufferSource(),this.source.buffer=this.buffer,this.source.connect(e),e.connect(this.audioPlayer.audioContext.destination),this.source.start(0)}},this.loadBuffer=function(){var e=new XMLHttpRequest,t=this;e.open("GET",t.sourcePath,!0),e.responseType="arraybuffer",e.onload=function(){t.audioPlayer.audioContext.decodeAudioData(e.response,function(e){e&&(t.buffer=e,t.audioPlayer.isReadyForInit||(t.audioPlayer.eventUsedForInit=t.name,t.audioPlayer.isReadyForInit=!0))},function(e){throw Error(e)})},e.onerror=function(e){throw Error("BufferLoader: XHR error for "+t.sourcePath)},e.send()},this.loadBuffer()},Z=function(){this.sounds={},this.audioContext=null,this.isReadyForInit=!1,this.eventUsedForInit=null};Z.prototype.initAudioPlayer=function(){var e,t,i,n={},a=this;if(k.supported){for(e in this.audioContext||/Firefox/.test(d.userAgent)||"undefined"==typeof AudioBuffer||void 0===l.AudioContext&&void 0===l.webkitAudioContext||(l.AudioContext=l.AudioContext||l.webkitAudioContext,this.audioContext=new l.AudioContext),k.mp3?n=H:k.wav?n=P:k.ogg&&(n=N),n)this.sounds[e]=this.audioContext?new Q(n[e],e,this):new K(n[e]);this.audioContext&&(i=function(){a.isReadyForInit&&a.eventUsedForInit&&!a.touchstartInited&&(a.sounds[a.eventUsedForInit].volume=0,a.sounds[a.eventUsedForInit].play(),a.sounds[a.eventUsedForInit].source.stop(0),a.sounds[a.eventUsedForInit].volume=1,l&&"function"==typeof l.removeEventListener&&l.removeEventListener("touchstart",i,!1),t&&"function"==typeof t.removeEventListener&&t.removeEventListener("touchstart",i,!1),a.touchstartInited=!0)},C&&"ontouchstart"in l&&(e=p.viewHandler.chatContainer.elementReferrer,T.isPopup||(t=e.contentWindow?e.contentWindow:e.contentDocument.defaultView),t?t.addEventListener("touchstart",i,!1):e.addEventListener("touchstart",i,!1),l.addEventListener("touchstart",i,!1)))}},Z.prototype.play=function(e){s.disableSound||T.soundOn()&&this.sounds[e]&&this.sounds[e].play()};var J=function(){var e=this;this.uploads={},p.eventEmitter.on("fileUploadProgress",function(e){p.viewHandler.updateFileProgress(e)}),p.eventEmitter.on("fileUploadFinished",function(t){e.uploads[t.handle]&&(delete e.uploads[t.handle],p.viewHandler.fileUploaded(t.handle),p.chatHandler.sendFileMessage(t))}),p.eventEmitter.on("fileUploadError",function(t){var i=e.uploads[t.handle];i&&p.viewHandler.handleUploadError(null,i,t.handle)})};J.prototype.getUploadHandler=function(e){var t="https://upload.tawk.to/upload/handle?_t="+(new Date).getTime(),i=new XMLHttpRequest;i.onreadystatechange=function(){4===this.readyState&&(200<=this.status&&400>this.status?e(JSON.parse(this.responseText)):e(!0))},i.open("GET",t),i.onerror=function(){e(!0)},i.send(),i=null},J.prototype.uploadFile=function(e,t,i,n){var a="https://upload.tawk.to/upload/visitor-chat/visitor?handle="+e+"&visitorSessionId="+R.sessionKey;if(this.uploads[e]=i,52428800<t.size)return n(!0,"limit50");(e=new FormData).append("upload",t,t.name||t.filename),(t=new XMLHttpRequest).open("POST",a),t.onload=function(){return n(JSON.parse(this.responseText))},t.onerror=function(){return n(!0)},t.send(e)};var ee,te,ie,ne,ae=0,oe={people:{header:":smiley:",content:":grinning: :grin: :joy: :rofl: :smiley: :smile: :sweat_smile: :laughing: :wink: :blush: :yum: :sunglasses: :heart_eyes: :kissing_heart: :kissing: :kissing_smiling_eyes: :kissing_closed_eyes: :relaxed: :slight_smile: :hugging: :thinking: :neutral_face: :expressionless: :no_mouth: :rolling_eyes: :smirk: :persevere: :disappointed_relieved: :open_mouth: :zipper_mouth: :hushed: :sleepy: :tired_face: :sleeping: :relieved: :nerd: :stuck_out_tongue: :stuck_out_tongue_winking_eye: :stuck_out_tongue_closed_eyes: :drooling_face: :unamused: :sweat: :pensive: :confused: :upside_down: :money_mouth: :astonished: :frowning2: :slight_frown: :confounded: :disappointed: :worried: :triumph: :cry: :sob: :frowning: :anguished: :fearful: :weary: :grimacing: :cold_sweat: :scream: :flushed: :dizzy_face: :rage: :angry: :innocent: :cowboy: :clown: :lying_face: :mask: :thermometer_face: :head_bandage: :nauseated_face: :sneezing_face: :smiling_imp: :imp: :japanese_ogre: :japanese_goblin: :skull: :ghost: :alien: :robot: :poop: :smiley_cat: :smile_cat: :joy_cat: :heart_eyes_cat: :smirk_cat: :kissing_cat: :scream_cat: :crying_cat_face: :pouting_cat: :boy: :boy_tone1: :boy_tone2: :boy_tone3: :boy_tone4: :boy_tone5: :girl: :girl_tone1: :girl_tone2: :girl_tone3: :girl_tone4: :girl_tone5: :man: :man_tone1: :man_tone2: :man_tone3: :man_tone4: :man_tone5: :woman: :woman_tone1: :woman_tone2: :woman_tone3: :woman_tone4: :woman_tone5: :older_man: :older_man_tone1: :older_man_tone2: :older_man_tone3: :older_man_tone4: :older_man_tone5: :older_woman: :older_woman_tone1: :older_woman_tone2: :older_woman_tone3: :older_woman_tone4: :older_woman_tone5: :baby: :baby_tone1: :baby_tone2: :baby_tone3: :baby_tone4: :baby_tone5: :angel: :angel_tone1: :angel_tone2: :angel_tone3: :angel_tone4: :angel_tone5: :cop: :cop_tone1: :cop_tone2: :cop_tone3: :cop_tone4: :cop_tone5: :spy: :spy_tone1: :spy_tone2: :spy_tone3: :spy_tone4: :spy_tone5: :guardsman: :guardsman_tone1: :guardsman_tone2: :guardsman_tone3: :guardsman_tone4: :guardsman_tone5: :construction_worker: :construction_worker_tone1: :construction_worker_tone2: :construction_worker_tone3: :construction_worker_tone4: :construction_worker_tone5: :man_with_turban: :man_with_turban_tone1: :man_with_turban_tone2: :man_with_turban_tone3: :man_with_turban_tone4: :man_with_turban_tone5: :person_with_blond_hair: :person_with_blond_hair_tone1: :person_with_blond_hair_tone2: :person_with_blond_hair_tone3: :person_with_blond_hair_tone4: :person_with_blond_hair_tone5: :santa: :santa_tone1: :santa_tone2: :santa_tone3: :santa_tone4: :santa_tone5: :mrs_claus: :mrs_claus_tone1: :mrs_claus_tone2: :mrs_claus_tone3: :mrs_claus_tone4: :mrs_claus_tone5: :princess: :princess_tone1: :princess_tone2: :princess_tone3: :princess_tone4: :princess_tone5: :prince: :prince_tone1: :prince_tone2: :prince_tone3: :prince_tone4: :prince_tone5: :bride_with_veil: :bride_with_veil_tone1: :bride_with_veil_tone2: :bride_with_veil_tone3: :bride_with_veil_tone4: :bride_with_veil_tone5: :man_in_tuxedo: :man_in_tuxedo_tone1: :man_in_tuxedo_tone2: :man_in_tuxedo_tone3: :man_in_tuxedo_tone4: :man_in_tuxedo_tone5: :pregnant_woman: :pregnant_woman_tone1: :pregnant_woman_tone2: :pregnant_woman_tone3: :pregnant_woman_tone4: :pregnant_woman_tone5: :man_with_gua_pi_mao: :man_with_gua_pi_mao_tone1: :man_with_gua_pi_mao_tone2: :man_with_gua_pi_mao_tone3: :man_with_gua_pi_mao_tone4: :man_with_gua_pi_mao_tone5: :person_frowning: :person_frowning_tone1: :person_frowning_tone2: :person_frowning_tone3: :person_frowning_tone4: :person_frowning_tone5: :person_with_pouting_face: :person_with_pouting_face_tone1: :person_with_pouting_face_tone2: :person_with_pouting_face_tone3: :person_with_pouting_face_tone4: :person_with_pouting_face_tone5: :no_good: :no_good_tone1: :no_good_tone2: :no_good_tone3: :no_good_tone4: :no_good_tone5: :ok_woman: :ok_woman_tone1: :ok_woman_tone2: :ok_woman_tone3: :ok_woman_tone4: :ok_woman_tone5: :information_desk_person: :information_desk_person_tone1: :information_desk_person_tone2: :information_desk_person_tone3: :information_desk_person_tone4: :information_desk_person_tone5: :raising_hand: :raising_hand_tone1: :raising_hand_tone2: :raising_hand_tone3: :raising_hand_tone4: :raising_hand_tone5: :bow: :bow_tone1: :bow_tone2: :bow_tone3: :bow_tone4: :bow_tone5: :face_palm: :face_palm_tone1: :face_palm_tone2: :face_palm_tone3: :face_palm_tone4: :face_palm_tone5: :shrug: :shrug_tone1: :shrug_tone2: :shrug_tone3: :shrug_tone4: :shrug_tone5: :massage: :massage_tone1: :massage_tone2: :massage_tone3: :massage_tone4: :massage_tone5: :haircut: :haircut_tone1: :haircut_tone2: :haircut_tone3: :haircut_tone4: :haircut_tone5: :walking: :walking_tone1: :walking_tone2: :walking_tone3: :walking_tone4: :walking_tone5: :runner: :runner_tone1: :runner_tone2: :runner_tone3: :runner_tone4: :runner_tone5: :dancer: :dancer_tone1: :dancer_tone2: :dancer_tone3: :dancer_tone4: :dancer_tone5: :man_dancing: :man_dancing_tone1: :man_dancing_tone2: :man_dancing_tone3: :man_dancing_tone4: :man_dancing_tone5: :dancers: :speaking_head: :bust_in_silhouette: :busts_in_silhouette: :couple: :two_men_holding_hands: :two_women_holding_hands: :couplekiss: :kiss_mm: :kiss_ww: :couple_with_heart: :couple_mm: :couple_ww: :family: :family_mwg: :family_mwgb: :family_mwbb: :family_mwgg: :family_mmb: :family_mmg: :family_mmgb: :family_mmbb: :family_mmgg: :family_wwb: :family_wwg: :family_wwgb: :family_wwbb: :family_wwgg: :muscle: :muscle_tone1: :muscle_tone2: :muscle_tone3: :muscle_tone4: :muscle_tone5: :selfie: :selfie_tone1: :selfie_tone2: :selfie_tone3: :selfie_tone4: :selfie_tone5: :point_left: :point_left_tone1: :point_left_tone2: :point_left_tone3: :point_left_tone4: :point_left_tone5: :point_right: :point_right_tone1: :point_right_tone2: :point_right_tone3: :point_right_tone4: :point_right_tone5: :point_up: :point_up_tone1: :point_up_tone2: :point_up_tone3: :point_up_tone4: :point_up_tone5: :point_up_2: :point_up_2_tone1: :point_up_2_tone2: :point_up_2_tone3: :point_up_2_tone4: :point_up_2_tone5: :middle_finger: :middle_finger_tone1: :middle_finger_tone2: :middle_finger_tone3: :middle_finger_tone4: :middle_finger_tone5: :point_down: :point_down_tone1: :point_down_tone2: :point_down_tone3: :point_down_tone4: :point_down_tone5: :v: :v_tone1: :v_tone2: :v_tone3: :v_tone4: :v_tone5: :fingers_crossed: :fingers_crossed_tone1: :fingers_crossed_tone2: :fingers_crossed_tone3: :fingers_crossed_tone4: :fingers_crossed_tone5: :vulcan: :vulcan_tone1: :vulcan_tone2: :vulcan_tone3: :vulcan_tone4: :vulcan_tone5: :metal: :metal_tone1: :metal_tone2: :metal_tone3: :metal_tone4: :metal_tone5: :call_me: :call_me_tone1: :call_me_tone2: :call_me_tone3: :call_me_tone4: :call_me_tone5: :hand_splayed: :hand_splayed_tone1: :hand_splayed_tone2: :hand_splayed_tone3: :hand_splayed_tone4: :hand_splayed_tone5: :raised_hand: :raised_hand_tone1: :raised_hand_tone2: :raised_hand_tone3: :raised_hand_tone4: :raised_hand_tone5: :ok_hand: :ok_hand_tone1: :ok_hand_tone2: :ok_hand_tone3: :ok_hand_tone4: :ok_hand_tone5: :thumbsup: :thumbsup_tone1: :thumbsup_tone2: :thumbsup_tone3: :thumbsup_tone4: :thumbsup_tone5: :thumbsdown: :thumbsdown_tone1: :thumbsdown_tone2: :thumbsdown_tone3: :thumbsdown_tone4: :thumbsdown_tone5: :fist: :fist_tone1: :fist_tone2: :fist_tone3: :fist_tone4: :fist_tone5: :punch: :punch_tone1: :punch_tone2: :punch_tone3: :punch_tone4: :punch_tone5: :left_facing_fist: :left_facing_fist_tone1: :left_facing_fist_tone2: :left_facing_fist_tone3: :left_facing_fist_tone4: :left_facing_fist_tone5: :right_facing_fist: :right_facing_fist_tone1: :right_facing_fist_tone2: :right_facing_fist_tone3: :right_facing_fist_tone4: :right_facing_fist_tone5: :raised_back_of_hand: :raised_back_of_hand_tone1: :raised_back_of_hand_tone2: :raised_back_of_hand_tone3: :raised_back_of_hand_tone4: :raised_back_of_hand_tone5: :wave: :wave_tone1: :wave_tone2: :wave_tone3: :wave_tone4: :wave_tone5: :clap: :clap_tone1: :clap_tone2: :clap_tone3: :clap_tone4: :clap_tone5: :writing_hand: :writing_hand_tone1: :writing_hand_tone2: :writing_hand_tone3: :writing_hand_tone4: :writing_hand_tone5: :open_hands: :open_hands_tone1: :open_hands_tone2: :open_hands_tone3: :open_hands_tone4: :open_hands_tone5: :raised_hands: :raised_hands_tone1: :raised_hands_tone2: :raised_hands_tone3: :raised_hands_tone4: :raised_hands_tone5: :pray: :pray_tone1: :pray_tone2: :pray_tone3: :pray_tone4: :pray_tone5: :handshake: :handshake_tone1: :handshake_tone2: :handshake_tone3: :handshake_tone4: :handshake_tone5: :nail_care: :nail_care_tone1: :nail_care_tone2: :nail_care_tone3: :nail_care_tone4: :nail_care_tone5: :ear: :ear_tone1: :ear_tone2: :ear_tone3: :ear_tone4: :ear_tone5: :nose: :nose_tone1: :nose_tone2: :nose_tone3: :nose_tone4: :nose_tone5: :footprints: :eyes: :eye: :tongue: :lips: :kiss: :zzz: :eyeglasses: :dark_sunglasses: :necktie: :shirt: :jeans: :dress: :kimono: :bikini: :womans_clothes: :purse: :handbag: :pouch: :school_satchel: :mans_shoe: :athletic_shoe: :high_heel: :sandal: :boot: :crown: :womans_hat: :tophat: :mortar_board: :helmet_with_cross: :lipstick: :ring: :closed_umbrella: :briefcase:".split(" ")},nature:{header:":four_leaf_clover:",content:":see_no_evil: :hear_no_evil: :speak_no_evil: :sweat_drops: :dash: :monkey_face: :monkey: :gorilla: :dog: :dog2: :poodle: :wolf: :fox: :cat: :cat2: :lion_face: :tiger: :tiger2: :leopard: :horse: :racehorse: :deer: :unicorn: :cow: :ox: :water_buffalo: :cow2: :pig: :pig2: :boar: :pig_nose: :ram: :sheep: :goat: :dromedary_camel: :camel: :elephant: :rhino: :mouse: :mouse2: :rat: :hamster: :rabbit: :rabbit2: :chipmunk: :bat: :bear: :koala: :panda_face: :feet: :turkey: :chicken: :rooster: :hatching_chick: :baby_chick: :hatched_chick: :bird: :penguin: :dove: :eagle: :duck: :owl: :frog: :crocodile: :turtle: :lizard: :snake: :dragon_face: :dragon: :whale: :whale2: :dolphin: :fish: :tropical_fish: :blowfish: :shark: :octopus: :shell: :crab: :shrimp: :squid: :butterfly: :snail: :bug: :ant: :bee: :beetle: :spider: :spider_web: :scorpion: :bouquet: :cherry_blossom: :rosette: :rose: :wilted_rose: :hibiscus: :sunflower: :blossom: :tulip: :seedling: :evergreen_tree: :deciduous_tree: :palm_tree: :cactus: :ear_of_rice: :herb: :shamrock: :four_leaf_clover: :maple_leaf: :fallen_leaf: :leaves: :mushroom: :chestnut: :earth_africa: :earth_americas: :earth_asia: :new_moon: :waxing_crescent_moon: :first_quarter_moon: :waxing_gibbous_moon: :full_moon: :waning_gibbous_moon: :last_quarter_moon: :waning_crescent_moon: :crescent_moon: :new_moon_with_face: :first_quarter_moon_with_face: :last_quarter_moon_with_face: :sunny: :full_moon_with_face: :sun_with_face: :star: :star2: :cloud: :partly_sunny: :thunder_cloud_rain: :white_sun_small_cloud: :white_sun_cloud: :white_sun_rain_cloud: :cloud_rain: :cloud_snow: :cloud_lightning: :cloud_tornado: :fog: :wind_blowing_face: :umbrella2: :umbrella: :zap: :snowflake: :snowman2: :snowman: :comet: :fire: :droplet: :ocean: :jack_o_lantern: :christmas_tree: :sparkles: :tanabata_tree: :bamboo:".split(" ")},food:{header:":hamburger:",content:":grapes: :melon: :watermelon: :tangerine: :lemon: :banana: :pineapple: :apple: :green_apple: :pear: :peach: :cherries: :strawberry: :kiwi: :tomato: :avocado: :eggplant: :potato: :carrot: :corn: :hot_pepper: :cucumber: :peanuts: :bread: :croissant: :french_bread: :pancakes: :cheese: :meat_on_bone: :poultry_leg: :bacon: :hamburger: :fries: :pizza: :hotdog: :taco: :burrito: :stuffed_flatbread: :egg: :cooking: :shallow_pan_of_food: :stew: :salad: :popcorn: :bento: :rice_cracker: :rice_ball: :rice: :curry: :ramen: :spaghetti: :sweet_potato: :oden: :sushi: :fried_shrimp: :fish_cake: :dango: :icecream: :shaved_ice: :ice_cream: :doughnut: :cookie: :birthday: :cake: :chocolate_bar: :candy: :lollipop: :custard: :honey_pot: :baby_bottle: :milk: :coffee: :tea: :sake: :champagne: :wine_glass: :cocktail: :tropical_drink: :beer: :beers: :champagne_glass: :tumbler_glass: :fork_knife_plate: :fork_and_knife: :spoon:".split(" ")},objects:{header:":bulb:",content:":skull_crossbones: :love_letter: :bomb: :hole: :shopping_bags: :prayer_beads: :gem: :knife: :amphora: :map: :barber: :frame_photo: :bellhop: :door: :sleeping_accommodation: :bed: :couch: :toilet: :shower: :bathtub: :hourglass: :hourglass_flowing_sand: :watch: :alarm_clock: :stopwatch: :timer: :clock: :thermometer: :beach_umbrella: :balloon: :tada: :confetti_ball: :dolls: :flags: :wind_chime: :ribbon: :gift: :joystick: :postal_horn: :microphone2: :level_slider: :control_knobs: :radio: :iphone: :calling: :telephone: :telephone_receiver: :pager: :fax: :battery: :electric_plug: :computer: :desktop: :printer: :keyboard: :mouse_three_button: :trackball: :minidisc: :floppy_disk: :cd: :dvd: :movie_camera: :film_frames: :projector: :tv: :camera: :camera_with_flash: :video_camera: :vhs: :mag: :mag_right: :microscope: :telescope: :satellite: :candle: :bulb: :flashlight: :izakaya_lantern: :notebook_with_decorative_cover: :closed_book: :book: :green_book: :blue_book: :orange_book: :books: :notebook: :ledger: :page_with_curl: :scroll: :page_facing_up: :newspaper: :newspaper2: :bookmark_tabs: :bookmark: :label: :moneybag: :yen: :dollar: :euro: :pound: :money_with_wings: :credit_card: :envelope: :e-mail: :incoming_envelope: :envelope_with_arrow: :outbox_tray: :inbox_tray: :package: :mailbox: :mailbox_closed: :mailbox_with_mail: :mailbox_with_no_mail: :postbox: :ballot_box: :pencil2: :black_nib: :pen_fountain: :pen_ballpoint: :paintbrush: :crayon: :pencil: :file_folder: :open_file_folder: :dividers: :date: :calendar: :notepad_spiral: :calendar_spiral: :card_index: :chart_with_upwards_trend: :chart_with_downwards_trend: :bar_chart: :clipboard: :pushpin: :round_pushpin: :paperclip: :paperclips: :straight_ruler: :triangular_ruler: :scissors: :card_box: :file_cabinet: :wastebasket: :lock: :unlock: :lock_with_ink_pen: :closed_lock_with_key: :key: :key2: :hammer: :pick: :hammer_pick: :tools: :dagger: :crossed_swords: :gun: :shield: :wrench: :nut_and_bolt: :gear: :compression: :alembic: :scales: :link: :chains: :syringe: :pill: :smoking: :coffin: :urn: :moyai: :oil: :crystal_ball: :shopping_cart: :triangular_flag_on_post: :crossed_flags: :flag_black: :flag_white: :rainbow_flag:".split(" ")},activity:{header:":football:",content:":space_invader: :levitate: :fencer: :horse_racing: :horse_racing_tone1: :horse_racing_tone2: :horse_racing_tone3: :horse_racing_tone4: :horse_racing_tone5: :skier: :snowboarder: :golfer: :surfer: :surfer_tone1: :surfer_tone2: :surfer_tone3: :surfer_tone4: :surfer_tone5: :rowboat: :rowboat_tone1: :rowboat_tone2: :rowboat_tone3: :rowboat_tone4: :rowboat_tone5: :swimmer: :swimmer_tone1: :swimmer_tone2: :swimmer_tone3: :swimmer_tone4: :swimmer_tone5: :basketball_player: :basketball_player_tone1: :basketball_player_tone2: :basketball_player_tone3: :basketball_player_tone4: :basketball_player_tone5: :lifter: :lifter_tone1: :lifter_tone2: :lifter_tone3: :lifter_tone4: :lifter_tone5: :bicyclist: :bicyclist_tone1: :bicyclist_tone2: :bicyclist_tone3: :bicyclist_tone4: :bicyclist_tone5: :mountain_bicyclist: :mountain_bicyclist_tone1: :mountain_bicyclist_tone2: :mountain_bicyclist_tone3: :mountain_bicyclist_tone4: :mountain_bicyclist_tone5: :cartwheel: :cartwheel_tone1: :cartwheel_tone2: :cartwheel_tone3: :cartwheel_tone4: :cartwheel_tone5: :wrestlers: :wrestlers_tone1: :wrestlers_tone2: :wrestlers_tone3: :wrestlers_tone4: :wrestlers_tone5: :water_polo: :water_polo_tone1: :water_polo_tone2: :water_polo_tone3: :water_polo_tone4: :water_polo_tone5: :handball: :handball_tone1: :handball_tone2: :handball_tone3: :handball_tone4: :handball_tone5: :juggling: :juggling_tone1: :juggling_tone2: :juggling_tone3: :juggling_tone4: :juggling_tone5: :circus_tent: :performing_arts: :art: :slot_machine: :bath: :bath_tone1: :bath_tone2: :bath_tone3: :bath_tone4: :bath_tone5: :reminder_ribbon: :tickets: :ticket: :military_medal: :trophy: :medal: :first_place: :second_place: :third_place: :soccer: :baseball: :basketball: :volleyball: :football: :rugby_football: :tennis: :8ball: :bowling: :cricket: :field_hockey: :hockey: :ping_pong: :badminton: :boxing_glove: :martial_arts_uniform: :goal: :dart: :golf: :ice_skate: :fishing_pole_and_fish: :running_shirt_with_sash: :ski: :video_game: :game_die: :musical_score: :microphone: :headphones: :saxophone: :guitar: :musical_keyboard: :trumpet: :violin: :drum: :clapper: :bow_and_arrow:".split(" ")},travel:{header:":red_car:",content:":race_car: :motorcycle: :japan: :mountain_snow: :mountain: :volcano: :mount_fuji: :camping: :beach: :desert: :island: :park: :stadium: :classical_building: :construction_site: :homes: :cityscape: :house_abandoned: :house: :house_with_garden: :office: :post_office: :european_post_office: :hospital: :bank: :hotel: :love_hotel: :convenience_store: :school: :department_store: :factory: :japanese_castle: :european_castle: :wedding: :tokyo_tower: :statue_of_liberty: :church: :mosque: :synagogue: :shinto_shrine: :kaaba: :fountain: :tent: :foggy: :night_with_stars: :sunrise_over_mountains: :sunrise: :city_dusk: :city_sunset: :bridge_at_night: :milky_way: :carousel_horse: :ferris_wheel: :roller_coaster: :steam_locomotive: :railway_car: :bullettrain_side: :bullettrain_front: :train2: :metro: :light_rail: :station: :tram: :monorail: :mountain_railway: :train: :bus: :oncoming_bus: :trolleybus: :minibus: :ambulance: :fire_engine: :police_car: :oncoming_police_car: :taxi: :oncoming_taxi: :red_car: :oncoming_automobile: :blue_car: :truck: :articulated_lorry: :tractor: :bike: :scooter: :motor_scooter: :busstop: :motorway: :railway_track: :fuelpump: :rotating_light: :traffic_light: :vertical_traffic_light: :construction: :anchor: :sailboat: :canoe: :speedboat: :cruise_ship: :ferry: :motorboat: :ship: :airplane: :airplane_small: :airplane_departure: :airplane_arriving: :seat: :helicopter: :suspension_railway: :mountain_cableway: :aerial_tramway: :rocket: :satellite_orbital: :stars: :rainbow: :fireworks: :sparkler: :rice_scene: :checkered_flag:".split(" ")},symbols:{header:":hash:",content:":100: :1234: :eye_in_speech_bubble: :cupid: :heart: :heartbeat: :broken_heart: :two_hearts: :sparkling_heart: :heartpulse: :blue_heart: :green_heart: :yellow_heart: :purple_heart: :black_heart: :gift_heart: :revolving_hearts: :heart_decoration: :heart_exclamation: :anger: :boom: :dizzy: :speech_balloon: :speech_left: :anger_right: :thought_balloon: :white_flower: :globe_with_meridians: :hotsprings: :octagonal_sign: :clock12: :clock1230: :clock1: :clock130: :clock2: :clock230: :clock3: :clock330: :clock4: :clock430: :clock5: :clock530: :clock6: :clock630: :clock7: :clock730: :clock8: :clock830: :clock9: :clock930: :clock10: :clock1030: :clock11: :clock1130: :cyclone: :spades: :hearts: :diamonds: :clubs: :black_joker: :mahjong: :flower_playing_cards: :mute: :speaker: :sound: :loud_sound: :loudspeaker: :mega: :bell: :no_bell: :musical_note: :notes: :chart: :currency_exchange: :heavy_dollar_sign: :atm: :put_litter_in_its_place: :potable_water: :wheelchair: :mens: :womens: :restroom: :baby_symbol: :wc: :passport_control: :customs: :baggage_claim: :left_luggage: :warning: :children_crossing: :no_entry: :no_entry_sign: :no_bicycles: :no_smoking: :do_not_litter: :non-potable_water: :no_pedestrians: :no_mobile_phones: :underage: :radioactive: :biohazard: :arrow_up: :arrow_upper_right: :arrow_right: :arrow_lower_right: :arrow_down: :arrow_lower_left: :arrow_left: :arrow_upper_left: :arrow_up_down: :left_right_arrow: :leftwards_arrow_with_hook: :arrow_right_hook: :arrow_heading_up: :arrow_heading_down: :arrows_clockwise: :arrows_counterclockwise: :back: :end: :on: :soon: :top: :place_of_worship: :atom: :om_symbol: :star_of_david: :wheel_of_dharma: :yin_yang: :cross: :orthodox_cross: :star_and_crescent: :peace: :menorah: :six_pointed_star: :aries: :taurus: :gemini: :cancer: :leo: :virgo: :libra: :scorpius: :sagittarius: :capricorn: :aquarius: :pisces: :ophiuchus: :twisted_rightwards_arrows: :repeat: :repeat_one: :arrow_forward: :fast_forward: :track_next: :play_pause: :arrow_backward: :rewind: :track_previous: :arrow_up_small: :arrow_double_up: :arrow_down_small: :arrow_double_down: :pause_button: :stop_button: :record_button: :eject: :cinema: :low_brightness: :high_brightness: :signal_strength: :vibration_mode: :mobile_phone_off: :recycle: :name_badge: :fleur-de-lis: :beginner: :trident: :o: :white_check_mark: :ballot_box_with_check: :heavy_check_mark: :heavy_multiplication_x: :x: :negative_squared_cross_mark: :heavy_plus_sign: :heavy_minus_sign: :heavy_division_sign: :curly_loop: :loop: :part_alternation_mark: :eight_spoked_asterisk: :eight_pointed_black_star: :sparkle: :bangbang: :interrobang: :question: :grey_question: :grey_exclamation: :exclamation: :wavy_dash: :copyright: :registered: :tm: :hash: :asterisk: :zero: :one: :two: :three: :four: :five: :six: :seven: :eight: :nine: :keycap_ten: :capital_abcd: :abcd: :symbols: :abc: :a: :ab: :b: :cl: :cool: :free: :information_source: :id: :m: :new: :ng: :o2: :ok: :parking: :sos: :up: :vs: :koko: :sa: :u6708: :u6709: :u6307: :ideograph_advantage: :u5272: :u7121: :u7981: :accept: :u7533: :u5408: :u7a7a: :congratulations: :secret: :u55b6: :u6e80: :black_small_square: :white_small_square: :white_medium_square: :black_medium_square: :white_medium_small_square: :black_medium_small_square: :black_large_square: :white_large_square: :large_orange_diamond: :large_blue_diamond: :small_orange_diamond: :small_blue_diamond: :small_red_triangle: :small_red_triangle_down: :diamond_shape_with_a_dot_inside: :radio_button: :black_square_button: :white_square_button: :white_circle: :black_circle: :red_circle: :blue_circle: :regional_indicator_z: :regional_indicator_y: :regional_indicator_x: :regional_indicator_w: :regional_indicator_v: :regional_indicator_u: :regional_indicator_t: :regional_indicator_s: :regional_indicator_r: :regional_indicator_q: :regional_indicator_p: :regional_indicator_o: :regional_indicator_n: :regional_indicator_m: :regional_indicator_l: :regional_indicator_k: :regional_indicator_j: :regional_indicator_i: :regional_indicator_h: :regional_indicator_g: :regional_indicator_f: :regional_indicator_e: :regional_indicator_d: :regional_indicator_c: :regional_indicator_b: :regional_indicator_a:".split(" ")},flags:{header:":flag_black:",content:":flag_ac: :flag_ad: :flag_ae: :flag_af: :flag_ag: :flag_ai: :flag_al: :flag_am: :flag_ao: :flag_aq: :flag_ar: :flag_as: :flag_at: :flag_au: :flag_aw: :flag_ax: :flag_az: :flag_ba: :flag_bb: :flag_bd: :flag_be: :flag_bf: :flag_bg: :flag_bh: :flag_bi: :flag_bj: :flag_bl: :flag_bm: :flag_bn: :flag_bo: :flag_bq: :flag_br: :flag_bs: :flag_bt: :flag_bv: :flag_bw: :flag_by: :flag_bz: :flag_ca: :flag_cc: :flag_cd: :flag_cf: :flag_cg: :flag_ch: :flag_ci: :flag_ck: :flag_cl: :flag_cm: :flag_cn: :flag_co: :flag_cp: :flag_cr: :flag_cu: :flag_cv: :flag_cw: :flag_cx: :flag_cy: :flag_cz: :flag_de: :flag_dg: :flag_dj: :flag_dk: :flag_dm: :flag_do: :flag_dz: :flag_ea: :flag_ec: :flag_ee: :flag_eg: :flag_eh: :flag_er: :flag_es: :flag_et: :flag_eu: :flag_fi: :flag_fj: :flag_fk: :flag_fm: :flag_fo: :flag_fr: :flag_ga: :flag_gb: :flag_gd: :flag_ge: :flag_gf: :flag_gg: :flag_gh: :flag_gi: :flag_gl: :flag_gm: :flag_gn: :flag_gp: :flag_gq: :flag_gr: :flag_gs: :flag_gt: :flag_gu: :flag_gw: :flag_gy: :flag_hk: :flag_hm: :flag_hn: :flag_hr: :flag_ht: :flag_hu: :flag_ic: :flag_id: :flag_ie: :flag_il: :flag_im: :flag_in: :flag_io: :flag_iq: :flag_ir: :flag_is: :flag_it: :flag_je: :flag_jm: :flag_jo: :flag_jp: :flag_ke: :flag_kg: :flag_kh: :flag_ki: :flag_km: :flag_kn: :flag_kp: :flag_kr: :flag_kw: :flag_ky: :flag_kz: :flag_la: :flag_lb: :flag_lc: :flag_li: :flag_lk: :flag_lr: :flag_ls: :flag_lt: :flag_lu: :flag_lv: :flag_ly: :flag_ma: :flag_mc: :flag_md: :flag_me: :flag_mf: :flag_mg: :flag_mh: :flag_mk: :flag_ml: :flag_mm: :flag_mn: :flag_mo: :flag_mp: :flag_mq: :flag_mr: :flag_ms: :flag_mt: :flag_mu: :flag_mv: :flag_mw: :flag_mx: :flag_my: :flag_mz: :flag_na: :flag_nc: :flag_ne: :flag_nf: :flag_ng: :flag_ni: :flag_nl: :flag_no: :flag_np: :flag_nr: :flag_nu: :flag_nz: :flag_om: :flag_pa: :flag_pe: :flag_pf: :flag_pg: :flag_ph: :flag_pk: :flag_pl: :flag_pm: :flag_pn: :flag_pr: :flag_ps: :flag_pt: :flag_pw: :flag_py: :flag_qa: :flag_re: :flag_ro: :flag_rs: :flag_ru: :flag_rw: :flag_sa: :flag_sb: :flag_sc: :flag_sd: :flag_se: :flag_sg: :flag_sh: :flag_si: :flag_sj: :flag_sk: :flag_sl: :flag_sm: :flag_sn: :flag_so: :flag_sr: :flag_ss: :flag_st: :flag_sv: :flag_sx: :flag_sy: :flag_sz: :flag_ta: :flag_tc: :flag_td: :flag_tf: :flag_tg: :flag_th: :flag_tj: :flag_tk: :flag_tl: :flag_tm: :flag_tn: :flag_to: :flag_tr: :flag_tt: :flag_tv: :flag_tw: :flag_tz: :flag_ua: :flag_ug: :flag_um: :flag_us: :flag_uy: :flag_uz: :flag_va: :flag_vc: :flag_ve: :flag_vg: :flag_vi: :flag_vn: :flag_vu: :flag_wf: :flag_ws: :flag_xk: :flag_ye: :flag_yt: :flag_za: :flag_zm: :flag_zw:".split(" ")}},re=function(e){var t=e.getElementsByTagName("head")[0],i=e.createElement("script");e=e.createElement("link"),i.type="text/javascript",i.src="https://cdn.jsdelivr.net/emojione/2.2.7/lib/js/emojione.min.js",i.async=!0,e.type="text/css",e.rel="stylesheet",e.href="https://cdn.jsdelivr.net/emojione/2.2.7/assets/css/emojione.min.css",t.appendChild(e),t.appendChild(i),se()},se=function(){var e;clearTimeout(ie),T.isPopup?e=l:(e=C&&T.isPopup?p.viewHandler.chatContainer.elementId:t.container.elementId,e=(e=document.getElementById(e)).contentWindow||e.contentDocument||e),void 0===e.emojione?20===++ae?(clearTimeout(ie),ae=0):ie=setTimeout(function(){se()},20):(clearTimeout(ie),ae=0,(te=e.emojione).ascii=!0,ne=te.shortnames.replace(/\\\+/g,"+").split("|"))},le=function(e){var t,i="",n=h["emoji-selection"],a=h["emoji-tab-select"];ee&&ee===e?A.addClass(e,"showWithFade"):(A.addClass(e,"showWithFade"),void 0===te?20===ae?e.innerHTML=p.languageParser.translate("chat","emoji_error_load"):(0===ae&&se(),setTimeout(function(){le(e)},20)):(clearTimeout(ie),ee=e,setTimeout(function(){Object.keys(oe).forEach(function(e){i+=a.replace(/__ID__/,e).replace(/__IMAGE__/,te.shortnameToImage(oe[e].header)).replace(/__IS_ACTIVE__/,"")}),n=n.replace(/__TAB_LIST__/,i),e.innerHTML=n,t=A.getElementsByClassName(e,"open-tab"),ce(e,{target:t[0]});for(var o=0;o<t.length;o++)p.eventHandler.listen(t[o],p.viewHandler.clickEvent,function(t){t.stopPropagation(),ce(e,t)},t[o].id+"OpenTab")})))},ce=function(e,i){var n,a,o,r="",s=h["emoji-tab-pane"],l=h["emoji-list"];if(a=A.getElementsByClassName(e,"open-tab"),o="max"!==R.chatWindowState()&&p.viewHandler.messagePreview?p.viewHandler.messagePreview.container.getElementById("tab-content"):C&&T.isPopup?p.viewHandler.chatContainer.getElementById("tab-content"):t.container.getElementById("tab-content")){n=(n="open-tab"===i.target.className?i.target:i.target.offsetParent).id;for(var c=0;c<a.length;c++)a[c].className=a[c].id===n?"open-tab active":"open-tab";"search"===n?(o.innerHTML=h["emoji-search-pane"],o=C&&T.isPopup?p.viewHandler.chatContainer.getElementById("search-emoji"):t.container.getElementById("search-emoji"),p.eventHandler.listen(o,"keyup",function(e){var i=p.eventHandler.getTargetElement(e).value.trim().toLowerCase(),n=h["emoji-list"],a="";if((e=C&&T.isPopup?p.viewHandler.chatContainer.getElementById("search-list"):t.container.getElementById("search-list"))&&ne){if(i)for(var o=0;o<ne.length;o++){var r=ne[o];-1!==r.indexOf(i)&&(a+=n.replace(/__IMAGE__/,te.shortnameToImage(r)).replace(/__SHORTNAME__/g,r))}e.innerHTML=a,de()}},"searchEmojiKeyup")):(a=oe[n])&&(a.content.forEach(function(e){r+=l.replace(/__IMAGE__/,te.shortnameToImage(e)).replace(/__SHORTNAME__/g,e)}),o.innerHTML=s.replace(/__EMOJIS__/,r).replace(/__ID__/,"people"),de())}},de=function(){for(var e=A.getElementsByClassName(ee,"emoji-select"),t=0;t<e.length;t++)"touchend"===p.viewHandler.clickEvent?pe(e[t]):p.eventHandler.listen(e[t],p.viewHandler.clickEvent,function(e){e=p.eventHandler.getTargetElement(e),he(e)},e[t].id+"SelectEmoji")},pe=function(e){p.eventHandler.listen(e,"touchstart",function(e){p.eventHandler.getTargetElement(e).setAttribute("data-moved","0")},e.id+"TouchEmoji"),p.eventHandler.listen(e,"touchmove",function(e){p.eventHandler.getTargetElement(e).setAttribute("data-moved","1")},e.id+"MoveEmoji"),p.eventHandler.listen(e,"touchend",function(e){"0"===(e=p.eventHandler.getTargetElement(e)).getAttribute("data-moved")&&he(e),e.removeAttribute("data-moved")},e.id+"TapEmoji")},he=function(e){e=te.shortnameToUnicode(e.title),C&&T.isPopup?p.viewHandler.addEmojiToInput(e):"max"===R.chatWindowState()||T.isPopup||T.isEmbedded?t.addEmojiToInput(e):p.viewHandler.messagePreview&&p.viewHandler.messagePreview.addEmojiToInput(e)},me=function(){this.chatWindowStates={min:!0,max:!0},this.selfOrigin=this.socket=null,this.forceDisconnected=this.banned=this.ready=this.disconnect=!1,this.clearRegisterRetryTimeout=null};(me.prototype=new EventEmitter).init=function(){var t,i=this,o=(new Date).getTime();this.forceDisconnected=this.disconnect=e.connected=!1,this.removeAllListeners(),this.socket&&(this.socket.removeAllListeners(),this.socket.disconnect()),null===x&&$.handleWindowId(),null!==x&&"null"!==x||p.loggingHandler.logIncident("windowId is null",{windowId:x,type:typeof x}),(t={k:R.sessionKey,u:I.uuid,uv:I.uuidVer,a:S.pageId,cver:B.chatVersion,pop:T.isPopup,w:x,jv:R.currentVersion,asver:R.pageStatusVersion,ust:$_Tawk_Unstable,p:T.isPopup?S.pageName():document.title,r:document.referrer}).p&&255<t.p.length&&(t.p=t.p.substring(0,255)),this.socket=new $__TawkSocket("wss://"+R.visitorSocketServer+"/",{engineIo:$__TawkEngine,path:"/s",query:t}),this.socket.on("disconnect",function(){i.disconnectHandler()}),this.socket.on("error",function(e){var t,n="socket on error";if(e instanceof Error){if(t={toString:e.toString(),stack:e.stack,lineNumber:e.lineNumber,fileName:e.fileName},p.loggingHandler.unloading&&-1===t.toString.indexOf("post"))return;"TransportError"===e.type&&(t.description=e.description),-1!==t.toString.indexOf("post")&&(n="socket post error")}else t=e;p.loggingHandler.logIncident(n,t),i.socket.disconnect(),i.disconnectHandler()}),this.socket.on("connect",function(){i.disconnect=!1}),this.socket.on("ready",function(t,r,s){if(!p)return i.disconnectSocket();i.selfOrigin=t,e.connected=!0,i.ready||(e.loaded=!0,"undefined"!=typeof $_Tawk_LoadStart&&p.loggingHandler.logPerformance({socket:(new Date).getTime()-o,register:a.registerTime,widget:(new Date).getTime()-$_Tawk_LoadStart,script:(new Date).getTime()-c,download:c-$_Tawk_LoadStart})),i.ready=!0;try{p.eventEmitter.emit("syncConversation",r)}catch(e){n.handleError("Unable to emit syncConversation",e.fileName,e.lineNumber,e.stack)}try{p.eventEmitter.emit("pageStatusUpdated",s)}catch(e){n.handleError("Unable to emit pageStatusUpdated",e.fileName,e.lineNumber,e.stack)}try{p.eventEmitter.emit("socketReady")}catch(e){n.handleError("Unable to emit socketReady",e.fileName,e.lineNumber,e.stack)}clearTimeout(i.clearRegisterRetryTimeout),i.clearRegisterRetryTimeout=setTimeout(function(){i.disconnect||a.resetRetryCount(),i.clearRegisterRetryTimeout=null},5e3)}),this.socket.on("remoteDisconnect",function(e){if("BANNED"===(e=e||{}).msg){i.banned=!0;try{i.socket.disconnect()}catch(e){n.handleError("Unable to emit disconnect socket on ban",e.fileName,e.lineNumber,e.stack)}p.main.hideWidget()}else i.socket.disconnect(),i.disconnectHandler()}),this.addEventListeners()},me.prototype.addEventListeners=function(){function e(e,t){try{p.eventEmitter.emit(e,t)}catch(i){n.handleError("Unable to emit socket event : "+e+" with data : "+JSON.stringify(t),i.fileName,i.lineNumber,i.stack)}}var t=this;this.socket.on("visitorChatWindowState",function(i){t.selfOrigin!==i.origin&&e("windowStateUpdated",i)}),this.socket.on("visitorDataUpdate",function(i){t.selfOrigin!==i.origin&&e("visitorDataUpdate",i)}),this.socket.on("visitorSound",function(e){e.origin!==t.selfOrigin&&p.chatHandler.toggleSound(!!e.sdo)}),this.socket.on("visitorMessage",function(i){t.selfOrigin!==i.origin&&e("incomingMessage",i)}),this.socket.on("visitorConversationPresenceUpdate",function(t){e("incomingMessage",t)}),this.socket.on("pageStatus",function(t){e("pageStatusUpdated",t)}),this.socket.on("newCriticalUpdate",function(e){(e=e||0)!=R.criticalVersion&&p.main.criticalRefresh(e,!0)}),this.socket.on("newUnstableCriticalUpdate",function(e){e=e||0,$_Tawk_Unstable&&e!=R.criticalVersion&&p.main.criticalRefresh(e,!0)}),this.socket.on("visitorPopupFocus",function(t){e("visitorPopupFocus",!!(t=t||{}).hasFocus)}),this.socket.on("chatBubbleClosed",function(i){i.origin!==t.selfOrigin&&e("chatBubbleClosed",!0)}),this.socket.on("agentIsTyping",function(t){e("agentIsTyping",t)}),this.socket.on("agentStopedTyping",function(t){e("agentStopedTyping",t)}),this.socket.on("pageDisable",function(){e("removeWidget")}),this.socket.on("widgetScheduleUpdate",function(t){e("scheduleUpdate",t)}),this.socket.on("uploadProgress",function(t){e("fileUploadProgress",t)}),this.socket.on("uploadFinished",function(t){e("fileUploadFinished",t)}),this.socket.on("uploadError",function(t){e("fileUploadError",t)}),this.socket.on("vCallStatus",function(t){e("webrtcCallStatus",t)}),this.socket.on("visitorChatSeen",function(t){e("visitorChatSeen",t)}),this.socket.on("visitorChatDismiss",function(t){e("visitorChatDismiss",t)}),this.socket.on("visitorTagsUpdate",function(t){e("visitorTagsUpdate",t)}),this.on("notifyWindowState",function(e){t.chatWindowStates[e]&&t.socket.send("chatWindowState",e)}),this.on("notifyChatBubbleClosed",function(){t.socket.send("chatBubbleClose")}),this.on("notifyMessagePreview",function(e){t.socket.send("messagePreview",e,(new Date).getTime())}),this.on("sendChatMessage",function(e,i){t.socket.send("chatMessage",e,i)}),this.on("notifyNameChange",function(e,i){t.socket.send("saveNameChangeForm",e,i)}),this.on("notifyEmailTranscript",function(e,i){t.socket.send("saveTranscriptEmailForm",e,i)}),this.on("notifyEndChatTranscript",function(e,i){t.socket.send("sendTranscript",e,i)}),this.on("notifyOfflineMessage",function(e,i){t.socket.send("service","visitor-chat","/v1/visitor/offline-form",e,i)}),this.on("visitorChatSeen",function(e,t){this.socket.send("service","visitor-chat","/v1/visitor/messages-seen",e,t)}),this.on("visitorChatDismiss",function(e,t){this.socket.send("service","visitor-chat","/v1/visitor/dismiss-preview",e,t)}),this.on("notifyPrechat",function(e,i){t.socket.send("savePrechatForm",e,i)}),this.on("setRating",function(e){t.socket.send("visitorRating",e)}),this.on("toggleSound",function(e){t.socket.send("visitorSound",e)}),this.on("notifyWidgetResized",function(){t.socket.send("chatWindowResize")}),this.on("popupOnFocus",function(e){t.socket.send("visitorPopupFocus",e)}),this.on("notifySocketStatusUpdate",function(e){t.socket.send("socketStatusUpdate",e)}),this.on("saveForeignKey",function(e,i){t.socket.send("saveForeignKey",e,i)}),this.on("saveConversion",function(e,i){t.socket.send("saveConversion",e,i)}),this.on("submitMultipleOptions",function(e,i){t.socket.send("saveMultipleOptions",e,i)}),this.on("endVisitorChat",function(e,i){t.socket.send("endChat",i)}),this.on("fileUploadMessage",function(e,i){t.socket.send("fileUploadMessage",e,i)}),this.on("addEvent",function(e,i){t.socket.send("addEvent",e,i)}),this.on("setAttributes",function(e,i){t.socket.send("setAttributes",e,i)}),this.on("addTags",function(e,i){t.socket.send("addTags",e,i)}),this.on("removeTags",function(e,i){t.socket.send("removeTags",e,i)}),this.on("getWebRTCToken",function(e,t){this.socket.send("service","webrtc","/v1/vcall/init/visitor",e,t)}),this.on("getCallStatus",function(e,t){this.socket.send("service","webrtc","/v1/vcall/status/visitor",e,t)}),this.on("declineCall",function(e,t){this.socket.send("service","webrtc","/v1/vcall/reject/visitor",e,t)})},me.prototype.disconnectSocket=function(){this.forceDisconnected=!0,this.socket&&(this.socket.disconnect(),this.disconnectHandler())},me.prototype.disconnectHandler=function(){e.connected=!1,this.socket.removeAllListeners(),this.removeAllListeners(),p.scheduler.cleanUp(),this.banned||this.forceDisconnected||this.disconnect||(this.disconnect=!0,a.retryRegister())};var ge=function(e,t,i,n,a){var o=this;this.elementId=e||"",this.style=t||"",this.tagName=n||"div",this.childViews=[],this.template=e&&h[e]?h[e]:"",this.elementReferrer=null,this.documentRef=a||document,this.attributes={},this.isVisible=!1,this.classNames=[],"iframe"===n&&(this.isIframe=!0),this.elementId&&(this.attributes.id=this.elementId),i&&Object.keys(i).forEach(function(e){o.attributes[e]=i[e]})};ge.prototype.addChildViews=function(e){var t=this;e.forEach(function(e){t.childViews.push(e)})},ge.prototype.buildView=function(e){return this.documentRef=e||this.documentRef,this.elementReferrer=A.createElement(this.documentRef,this.tagName,this.attributes,this.style,this.template),this.elementReferrer.className+=this.classNames.join(" "),this.isIframe||this.buildChildViews(),this.elementReferrer},ge.prototype.buildChildViews=function(e){var t=this;this.childViews.length&&(this.documentRef=e||this.documentRef,this.childViews.forEach(function(e){t.elementReferrer.appendChild(e.buildView(t.documentRef))}))},ge.prototype.restyle=function(e,t){t&&(-1===t.indexOf("!important")&&(t+=" !important"),this.elementReferrer?this.elementReferrer.style.cssText+=";"+e+":"+t:this.style+=";"+e+":"+t)},ge.prototype.attachUserEventListener=function(e,t,i,n){var a;(a=i?this.getElementById(i):this.elementReferrer)&&(1<(i=e.split(" ")).length?i.forEach(function(e){p.eventHandler.listen(a,e,t,e+n)}):p.eventHandler.listen(a,e,t,n))},ge.prototype.toggle=function(){this.isVisible?(this.restyle("display","none !important"),this.isVisible=!1):(this.restyle("display","block !important"),this.isVisible=!0)},ge.prototype.getElementById=function(e){return this.elementReferrer?this.documentRef.getElementById(e):null},ge.prototype.insertHtml=function(e){this.elementReferrer.innerHTML=e},ge.prototype.clear=function(){this.elementReferrer&&(this.elementReferrer.outerHTML="",this.elementReferrer=null)},ge.prototype.addClass=function(e){-1===this.classNames.indexOf(e)&&(this.classNames.push(e),this.elementReferrer&&(this.elementReferrer.className=this.classNames.join(" ")))},ge.prototype.removeClass=function(e){for(;-1!==this.classNames.indexOf(e);)this.classNames.splice(this.classNames.indexOf(e),1);this.elementReferrer&&(this.elementReferrer.className=this.classNames.join(" "))},ge.prototype.hide=function(){this.restyle("display","none !important"),this.isVisible=!1},ge.prototype.show=function(){this.restyle("display","block !important"),this.isVisible=!0},ge.prototype.insertCssFile=function(e,t){var i=this.documentRef.getElementsByTagName("head")[0],n=this.documentRef.createDocumentFragment(),a=A.createElement(this.documentRef,"style",{type:"text/css"}),o=this.documentRef.createTextNode(t?e:p.ResetStyle+""+e);n.appendChild(a),i.appendChild(n),a.styleSheet?a.styleSheet.cssText=o.nodeValue:a.appendChild(o)},ge.prototype.massRestyle=function(e){for(var t in e)e.hasOwnProperty(t)&&this.restyle(t,e[t])};var fe=function(){ge.apply(this,arguments)};(fe.prototype=new ge).constructor=fe,fe.prototype.parent=ge.prototype,fe.prototype.buildIframe=function(e,t){if(this.documentRef=A.getDocument(this.elementReferrer),w)this.documentRef.open(),this.documentRef.writeln('<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" /></head><body></body></html>'),this.documentRef.close();else{this.documentRef.open(),this.documentRef.close();var i=document.implementation.createDocumentType("html","","");this.documentRef.insertBefore(i,this.documentRef.childNodes[0]),this.documentRef.head.innerHTML='<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" /></head>'}t||A.updateFontStylesheet(this.documentRef),this.insertCssFile(e),this.insertContent(),this.buildChildViews()},fe.prototype.insertContent=function(){this.documentRef.body.innerHTML=this.template},fe.prototype.buildChildViews=function(){var e=this;this.childViews.forEach(function(t){e.documentRef.body.appendChild(t.buildView(e.documentRef))})};var ue=function(e){this.template=(this.elementId=(this.formData=e)?e.id:null)&&h[this.elementId]?h[this.elementId]:"",this.elementReferrer=null,this.documentRef=document,this.attributes={className:"form"},this.elementId&&(this.attributes.id=this.elementId)};ue.prototype.buildForm=function(){this.formData.additionalFields=[],this.insertTranslatedTexts()},ue.prototype.buildView=function(e){return this.documentRef=e||this.documentRef,this.elementReferrer=A.createElement(this.documentRef,"div",this.attributes,null,this.template)},ue.prototype.addPlaceholderText=function(e,t,i,n,a){a=RegExp("__"+e.toUpperCase()+"_PLACEHOLDER__","gm"),e.toUpperCase(),e=RegExp("__"+e.toUpperCase()+"__","gm");var o=p.languageParser.translate("form",i+"Placeholder");if(E||t||(t=o),o&&o!==i+"Placeholder"||(o=t,t=""),n)return A.escapeTemplateReplacement(n,[{placeholder:a,textReplace:o},{placeholder:e,textReplace:t}]);this.template=A.escapeTemplateReplacement(this.template,[{placeholder:a,textReplace:o},{placeholder:e,textReplace:t}])},ue.prototype.addPlaceholderHandler=function(){var e,t=this;E||(e=this.formData.fields)&&e.forEach(function(e){var i,n,a;"input"!==e.type||e.isEnabled&&!e.isEnabled()||(a=e.getValue?e.getValue():"","input"===e.type&&A.isArray(a)?a.forEach(function(a,o){i=t.documentRef.getElementById(e.fieldName+o),n=a,A.togglePlaceholderText(i,n,e.fieldName+o),"textarea"!==i.tagName.toLowerCase()||A.trim(i.value)||(i.value=n)}):e.hiddenIE8||(i=t.documentRef.getElementById(e.fieldName+"Field"),n=p.languageParser.translate("form",e.languageKey+"Placeholder"),A.togglePlaceholderText(i,n,e.fieldName+"Field"),"textarea"!==i.tagName.toLowerCase()||A.trim(i.value)||(i.value=n)))})},ue.prototype.insertTranslatedTexts=function(){var e=this,t="";(this.formData.fields||[]).forEach(function(t){var i;i=t.getValue?t.getValue():"",e.addPlaceholderText(t.fieldName,i,t.languageKey,null,t.labelText)}),this.template=A.escapeTemplateReplacement(this.template,[{placeholder:"__TITLE__",textReplace:this.formData.getTitle?this.formData.getTitle():p.languageParser.translate("form",this.formData.title)},{placeholder:"__OVERLAY__",textReplace:p.languageParser.translate("overlay",this.formData.overlayMessage)},{placeholder:"__CANCEL_BUTTON__",textReplace:p.languageParser.translate("form","CancelButton")},{placeholder:"__CLOSE_BUTTON__",textReplace:p.languageParser.translate("form","CloseButton")},{placeholder:"__SAVE_BUTTON__",textReplace:p.languageParser.translate("form","SaveButton")},{placeholder:"__SEND_BUTTON__",textReplace:p.languageParser.translate("form","SendButton")},{placeholder:"__SUBMIT_BUTTON__",textReplace:p.languageParser.translate("form","SubmitButton")},{placeholder:"__START_CHAT_BUTTON__",textReplace:p.languageParser.translate("form","StartChatButton")},{placeholder:"__END_CHAT_BUTTON__",textReplace:p.languageParser.translate("rollover","end")},{placeholder:"__SUBMITTING_INDICATOR__",textReplace:p.languageParser.translate("form","SubmittingProcess")},{placeholder:"__ENDING_INDICATOR__",textReplace:p.languageParser.translate("form","EndingProcess")},{placeholder:"__SENDING_INDICATOR__",textReplace:p.languageParser.translate("form","SendingProcess")},{placeholder:"__SAVING_INDICATOR__",textReplace:p.languageParser.translate("form","SavingProcess")},{placeholder:"__EMAIL_TRANSCRIPT_TO__",textReplace:p.languageParser.translate("form","EmailTranscriptTo")},{placeholder:"__OFFLINE_MESSAGE_SUCCESSFULY_SENT__",textReplace:p.languageParser.translate("form","OfflineMessageSent")},{placeholder:"__SEND_AGAIN__",textReplace:p.languageParser.translate("form","sendAgain")},{placeholder:/__STATUS__/gm,textReplace:p.languageParser.translate("form","saving")},{placeholder:"__CHANGE_NAME__",textReplace:p.languageParser.translate("menu","change_name")},{placeholder:/__SAFARI__/gm,textReplace:"safari"===b?"safari-fix":""},{placeholder:/__SKIP_BUTTON__/,textReplace:p.languageParser.translate("chat","skip")},{placeholder:"__START_CHAT__",textReplace:p.languageParser.translate("chat","newChat")},{placeholder:"__EMAIL_TRANCRIPT__",textReplace:p.languageParser.translate("rollover","emailTranscriptOption")},{placeholder:"__END_CHAT_MESSAGE__",textReplace:p.languageParser.translate("form","EndChatMessage")}]),this.template="safari"===b||"chrome"===b||"firefox"===b||"mozilla"===b||w&&8<=y?this.template.replace("__NON_MODERN__",""):this.template.replace("__NON_MODERN__","other-fix"),C&&(t=A.escapeTemplateReplacement(h["close-form-button"],[{placeholder:"__CLOSE_BUTTON__",textReplace:p.languageParser.translate("form","CloseButton")}])),this.template=A.escapeTemplateReplacement(this.template,[{placeholder:"__CLOSE_BUTTON_CONTAINER__",textReplace:t}]),this.formData.customButtons&&(this.template=A.escapeTemplateReplacement(this.template,this.formData.customButtons()))};var ve=function(e,t){ue.apply(this,[e]),this.formName=t,this.isFormRequired=!1};(ve.prototype=new ue).constructor=ve,ve.prototype.parent=ue.prototype,ve.prototype.buildForm=function(){var e,t=[];if(e="preChatForm"==this.formName?"prechat":"offline",this.formData.additionalFields=[],this.insertTranslatedTexts(),null===this.formData.dynamicFields){for(var i=0,n=T[e+"Options"].fields.length;i<n;i++){var a={},o=T[e+"Options"].fields[i];o.id=e+i,a.label=o.label,a.instantValidation=!1,a.isRequired=o.isRequired,a.fieldName=e+i,a.fieldType=o.type,a.validation="isValidString","name"===o.type?(a.valueMaxLength=40,a.getValue=p.visitorHandler.getNameValue,a.languageKey="Name"):"email"===o.type?(a.valueMaxLength=150,a.getValue=p.visitorHandler.getEmailValue,a.validation="isValidEmail",a.languageKey="Email"):"message"===o.type||"textArea"===o.type?a.valueMaxLength=500:"inputText"===o.type?a.valueMaxLength=150:"department"===o.type?a.getValue=p.sessionHandler.getDeparmentOptions:"choice"===o.type||"option"===o.type?(a.type="options",a.selections=o.selections):"phone"===o.type&&(a.valueMaxLength=20,a.validation="isValidPhone",a.languageKey="Phone"),a.isRequired&&!a.languageKey&&(a.languageKey="Required"),t.push(a)}this.formData.dynamicFields=t}this.generateDynamicFields()},ve.prototype.generateDynamicFields=function(){for(var e="",t=RegExp("__LABEL__","gm"),i=RegExp("__ID__","gm"),n=RegExp("__MAXLENGTH__","gm"),a=0,o=this.formData.dynamicFields.length;a<o;a++){var r,s="",l=this.formData.dynamicFields[a];"name"===l.fieldType||"email"===l.fieldType||"phone"===l.fieldType||"inputText"===l.fieldType?(r=h.inputTextFieldType,r="email"===l.fieldType?r.replace("__INPUT_TYPE__","email"):r.replace("__INPUT_TYPE__","text")):"message"===l.fieldType||"textArea"===l.fieldType?r=h.textAreaFieldType:"department"===l.fieldType?r=h.departmentSelection:"choice"!==l.fieldType&&"option"!==l.fieldType||(r=h.selectionsType,s="choice"===l.fieldType?this.generateCheckboxOptions(l.fieldName,l.selections):this.generateRadioOptions(l.fieldName,l.selections)),r&&(r=(r=(r=r.replace(t,l.label||"")).replace(i,l.fieldName||"")).replace(n,l.valueMaxLength||""),l.isRequired?(r=r.replace(/__REQUIRED__/gm,"*"),this.isFormRequired||(this.isFormRequired=!0)):r=r.replace(/__REQUIRED__/gm,""),l.getValue&&("department"===l.fieldType?(s=this.generateDropDownOptions(l.getValue(),l.isRequired,l.label))||(r=""):s=l.getValue()),e+=r=r.replace("__VALUE__",s))}this.template=this.template.replace("__FIELDS__",e)},ve.prototype.generateDropDownOptions=function(e,t,i){var n="";if(0===e.length)return!1;for("preChatForm"===this.formData.id||"offlineForm"===this.formData.id?n+='<option id="department-default" value="" disabled selected>'+(t?"* ":"")+(i||p.languageParser.translate("form","department"))+"</option>":t||(n+='<option value="0"></option>'),t=0,i=e.length;t<i;t++)n+='<option value="'+e[t].value+'"'+(e[t].selected?'selected="selected"':"")+">"+e[t].text+"</option>";return n},ve.prototype.generateRadioOptions=function(e,t){for(var i="",n=h.radioSelectionType,a=0,o=t.length;a<o;a++)i+=n.replace(/__ID__/gm,e+"radio"+a).replace(/__FIELD_ID__/gm,e).replace(/__VALUE__/gm,t[a]);return i},ve.prototype.generateCheckboxOptions=function(e,t){for(var i="",n=h.checkboxSelectionType,a=0,o=t.length;a<o;a++)i+=n.replace(/__ID__/gm,e+"check"+a).replace(/__FIELD_ID__/gm,e).replace(/__VALUE__/gm,t[a]);return i},ve.prototype.updateName=function(e){for(var t,i=0,n=this.formData.dynamicFields.length;i<n;i++){var a=this.formData.dynamicFields[i];if("name"===a.fieldType){t=p.viewHandler.chatContainer.getElementById(a.fieldName+"Field");break}}t&&(t.value=e)},ve.prototype.updateEmail=function(e){for(var t,i=0,n=this.formData.dynamicFields.length;i<n;i++){var a=this.formData.dynamicFields[i];if("email"===a.fieldType){t=p.viewHandler.chatContainer.getElementById(a.fieldName+"Field");break}}t&&(t.value=e)},ve.prototype.addPlaceholderHandler=function(){var e,t;if(!E)for(var i=0,n=this.formData.dynamicFields.length;i<n;i++)"department"!==(t=this.formData.dynamicFields[i]).fieldType&&"choice"!==t.fieldType&&"option"!==t.fieldType&&(this.formData.dynamicFields[i].placeholderText=(t.isRequired?"* ":"")+t.label,e=this.documentRef.getElementById(t.fieldName+"Field"),A.togglePlaceholderText(e,this.formData.dynamicFields[i].placeholderText,t.fieldName+"Field"),A.trim(e.value)||(e.value=this.formData.dynamicFields[i].placeholderText))};var be=function(e){var t=this;this.container=e,this.unansweredMessages=0,p.eventEmitter.on("visitorPopupFocus",function(e){t.isPopupFocused=e,t.hide()}),R.chatWindowState.subscribe(function(e){"max"===e&&t.hide()}),this.originalPageTitle=document.title,this.pageTitleNotification={interval:null,on:function(){!this.interval&&T.showUnreadInTab()&&(this.interval=setInterval(function(){document.title=t.originalPageTitle===document.title?p.languageParser.translate("chat","newMessage",{num:t.unansweredMessages}):t.originalPageTitle},1e3))},off:function(){clearInterval(this.interval),this.interval=null,document.title=t.originalPageTitle}}};be.prototype.initIndicator=function(){p.viewHandler.totalUnseenMessages&&this.updateUnseenMessages(p.viewHandler.totalUnseenMessages)},be.prototype.show=function(){var e,t;"max"===R.chatWindowState()&&!T.isPopup||this.isPopupFocused&&!p.viewHandler.popoutWin.closed||T.hideWidgetOnLoad||"restartChatForm"===p.formHandler.currentForm||"offlineForm"===p.formHandler.currentForm||!this.container||!this.container.elementReferrer||(e=this.container.getElementById("tawkchat-chat-indicator"),(t=this.container.getElementById("tawkchat-chat-indicator-text"))&&(t.innerHTML=this.unansweredMessages),e&&"block"!==e.style.display&&(e.style.display="block",e.style.visibility="hidden",p.viewHandler.handleIndicatorToggle(!0),p.viewHandler.showWidget(),this.container.show()),T.showMessagePreview()&&p.viewHandler.messagePreview&&p.viewHandler.messagePreview.isShown&&!document.hidden||this.pageTitleNotification.on())},be.prototype.hide=function(){var e,t;this.container&&this.container.elementReferrer&&(e=this.container.getElementById("tawkchat-chat-indicator"),t=this.container.getElementById("tawkchat-chat-indicator-text"),e&&"block"===e.style.display&&(e.style.display="none",p.viewHandler.handleIndicatorToggle(),C||this.container.hide()),t&&(t.innerHTML=""))},be.prototype.updateUnseenMessages=function(e){this.unansweredMessages=e,s.triggerApiHandlers("onUnreadCountChanged",this.unansweredMessages),0===this.unansweredMessages?this.pageTitleNotification.off():"min"===R.chatWindowState()?this.show():this.pageTitleNotification.on()};var ye=function(e){this.container=e,this.documentRef=this.container.documentRef,this.quickReplyContainer=this.messagePreviewContainer=null,this.prevSenderUid="",this.messagePreviewCount=0,this.timeIntervalsArr=[],this.isQuickReplyInitialized=!1,this.maxNumberFileUpload=5,this.chatTextarea=new ge("chatTextarea",null,null,"textarea"),this.incomingCallContainer=null,this.offsetX=T.widgetOffsetX,this.offsetY=T.widgetOffsetY,this.wrapper=null,this.isActionsContainerNotifShown=!1,this.lastRadioButton=null,this.resizeThrottle=0};ye.prototype.init=function(){var e=this;this.container&&(this.wrapper||(this.wrapper=this.container.getElementById("tawkchat-message-preview-container"),T.isRTL()&&(this.wrapper.className+="rtl-direction ")),C?this.updateMobilePositions():this.updatePositions(),T.chatPosition.subscribe(function(){e.updatePositions()}))},ye.prototype.show=function(e,t,n){var a=this;0!==e&&this.container&&(t||n)&&(1===e?this.messagePreviewCount=1:this.messagePreviewCount++,this.messagePreviewContainer||(this.messagePreviewContainer=this.container.getElementById("tawkchat-message-preview-messages-container"),T.isCenterPositioned()?this.messagePreviewContainer.style.maxHeight=document.documentElement.clientHeight-(document.documentElement.clientHeight/2-180)-210+"px":this.messagePreviewContainer.style.maxHeight=document.documentElement.clientHeight-(T.minimizedDimensions().height+T.widgetOffsetY+300)+"px",this.toggleUploadsAction(),this.toggleRatingAction(),this.toggleEmojiAction()),this.quickReplyContainer||(this.quickReplyContainer=this.container.getElementById("tawkchat-message-preview-quick-reply-container")),this.isShown=!0,this.container.restyle("display","block"),i&&i.hideBubble(),t&&!C?this.appendMessage(t):n&&(n.isMissed?this.appendCallInfo(n):(this.messagePreviewCount--,this.appendCallRequest(n))),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(){p.sessionHandler.notifyWindowState("max"),p.viewHandler.scrollToBottom()},"tawkchat-message-preview-messages-container","mp-maximizeClick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(){p.sessionHandler.visitorChatDismiss(function(){}),a.removeAllElements()},"tawkchat-message-preview-close","mp-closeitemsclick"),this.isQuickReplyInitialized||this.initQuickReply(),this.showQuickReply(),0===this.messagePreviewCount?this.hideQuickReply():(T.showPreChatForm&&!R.prechatFormSubmitted()&&T.prechatOptions.fields.forEach(function(e){e.isRequired&&a.hideQuickReply()}),this.hideActionsContainerNotif(),this.resizeTextArea(),setTimeout(function(){a.container&&a.container.restyle("height",a.container.getElementById("tawkchat-message-preview-container").offsetHeight+"px")},50),T.showEmoji.subscribe(function(){a.toggleEmojiAction()}),T.showUploads.subscribe(function(){a.toggleUploadsAction()}),T.showRating.subscribe(function(){a.toggleRatingAction()})))},ye.prototype.toggleUploadsAction=function(){var e=this,t=this.container.documentRef.getElementById("uploadFileOption"),i=this.container.documentRef.getElementById("actionsContainer");t&&(T.showUploads()?(t.style.display="block",this.container.attachUserEventListener("change",function(t){p.eventHandler.cancelEvent(t);var i=[],n=[];if((t=p.eventHandler.getTargetElement(t).files)&&t.length){for(var a=0;a<t.length;a++)t[a].size>e.maxSizeFileUpload?i.push(t[a]):a>=e.maxNumberFileUpload?n.push(t[a]):p.viewHandler.startUpload(t[a]);p.viewHandler.checkUploadFileWarning(i,n),p.viewHandler.userAction=!1,p.sessionHandler.notifyWindowState("max")}},"fileInput","mp-fileInputChanged"),this.chatTextarea.attachUserEventListener("paste",function(e){var t,i;if((t=(e.originalEvent||e).clipboardData)&&(t=t.items)&&t.length){for(var n=0;n<t.length;n++)if(-1!==t[n].type.indexOf("image")){var a=t[n].getAsFile();if(null!==a){(i=a).name=p.languageParser.translate("chat","pasted_image_title",{dateTime:A.parseChatTime(new Date)});break}}i&&(p.viewHandler.startUpload(i),e.preventDefault())}},null,"mp-chatTextareaPaste"),this.container.attachUserEventListener("dragover",function(e){e.preventDefault(),e.stopPropagation&&e.stopPropagation(),-1===i.className.indexOf(" drag-over")&&A.addClass(i,"drag-over")},"actionsContainer","mp-textareaContainerDragOver"),this.container.attachUserEventListener("dragleave",function(t){var n=e.container.getElementById("tawkchat-message-preview-container").getBoundingClientRect();(t.clientY<n.top||t.clientY>=n.bottom||t.clientX<n.left||t.clientX>=n.right)&&(t.preventDefault(),t.stopPropagation&&t.stopPropagation(),A.removeClass(i,"drag-over"))},"actionsContainer","mp-textareaContainerDragLeave"),this.container.attachUserEventListener("drop",function(t){t.preventDefault(),t.stopPropagation&&t.stopPropagation(),i.className=i.className.replace(/ drag-over/g,"");var n=[],a=[];if((t=t.target.files||t.dataTransfer.files)&&0!==t.length){for(var o=0;o<t.length;o++)t[o].size>e.maxSizeFileUpload?n.push(t[o]):o>=e.maxNumberFileUpload?a.push(t[o]):p.viewHandler.startUpload(t[o]);e.chatTextarea.elementReferrer.value="",e.resizeTextArea(),e.chatTextarea.elementReferrer.value?e.toggleActionsContentOnTyping(!1):e.toggleActionsContentOnTyping(!0),p.viewHandler.checkUploadFileWarning(n,a),p.viewHandler.userAction=!1,p.sessionHandler.notifyWindowState("max")}},"actionsContainer","mp-textareaContainerDrop")):t.style.display="none")},ye.prototype.toggleRatingAction=function(){var e=this.container.getElementById("rateMainWrapper"),t=this.container.getElementById("rateContainer");e&&t&&(T.showRating()?(e.style.display="block",this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){p.chatHandler.changeRating(1),p.viewHandler.userAction=!1,p.sessionHandler.notifyWindowState("max"),p.eventHandler.cancelEvent(e)},"ratePositive","mp-ratepveclick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){p.chatHandler.changeRating(-1),p.viewHandler.userAction=!1,p.sessionHandler.notifyWindowState("max"),p.eventHandler.cancelEvent(e)},"rateNegative","mp-ratenveclick"),this.container.attachUserEventListener("mouseover",function(){t.style.display="block"},"rateMainWrapper","rateMainWrapperOverQR"),this.container.attachUserEventListener("mouseout",function(){t.style.display="none"},"rateMainWrapper","rateMainWrapperOutQR")):e.style.display="none")},ye.prototype.updateMobilePositions=function(){var e={},t=T.minimizedDimensions().width,i=T.minimizedDimensions().height;T.isCenterPositioned()?(-1===this.wrapper.className.indexOf("center")&&(this.wrapper.className+="center"),e.top="calc(50% - "+(.5*t+20)+"px) !important",e.bottom="auto !important",T.isRightPositioned()?(-1===this.wrapper.className.indexOf("right")&&(this.wrapper.className+=" right"),e.right=this.offsetX+i+15+100+"px !important",e.left="auto !important"):(-1===this.wrapper.className.indexOf("left")&&(this.wrapper.className+=" left"),e.left=this.offsetX+i+15+100+"px !important",e.right="auto !important")):(i=p.viewHandler.minifiedBoxHeight*p.viewHandler.zoom+30,T.isTopPositioned()?(e.bottom="auto !important",e.top=i+30+"px !important",-1===this.wrapper.className.indexOf("top")&&(this.wrapper.className+=" top")):(e.bottom=i+30+"px !important",e.top="auto !important",-1===this.wrapper.className.indexOf("bottom")&&(this.wrapper.className+=" bottom")),T.isRightPositioned()?(e.right="10px !important",e.left="auto !important",-1===this.wrapper.className.indexOf("right")&&(this.wrapper.className+=" right")):(e.right="auto !important",e.left="10px !important",-1===this.wrapper.className.indexOf("left")&&(this.wrapper.className+=" left"))),this.container.massRestyle(e)},ye.prototype.updatePositions=function(){var e={},t=T.minimizedDimensions().width,i=T.minimizedDimensions().height;T.isCenterPositioned()?(-1===this.wrapper.className.indexOf("center")&&(this.wrapper.className+="center"),e.top="calc(50% - "+(.5*t+40)+"px) !important",e.bottom="auto !important",T.isRightPositioned()?(-1===this.wrapper.className.indexOf("right")&&(this.wrapper.className+=" right"),e.right=this.offsetX+i+15+"px !important",e.left="auto !important"):(-1===this.wrapper.className.indexOf("left")&&(this.wrapper.className+=" left"),e.left=this.offsetX+i+15+"px !important",e.right="auto !important")):(T.isTopPositioned()?(e.top=T.minimizedDimensions().height+this.offsetY+"px !important",e.bottom="auto !important",-1===this.wrapper.className.indexOf("top")&&(this.wrapper.className+=" top")):(T.isDesktopRectangle()?e.bottom=T.minimizedDimensions().height+this.offsetY+10+"px !important":e.bottom=80+this.offsetY+"px !important",e.top="auto !important",-1===this.wrapper.className.indexOf("bottom")&&(this.wrapper.className+=" bottom")),T.isRightPositioned()?(e.right=this.offsetX+"px !important",e.left="auto !important",-1===this.wrapper.className.indexOf("right")&&(this.wrapper.className+=" right")):(e.left=this.offsetX+"px !important",e.right="auto !important",-1===this.wrapper.className.indexOf("left")&&(this.wrapper.className+=" left"))),this.container.massRestyle(e)},ye.prototype.setStyleToSingleAgent=function(){var e,t,i;if(this.messagePreviewContainer&&this.container)for(e=this.messagePreviewContainer.getElementsByClassName("messageBody"),t=this.container.documentRef.getElementById("actionsContainer"),i=this.container.documentRef.getElementById("textareaWrapper"),this.quickReplyContainer.style.marginTop="10px",t.setAttribute("style","border-radius:5px 5px 5px 5px !important; background-color: #fff"),i.setAttribute("style","border-radius:5px 5px 5px 5px !important"),t=0;t<e.length;t++)i=10,e[t].setAttribute("style","border-bottom-width:1px !important; border-radius:5px 5px 5px 5px !important"),0===t&&(i=0),e[t].parentElement.setAttribute("style","margin-top:"+i+"px !important")},ye.prototype.setStyleToMultipleAgent=function(){var e,t,i;if(this.messagePreviewContainer&&this.container)for(e=this.messagePreviewContainer.getElementsByClassName("messageBody"),t=this.container.documentRef.getElementById("actionsContainer"),i=this.container.documentRef.getElementById("textareaWrapper"),this.quickReplyContainer.style.marginTop="0px",t.setAttribute("style","border-radius:0px 0px 5px 5px !important; background-color: #f8f8f8"),i.setAttribute("style","border-radius:0px 0px 5px 5px !important"),t=0;t<e.length;t++)0===t?1===this.messagePreviewCount?e[t].setAttribute("style","border-bottom-width: 3px !important; border-radius:5px 5px 0px 0px !important"):e[t].setAttribute("style","border-bottom-width:1px !important; border-radius:5px 5px 0px 0px !important"):(t===e.length-1?e[t].setAttribute("style","border-bottom-width:3px !important; border-radius:0px 0px 0px 0px !important"):e[t].setAttribute("style","border-bottom-width:1px !important; border-radius:0px 0px 0px 0px !important"),e[t].parentElement.setAttribute("style","margin-top:0px !important"))},ye.prototype.hide=function(){if(this.isShown=!1,this.container.restyle("display","none !important"),this.messagePreviewContainer){this.messagePreviewContainer.innerHTML="";for(var e=0;e<this.timeIntervalsArr.length;e++)clearInterval(this.timeIntervalsArr[e].timeInterval);this.timeIntervalsArr=[],this.prevSenderUid="",this.closeEmojiSelection(),i&&i.showBubble()}},ye.prototype.removeCallRequest=function(){this.incomingCallContainer&&(this.incomingCallContainer.elementReferrer.parentElement&&(this.incomingCallContainer.elementReferrer.outerHTML=""),this.incomingCallContainer=null),C&&this.hide()},ye.prototype.appendCallRequest=function(e){var t,i;t=h.incomingCallRequest;var n=e.callId;i=(i=(e=B.agentProfiles[B.profiles[e.caller.urid]])&&e.pi?R.agentImgUrl+"/"+e.pi:"")?"url('"+i+"');":"transparent;",p.chatHandler.webrtcWin&&!p.chatHandler.webrtcWin.closed?p.chatHandler.webrtcWin.focus():(t=(t=(t=t.replace(/__IMAGE_URL__/,i)).replace(/__INCOMING_CALL__/,p.languageParser.translate("chat","incoming_call_message",{name:e.n}))).replace(/__ACCEPT_CALL__/,p.languageParser.translate("chat","accept_call")).replace(/__DECLINE_CALL__/,p.languageParser.translate("chat","decline_call")),(e=new ge("incoming-call")).template=t,e.buildView(),this.messagePreviewContainer.insertBefore(e.elementReferrer,this.messagePreviewContainer.firstElementChild),e.elementReferrer.style.marginBottom=0===this.messagePreviewCount?"0px":"10px",this.incomingCallContainer=e,t=this.container.getElementById("accept-call"),e=this.container.getElementById("decline-call"),t&&p.eventHandler.listen(t,"click",function(){clearTimeout(p.viewHandler.incomingCallTimeout),A.getWebRTCToken(!1,!1,function(){p.viewHandler.removeCallRequest()}),p.viewHandler.userAction=!0,p.sessionHandler.notifyWindowState("max")},"mp-acceptVideoCall"),e&&p.eventHandler.listen(e,"click",function(){clearTimeout(p.viewHandler.incomingCallTimeout),A.rejectCall(n,function(){p.viewHandler.removeCallRequest()}),p.viewHandler.userAction=!0,p.sessionHandler.notifyWindowState("max")},"mp-declineVideoCall"),p.audioPlayer.play("chat_sound"),0===this.messagePreviewCount?(this.container.restyle("height",this.wrapper.offsetHeight+this.messagePreviewContainer.offsetHeight+"px"),this.messagePreviewContainer.style.maxHeight=this.wrapper.offsetHeight+this.messagePreviewContainer.offsetHeight+"px",this.hideQuickReply()):(this.messagePreviewContainer.style.maxHeight=this.container.elementReferrer.offsetHeight+"px",this.container.restyle("height",this.container.getElementById("tawkchat-message-preview-container").offsetHeight+this.messagePreviewContainer.offsetHeight+"px")))},ye.prototype.appendCallInfo=function(e){if(!C){var t,i,n=h["messagePreview-callInfo"],a=e.callId,o=e.caller;e=e.isMissed;var r=null,s=null,l=Date.now(),c=r=t=null,d=(a="callInfo-"+a,c=null,""),m=null;this.container&&this.messagePreviewContainer&&e&&(c=p.languageParser.translate("chat","missed_visitor_messagePreview"),"transparent"!==(i=(t=(r=B.agentProfiles[B.profiles[o.urid]])&&r.pi?R.agentImgUrl+"/"+r.pi:"")?"url('"+t+"');":"transparent;")&&(i+="background-position:0 0;background-size:28px 28px"),(t=new ge(a,null,{className:"message-preview-item"},null,this.documentRef)).template=A.escapeTemplateReplacement(n,[{placeholder:"__CALL_INFO__",textReplace:c},{placeholder:"__CALLER_NAME__",textReplace:r.n},{placeholder:"__IMAGE_URL__",textReplace:i},{placeholder:"__ELAPSED_TIME__",textReplace:p.languageParser.translate("chat","justNow")}]),t.buildView(),T.isTopPositioned()?this.messagePreviewContainer.insertBefore(t.elementReferrer,this.messagePreviewContainer.getElementsByClassName("message-preview-item")[0]):this.messagePreviewContainer.appendChild(t.elementReferrer),r=t.elementReferrer.getElementsByClassName("btn-icon")[0],c=t.elementReferrer.getElementsByClassName("mp-callIconContainer")[0],e&&(r.style.transform="rotate(135deg)",r.style.top="1px",c.style.backgroundColor="#e52f48"),this.container.getElementById("incoming-call")&&(this.container.getElementById("incoming-call").style.marginBottom="10px"),this.prevSenderUid===B.profiles[o.urid]&&(d+=" hidden-profile"),t.elementReferrer.className+=d,t.elementReferrer.setAttribute("data-uid",B.profiles[o.urid]),m=t.elementReferrer.getElementsByClassName("mp-callInfoElapsedTime")[0],this.timeIntervalsArr.push({messageId:a,timeInterval:setInterval(function(){s=Math.floor((Date.now()-l)/1e3),m.innerHTML=60>s?p.languageParser.translate("chat","justNow"):p.languageParser.translate("chat","minutes",{num:Math.floor(s/60)})+" ago"},6e4)}),this.prevSenderUid=B.profiles[o.urid],3<this.messagePreviewCount&&(T.isTopPositioned()?this.removeElement(this.messagePreviewContainer.getElementsByClassName("message-preview-item")[3]):this.removeElement(this.messagePreviewContainer.getElementsByClassName("message-preview-item")[0])),this.container.restyle("height",this.wrapper.offsetHeight+this.messagePreviewContainer.offsetHeight+"px"),t.elementReferrer.className+=" animate-fade-object")}},ye.prototype.scrollToBottom=function(){this.messagePreviewContainer&&(this.messagePreviewContainer.scrollTop=1e8)},ye.prototype.parseSurvey=function(e,t){var i,n,a,o,r,s,l=e.match(A.regSurvey),c="";if(!l)return{message:e,isSurvey:!1};for(o=e.match(A.regSurveyQuestion),r="survey-"+(new Date).getTime(),i=0,n=l.length;i<n;i++)a=(a=l[i].replace(A.regOption,"")).replace(A.regBr,""),a=A.trim(a),s=r+i,c+=A.escapeTemplateReplacement(h["survey-option"],[{placeholder:/__RADIO_ID__/gm,textReplace:s},{placeholder:"__RADIO_NAME__",textReplace:t},{placeholder:/__RADIO_VALUE__/gm,textReplace:a}]);return{message:A.escapeTemplateReplacement(h["tawk-survey-wrapper"],[{placeholder:"__QUESTION__",textReplace:o[0].replace(A.regOption,"")},{placeholder:"__OPTIONS__",textReplace:c}]),isSurvey:!0}},ye.prototype.appendMessage=function(e){var t=this,i=null,n=h["message-preview-item"],a=null,o=null,r=o=null,s=r=r=null,l="",c=null,d=(c=!1,Date.now()),m="msgPreview-messageId-"+(new Date).getTime().toString()+Object.keys(p.chatHandler.messages).length,g=new Date(e.time).getTime();e&&this.container&&(o=e.message,r=(r=e.profileImg?e.profileImg?"https://tawk.link/"+e.profileImg:"":(r=B.agentProfiles[e.ownerId])&&r.pi?R.agentImgUrl+"/"+r.pi:"")?"url('"+r+"');":"transparent;",this.messagePreviewContainer&&(void 0!==te&&(0===(o=te.unifyUnicode(o)).replace(te.regUnicode,"").trim().length&&(l+=" emojionly"),o=te.toImage(o)),o="s"===e.senderType?this.limitMessageLength(o,500):this.limitMessageLength(o,150),e.data&&e.data.file&&(o=p.viewHandler.parseUploadedFile(e.data.file)),o=(c=this.parseSurvey(o,m)).message,c=c.isSurvey,(i=new ge(m,null,{className:"message-preview-item"},null,this.documentRef)).template=A.escapeTemplateReplacement(n,[{placeholder:"__MESSAGE__",textReplace:o},{placeholder:"__NAME__",textReplace:e.name},{placeholder:"__IMAGE_URL__",textReplace:r},{placeholder:"__TIME__",textReplace:p.languageParser.translate("chat","justNow")}]),i.buildView(),T.isTopPositioned()?this.messagePreviewContainer.insertBefore(i.elementReferrer,this.messagePreviewContainer.getElementsByClassName("message-preview-item")[0]):this.messagePreviewContainer.appendChild(i.elementReferrer),e.data&&e.data.file&&(i.elementReferrer.getElementsByClassName("messageBody")[0].className+=" imageMessageBody"),this.container.getElementById("incoming-call")&&(this.container.getElementById("incoming-call").style.marginBottom="10px"),e.ownerId&&this.prevSenderUid===e.ownerId&&(l+=" hidden-profile"),i.elementReferrer.className+=l,i.elementReferrer.setAttribute("data-uid",e.ownerId),a=i.elementReferrer.getElementsByClassName("messageTime")[0],this.timeIntervalsArr.push({messageId:m,timeInterval:setInterval(function(){s=Math.floor((Date.now()-d)/1e3),a.innerHTML=60>s?p.languageParser.translate("chat","justNow"):p.languageParser.translate("chat","minutes",{num:Math.floor(s/60)})+" ago"},1e3),timestamp:g}),this.prevSenderUid=e.ownerId,o=i.elementReferrer.firstElementChild,p.eventHandler.listen(o,p.viewHandler.clickEvent,function(){t.removeElement(i.elementReferrer)},"close-"+i.elementReferrer.id),3<this.messagePreviewCount&&(T.isTopPositioned()?this.removeElement(this.messagePreviewContainer.getElementsByClassName("message-preview-item")[3]):this.removeElement(this.messagePreviewContainer.getElementsByClassName("message-preview-item")[0])),t.scrollToBottom(),c&&this.addSurveyHandlers(m),this.container.restyle("height",this.container.getElementById("tawkchat-message-preview-container").offsetHeight+"px"),i.elementReferrer.className+=" animate-fade-object"))},ye.prototype.addSurveyHandlers=function(e){var t,i=this;this.container&&(t=this.container.getElementById(e),(t=A.getElementsByTagName(t,"input")).forEach(function(t,n){t.id&&i.container.attachUserEventListener("click",function(){i.lastRadioButton!==t.id&&(i.lastRadioButton=t.id,p.chatHandler.sendMessage(t.value),p.sessionHandler.notifyWindowState("max"),p.viewHandler.scrollToBottom())},t.id,"survey"+e+n+"click")}))},ye.prototype.limitMessageLength=function(e,t){var i=0;if(e.length>t)for(i=0;i<t;)if('<img class="emojione"'===e.substring(i,i+21)||'<a target="_blank"'===e.substring(i,i+18)){for(var n=i;n<e.length;n++)if(i++,t++,">"===e.substring(n,n+1)){t-=1;break}}else i++;return e.substring(0,t)+(e.length>t?"[...]":"")},ye.prototype.removeAllElements=function(){for(var e=null,t=0,i=T.minimizedDimensions().width,n=0;n<this.timeIntervalsArr.length;n++)clearInterval(this.timeIntervalsArr[n].timeInterval),this.timeIntervalsArr.splice(n,1);if(this.messagePreviewContainer){for(t=(e=this.messagePreviewContainer.getElementsByClassName("message-preview-item")).length,n=0;n<t;n++)e[0].parentElement&&(e[0].outerHTML="");this.messagePreviewCount=0,this.removeCallRequest(),this.prevSenderUid="",T.isCenterPositioned()&&this.container.restyle("top","calc(50% - "+.5*i+"px) !important"),this.container.getElementById("incoming-call")&&(this.container.getElementById("incoming-call").style.marginBottom="0px"),this.hide()}},ye.prototype.removeElement=function(e){for(var t,i=null,n=0;n<this.timeIntervalsArr.length;n++)if(this.timeIntervalsArr[n].messageId===e.id){clearInterval(this.timeIntervalsArr[n].timeInterval),this.timeIntervalsArr.splice(n,1);break}if(t=this.messagePreviewContainer.getElementsByClassName("message-preview-item"),-1===e.className.indexOf("hidden-profile"))if(T.isTopPositioned()){for(n=t.length-2;n<t.length;n--)if((i=t[n]).getAttribute("data-uid")===e.getAttribute("data-uid")){i.className=i.className.replace(/hidden-profile/gi,"");break}}else for(n=1;n<t.length;n++)if((i=t[n]).getAttribute("data-uid")===e.getAttribute("data-uid")){i.className=i.className.replace(/hidden-profile/gi,"");break}e.parentElement&&(e.outerHTML=""),this.messagePreviewCount--,0===this.messagePreviewCount&&this.container.getElementById("incoming-call")&&(this.container.getElementById("incoming-call").style.marginBottom="0px")},ye.prototype.initQuickReply=function(){var e,t;C||(t=this.container.documentRef.getElementById("tooLongMsgNotification"),this.container.documentRef.getElementById("textareaContainer").insertBefore(this.chatTextarea.buildView(this.container.documentRef),t),e=this.container.getElementById("tawkchat-message-preview-quick-reply-container"),t=this.container.getElementById("file-upload-drop-label"),R.pageStatus()&&e&&(e=A.rawDecode(T.onlineGreeting.actionMessage),E?this.chatTextarea.elementReferrer.placeholder=e:(this.chatTextarea.elementReferrer.value=e,A.togglePlaceholderText(this.chatTextarea.elementReferrer,e,"chatTextarea")),t.innerHTML=p.languageParser.translate("rollover","uploadFile"),this.container.getElementById("viewEmoji").setAttribute("title",p.languageParser.translate("chat","insert_emoji")),this.container.getElementById("uploadFileOption").setAttribute("title",p.languageParser.translate("rollover","uploadFile")),this.container.getElementById("ratePositive").setAttribute("title",p.languageParser.translate("rollover","positiveRating")),this.container.getElementById("rateNegative").setAttribute("title",p.languageParser.translate("rollover","negativeRating")),this.attachEventListenerQuickReply(),this.isQuickReplyInitialized=!0))},ye.prototype.showQuickReply=function(){C||(this.quickReplyContainer.style.display="block",this.toggleActionsContentOnTyping(!0))},ye.prototype.hideQuickReply=function(){this.quickReplyContainer&&(this.quickReplyContainer.style.display="none")},ye.prototype.attachEventListenerQuickReply=function(){var e=this;this.container.documentRef.getElementById("notifMessageText").innerHTML=p.languageParser.translate("chat","message_too_long"),this.hideActionsContainerNotif(),this.chatTextarea.attachUserEventListener("keydown",function(t){if(e.resizeTextArea(),13===t.keyCode&&!t.shiftKey){if(5e3<this.value.length)return void t.preventDefault();p.viewHandler.userAction=!1,p.sessionHandler.notifyWindowState("max"),p.viewHandler.scrollToBottom()}this.value?e.toggleActionsContentOnTyping(!1):e.toggleActionsContentOnTyping(!0),p.chatHandler.sendTextPreview(t)},null,"mp-chatinputkeyupresize"),this.chatTextarea.attachUserEventListener("keyup",function(){5e3>=this.value.length?e.hideActionsContainerNotif():e.showActionsContainerNotif(),this.value?e.toggleActionsContentOnTyping(!1):e.toggleActionsContentOnTyping(!0),e.resizeTextArea()},null,"mp-chatinputkeyup")},ye.prototype.toggleActionsContentOnTyping=function(e){var t=this.container.getElementById("hidableActionsWrapper"),i=this.container.getElementById("textareaContainer");e?(t.style.display="block",A.addClass(i,"additionalPadding")):(t.style.display="none",A.removeClass(i,"additionalPadding"))},ye.prototype.toggleEmojiAction=function(){var e=this,t=this.container.getElementById("viewEmoji"),i=this.container.documentRef.getElementById("emoji-selection-container"),n=this.container.getElementById("textareaContainer");T.showEmoji()?(t.style.display="block",A.addClass(n,"with-emoji"),i.innerHTML=h.loader,this.container.attachUserEventListener("click",function(t){t.stopPropagation(),"active"===e.container.getElementById("viewEmoji").className?e.closeEmojiSelection():(e.container.getElementById("viewEmoji").className="active",le(i),e.container.restyle("height",e.container.getElementById("tawkchat-message-preview-container").offsetHeight+"px"))},"viewEmoji","mp-viewEmojiClick")):(t.style.display="none",A.removeClass(n,"with-emoji"))},ye.prototype.closeEmojiSelection=function(){if(!C){var e=this.container.documentRef.getElementById("actionsContainer"),t=this.container.documentRef.getElementById("emoji-selection-container");this.container.getElementById("viewEmoji").className="",e.style.height="50px",A.removeClass(t,"showWithFade"),this.container.restyle("height",this.container.getElementById("tawkchat-message-preview-container").offsetHeight+"px")}},ye.prototype.resizeTextArea=function(){var e=this;clearTimeout(this.resizeThrottle),C||(this.resizeThrottle=setTimeout(function(){var t=e.chatTextarea.elementReferrer.value,i=e.container.documentRef.getElementById("actionsContainer"),n=e.container.documentRef.getElementById("textareaContainer"),a=t.split(/\r\n|\r|\n/).length||1,o=20*a;1===a&&e.chatTextarea.elementReferrer.scrollHeight>=e.chatTextarea.elementReferrer.clientHeight&&(o=e.chatTextarea.elementReferrer.scrollHeight),t&&20<=o?(o=150<o?150:o,e.isActionsContainerNotifShown?(o+=52,n.style.paddingBottom="67px"):n.style.paddingBottom="15px",i.style.height=o-20+50+"px",e.container.getElementById("tawkchat-message-preview-container").offsetHeight>e.container.elementReferrer.offsetHeight&&e.container.restyle("height",e.container.getElementById("tawkchat-message-preview-container").offsetHeight+"px")):(i.style.height="50px",n.style.paddingBottom="15px")},100))},ye.prototype.addEmojiToInput=function(e){E||this.chatTextarea.elementReferrer.value!==A.rawDecode(T.onlineGreeting.actionMessage)||(this.chatTextarea.elementReferrer.value=""),this.chatTextarea.elementReferrer.value+=e,this.chatTextarea.elementReferrer.focus(),this.closeEmojiSelection()},ye.prototype.showActionsContainerNotif=function(){C||(this.container.documentRef.getElementById("tooLongMsgNotification").style.display="block",this.isActionsContainerNotifShown=!0)},ye.prototype.hideActionsContainerNotif=function(){C||(this.container.documentRef.getElementById("tooLongMsgNotification").style.display="none",this.isActionsContainerNotifShown=!1)};var we=TawkClass.extend({init:function(){this.chatContainer=null,this.removeAgentNotification=!1,this.lastRadioButton=null,this.clickEvent="click",this.isPopupFocused=!1,this.indicator=null,this.newMessageNotSeen=!1,this.unseenMessages=[],this.lastMessageTime=null,this.totalUnseenMessages=0,this.retryUploadList=this.removeDividerTimeout=null,this.tawktoLinkName=A.getRandomName(),this.bottomContainerName=A.getRandomName(),this.currentScrollY=this.incomingCallTimeout=null,this.callData={},this.mainAgent=null},show:function(){var e=this,t="visibilitychange";"webkitvisibilitychange"in document?t="webkitvisibilitychange":"mozvisibilitychange"in document?t="mozvisibilitychange":"msvisibilitychange\ufeff"in document&&(t="msvisibilitychange\ufeff"),p.eventHandler.listen(l,"focus",function(){p.viewHandler.messagePreview&&p.viewHandler.indicator.pageTitleNotification.off(),e.checkSeenMessageViewport()},"windowOnFocus"),p.eventHandler.listen(document,t,function(){document.hidden||(p.viewHandler.messagePreview&&p.viewHandler.indicator.pageTitleNotification.off(),e.checkSeenMessageViewport())},"documentVisibilityChange")},appendAgent:function(e){var t,i,n,a,o,r="";t=(a=this.chatContainer).getElementById("agentProfileContainer");var s=a.getElementById("agentList");i=a.getElementById("chatWrapper"),n=a.getElementById("headerAccountStateContainer"),o=a.getElementById("shortMessage"),a&&t&&s&&(-1<this.chatContainer.getElementById("greetingsMainContainer").className.indexOf("minimize")&&(o.style.display="none",t.className="show"),p.agents.agentsCount++,1<p.agents.agentsCount||1===p.agents.agentsCount&&this.mainAgent&&this.mainAgent.pid!==e.pid?i.classList.remove("one-agent"):i.classList.add("one-agent"),1===p.agents.agentsCount?(this.mainAgent=e,p.viewHandler.renderAgentHeader(e.pid),this.renderAgentMinimizedWidget(e.pid)):(p.viewHandler.renderAgentHeader(e.pid),n.classList.add("multiple-agent")),p.viewHandler.openAgentList(),t=h["agent-profile"],i=h["agent-profile-image"],n=h["agent-profile-description"],a=new ge("agentProfile-"+e.pid,null,{className:"agentWrapper clearfix"},null,a.documentRef),(o=e.pi?R.agentImgUrl+"/"+e.pi:"")&&(r="background-image : url('"+o+"'); background-position : 0px 0px;"),r+="box-shadow: 0px 0px 0px 1px "+T.headerTxtColor+";",n=A.escapeTemplateReplacement(n,[{placeholder:"__POSITION_CLASS__",textReplace:"agentName"},{placeholder:"__POSITION__",textReplace:e.pst},{placeholder:"__NAME__",textReplace:e.n}]),i=i.replace("__PROFILE_ID__",e.pid).replace("__IMAGE_URL__",r),a.template=A.escapeTemplateReplacement(t,[{placeholder:"__AGENT_PROFILE_DETAIL__",textReplace:n},{placeholder:"__AGENT_PROFILE_IMAGE__",textReplace:i},{placeholder:"__ID__",textReplace:""}]),s.appendChild(a.buildView()),s.style.left="50%")},removeAgent:function(e){var i,n,a,o,r=t.container.elementReferrer?t.container:null,s=r.getElementById("chatWrapper");r&&(p.agents.agentsCount--,i=r.getElementById("agentProfileContainer"),n=r.getElementById("agentProfile-"+e),a=r.getElementById("profileImage-"+e),o=r.getElementById("profileDetail"+e),0===p.agents.agentsCount?(p.viewHandler.clearAgentHeader(),this.clearAgentFooter()):1===p.agents.agentsCount&&(p.eventHandler.removeEventHandler(i,"click",this.expandAgentList),r.getElementById("headerAccountStateContainer").classList.remove("multiple-agent")),0<p.agents.agentsCount&&this.mainAgent.pid===e&&(this.mainAgent=B.agentProfiles[Object.keys(B.agentProfiles)[0]],this.renderAgentMinimizedWidget(this.mainAgent.pid)),n&&n.parentNode.removeChild(n),a&&(a.parentNode&&a.parentNode.removeChild(a),i.style.width=1>=p.agents.agentsCount?"":30*p.agents.agentsCount-10*(p.agents.agentsCount-1)+"px"),o&&o.parentNode&&o.parentNode.removeChild(o),1===p.agents.agentsCount&&(this.renderAgentMinimizedWidget(this.mainAgent.pid),s.className="single-agent",p.viewHandler.calculateOwnerNameAndMessageTimeSizeAll(),p.viewHandler.messagePreview&&p.viewHandler.messagePreview.setStyleToSingleAgent())),0===p.agents.agentsCount&&(p.viewHandler.clearAgentHeader(),this.clearAgentFooter(),p.viewHandler.closeAgentList())},clearAgentFooter:function(){var e,t,n,a;e=i&&i.container&&i.container.elementReferrer?i.container:null,C&&this.minifiedWidget&&this.minifiedWidget.container&&(e=this.minifiedWidget.container),e&&this.chatContainer&&(n=e.getElementById("tawkchat-status-text-container"),a=e.getElementById("min-agent-profile-details"),t=e.getElementById("agent-profile-image"),(e=e.getElementById("tawkchat-status-agent-container"))||e)&&(n&&(n.style.display="block"),a&&(a.innerHTML=""),t.innerHTML="",e.style="",e.className="")},renderAgentMinimizedWidget:function(e){var t,n,a,o;n=i&&i.container&&i.container.elementReferrer?i.container:null,C&&this.minifiedWidget&&this.minifiedWidget.container&&(n=this.minifiedWidget.container),n&&this.chatContainer&&e&&(t=B.agentProfiles[e],e=n.getElementById("tawkchat-status-agent-container"),iconContainer=n.getElementById("tawkchat-status-icon-container"),o=n.getElementById("agent-profile-image"),tawkStatusMessage=n.getElementById("tawkchat-status-text-container"),profileDetails=n.getElementById("min-agent-profile-details"),a=n.getElementById("tawkchat-chat-indicator"),e&&(this.clearAgentFooter(),n=t.pi?R.agentImgUrl+"/"+t.pi:"",o.style.backgroundImage=n?"url('"+n+"')":"",o.style.boxShadow="0px 0px 0px 1px "+T.headerTxtColor,e.className+="appear",profileDetails&&(profileDetails.innerHTML='<p class="name">'+t.n+'</p><p class="position">'+t.pst+"</p>"),tawkStatusMessage&&T.isDesktopRectangle()&&(tawkStatusMessage.style.display="none"),a&&"block"===a.style.display&&p.viewHandler.handleIndicatorToggle(!0)))},clearAgentHeader:function(){},handleAcknowledgment:function(e){var t,i,n,a,o,r,s,l=this.chatContainer;if(l&&e.messageId&&(a=l.getElementById(e.messageId))){n=a.parentNode,i=0;for(var c=a.childNodes.length;i<c;i++){var d=a.childNodes[i];-1!==d.className.indexOf("messageBody")&&(t=A.getElementsByClassName(d,"messageWrapper"),s=A.getElementsByClassName(d,"messageStatusContainer"))}t&&t.length&&s&&s.length&&(s=s[0],t=t[0],e.error?s&&(n=h["chat-resend-link"].replace("__MESSAGE_ID__",e.messageId).replace("__NOT_DELIVERED__",p.languageParser.translate("chat","resend")).replace("__FAILED__",p.languageParser.translate("chat","failed")),t.className="messageWrapper error",s.className="messageStatusContainer errorInMessage",s.innerHTML=n,o=A.rawDecode(t.childNodes[0].textContent||t.childNodes[0].innerText),this.scrollToBottom(),r=p.eventHandler.listen(s,p.viewHandler.clickEvent,function(i){p.eventHandler.cancelEvent(i),p.chatHandler.sendMessageToServer(o,e.messageId),l.getElementById("errorFor"+e.messageId)&&(t.className="messageWrapper pending"),s.className="messageStatusContainer pending",s.childNodes[0].className="",s.childNodes[0].innerHTML=h.loader,p.eventHandler.removeEventHandler(t,"click",r)},"resend"+e.messageId+"click")):(i=p.chatHandler.messages[e.order],p.viewHandler.addWaitTime(),n.removeChild(a),p.chatHandler.prepareMessage(i,!0,!1,!0)))}},handleEndChat:function(){},clearAgents:function(){},handleRestartChat:function(){},appendMessage:function(e){var t,i,a,o,r;t=!1;var s=null;i=e.message;var l=e.time,c=e.senderType,d=this.chatContainer.documentRef,m=this.ifScrollbarDown(),g=d.getElementById("chatWrapper"),f="messageId-"+(new Date).getTime().toString()+Object.keys(p.chatHandler.messages).length,u=(s="messageContainer clearfix",{"chat-message-row":h["chat-message-row"],"chat-resend-link":h["chat-resend-link"],"chat-message-owner-agent":h["chat-message-owner-agent"],"chat-message-owner-visitor":h["chat-message-owner-visitor"],"chat-message-container":h["chat-message-container"],"chat-notification-container":h["chat-notification-container"],"chat-message-status-row":h["chat-message-status-row"],"chat-divider":h["chat-divider"]});l=A.parseChatTime(l);p.chatHandler.noRedraw||p.viewHandler.isMaximized||T.isEmbedded||T.isPopup||C||"v"===c||"c"!==e.type||(T.hideWidgetOnLoad&&"max"===T.onClickAction?(p.viewHandler.userAction=!1,p.sessionHandler.notifyWindowState("max")):p.viewHandler.messagePreview&&p.viewHandler.messagePreview.show?p.viewHandler.messagePreview.show(p.viewHandler.indicator.unansweredMessages+1,e):p.viewHandler.messagePreview||this.hasBeenMaximizedOnce||"max"!==T.onClickAction||p.chatHandler.agentHasMessaged||(p.viewHandler.userAction=!1,p.sessionHandler.notifyWindowState("max"),this.hasBeenMaximizedOnce=!0)),r=(r=e.profileImg?e.profileImg?"https://tawk.link/"+e.profileImg:"":(r=B.agentProfiles[e.ownerId])&&r.pi?R.agentImgUrl+"/"+r.pi:"")?"url('"+r+"');":"transparent;","a"!==e.senderType&&"s"!==e.senderType||(u["chat-message-owner-agent"]=u["chat-message-owner-agent"].replace("__IMAGE_URL__",r)),u["chat-message-status-row"]=e.isPending?h["chat-message-pending-row"]:u["chat-message-status-row"].replace("__TIME__",l).replace("__TIME_CLASS__","v"===e.senderType?"visitor":"agent").replace("__NAME__","v"===e.senderType?"":e.name),void 0!==te&&(0===(i=te.unifyUnicode(i)).replace(te.regUnicode,"").trim().length&&(s+=" emojionly"),i=te.toImage(i)),1>=B.chatOrder&&(p.viewHandler.chatContainer.getElementById("changeName").style.display="block",p.viewHandler.chatContainer.getElementById("emailTranscriptOption").style.display="block"),"a"===c?(i=(t=this.parseSurvey(i,f)).message,t=t.isSurvey,p.chatHandler.handleAgentStoppedTyping(e.data.rsc)):p.chatHandler.visitorHasMessaged||"s"===c||(p.chatHandler.visitorHasMessaged=!0),e.data&&e.data.file&&(i=this.parseUploadedFile(e.data.file)),"c"===e.type&&(a=A.escapeTemplateReplacement(u["chat-message-row"],[{placeholder:"__MESSAGE_STATUS_ROW__",textReplace:u["chat-message-status-row"]},{placeholder:/__MESSAGE_ID__/gm,textReplace:f},{placeholder:"__MESSAGE__",textReplace:i},{placeholder:"__PENDING__",textReplace:e.isPending?"pending":""}]),s="v"===c?s+" visitorChatContainer ":s+" agentChatContainer "),s=new ge(f,null,{className:s},null,d),this.lastMessageTime=e.isPending?this.lastMessageTime:l,"c"===e.type?(p.chatHandler.lastMessageOwner="s"===c?"server":e.isPending?p.chatHandler.lastMessageOwner:e.ownerId,"a"===c||"s"===c?("a"===c&&(p.chatHandler.agentHasMessaged=!0,this.removeWaitTime()),i=A.escapeTemplateReplacement(u["chat-message-owner-agent"],[{placeholder:"__NAME__",textReplace:e.name}])):i=A.isGeneratedName(I.name())&&u["chat-message-owner-visitor"]?A.escapeTemplateReplacement(u["chat-message-owner-visitor"],[{placeholder:"__NAME__",textReplace:e.name}]):"",o=A.escapeTemplateReplacement(u["chat-message-container"],[{placeholder:"__OWNER_TPL__",textReplace:i},{placeholder:"__CONTENT__",textReplace:a}]),e.data&&"v"===c&&(o=o.replace("messageBody","messageBody file")),"s"===c&&(o=(o=o.replace("ownerNameContainer","ownerNameContainer trigger")).replace("messageBody","messageBody trigger"))):"n"===e.type&&(p.chatHandler.lastMessageOwner="notif",e.isRtcError?(a="video"===e.rtcType?p.languageParser.translate("chat","video_call_error"):"screen"===e.rtcType?p.languageParser.translate("chat","screen_share_error"):p.languageParser.translate("chat","voice_call_error"),o=A.escapeTemplateReplacement(h.noWebrtc,[{placeholder:"__MESSAGE__",textReplace:i},{placeholder:"__HEADER__",textReplace:a}])):o=A.escapeTemplateReplacement(u["chat-notification-container"],[{placeholder:"__MESSAGE_ID__",textReplace:f},{placeholder:"__MESSAGE__",textReplace:i},{placeholder:"__TIME__",textReplace:l}])),s.template=o,s.buildView();try{g.insertBefore(s.elementReferrer,d.getElementById("agentTypingContainer"))}catch(t){n.handleError("Chat wrapper is null to append message : "+JSON.stringify(e),t.fileName,t.lineNumber,t.stack)}return e.dontPlaySound||"v"===c||e.isPending||this.popoutWin&&!this.popoutWin.closed||p.audioPlayer.play("chat_sound"),e.timeStamp>R.lastMessageTimestamp&&("v"===c?R.lastMessageTimestamp=e.timeStamp:!document.hidden&&A.chatElementInView(s.elementReferrer)&&p.viewHandler.isMaximized?this.updateLastTimestamp(e.timeStamp):(this.unseenMessages.push(f),this.updateTotalUnseenMessages(),0<this.totalUnseenMessages&&(this.setDivider(s.elementReferrer,u["chat-divider"],s),e=this.chatContainer.documentRef.getElementById("newMessagesBar"))&&(this.chatContainer.getElementById("notificationMessageText").innerHTML=p.languageParser.translate("chat","newMessage",{num:this.totalUnseenMessages})))),!m||p.formHandler.currentForm&&!p.viewHandler.isMaximized||this.scrollToBottom(),t&&this.addSurveyHandlers(f),f},parseSurvey:function(e,t){var i,n,a,o,r,s,l=e.match(A.regSurvey),c="";if(!l)return{message:e,isSurvey:!1};for(o=e.match(A.regSurveyQuestion),r="survey-"+(new Date).getTime(),i=0,n=l.length;i<n;i++)a=(a=l[i].replace(A.regOption,"")).replace(A.regBr,""),a=A.trim(a),s=r+i,c+=A.escapeTemplateReplacement(h["survey-option"],[{placeholder:/__RADIO_ID__/gm,textReplace:s},{placeholder:"__RADIO_NAME__",textReplace:t},{placeholder:/__RADIO_VALUE__/gm,textReplace:a}]);return{message:A.escapeTemplateReplacement(h["tawk-survey-wrapper"],[{placeholder:"__QUESTION__",textReplace:o[0].replace(A.regOption,"")},{placeholder:"__OPTIONS__",textReplace:c}]),isSurvey:!0}},updateViewByStatus:function(e){if("emailTranscriptFormOnChatEnded"!==p.formHandler.currentForm&&"restartChatForm"!==p.formHandler.currentForm&&p.formHandler.closeForm(),T.isPopup){var t=o.getShortMessage(e);document.title=t?S.pageName()+" - "+A.rawDecode(t):S.pageName()}"online"===e||"away"===e?(T.showConsentForm?p.formHandler.openForm("consentForm"):T.showPreChatForm&&!R.prechatFormSubmitted()&&p.formHandler.openForm("preChatForm"),this.showWidget(),i&&(p.viewHandler.isMaximized||i.showBubble(),i.toggleOfflineIcon(!1))):"offline"===e&&(T.hideWidgetOnOffline?this.hideWidget():(p.formHandler.openForm(T.showConsentForm?"consentForm":"offlineForm"),this.showWidget()),i&&(i.hideBubble(),i.toggleOfflineIcon(!0),this.messagePreview&&this.messagePreview.removeAllElements()))}});we.prototype.openAgentList=function(){var e=this.chatContainer.getElementById("agentBar");"preChatForm"!==p.formHandler.currentForm&&(this.scrollToBottom(),this.chatContainer.getElementById("greetingsContent")&&(this.chatContainer.getElementById("greetingsContent").style.display="none"),e.style.display="block")},we.prototype.addProfileDetail=function(e){var t,i,n,a=this.chatContainer.getElementById("agentProfileContainer");e.pi||1<p.agents.agentsCount?(t=new ge("profileDetail",null,null,null,this.chatContainer.documentRef),n=h["agent-profile-description"],t.template=A.escapeTemplateReplacement(n,[{placeholder:"__POSITION_CLASS__",textReplace:e.pst?"agentName":"agentNameCentered"},{placeholder:"__POSITION__",textReplace:e.pst},{placeholder:"__NAME__",textReplace:e.n}])):(t=new ge("profileDetailNoImage",null,{className:"noImageAgentProfileDetail"},null,this.chatContainer.documentRef),i=e.pst?"&nbsp-&nbsp"+e.pst:"",n=h["agent-profile-description-noimage"],t.template=A.escapeTemplateReplacement(n,[{placeholder:"__POSITION__",textReplace:i},{placeholder:"__NAME__",textReplace:e.n}])),a.appendChild(t.buildView())},we.prototype.renderAgentWithPosition=function(e){var t,i,n,a=(t=this.chatContainer).getElementById("agentProfileContainer");t&&a&&e&&(e=B.agentProfiles[e],t=new ge("profileDetail"+e.pid,null,{className:"agent-profile-detailed theme-background-color"},null,t.documentRef),i=e.pst?e.pst:"",n=h["agent-profile-detailed"],t.template=A.escapeTemplateReplacement(n,[{placeholder:"__POSITION__",textReplace:i},{placeholder:"__NAME__",textReplace:e.n}]),a.appendChild(t.buildView()))},we.prototype.renderAgentHeader=function(e){var t,i,n="",a=this.chatContainer,o=a.getElementById("agentProfileContainer");a&&o&&e&&((i=(t=B.agentProfiles[e]).pi?R.agentImgUrl+"/"+t.pi:"")&&(n="background-image : url('"+i+"'); background-position : 0px 0px;z-index: "+(7-p.agents.agentsCount)+";"),n+="box-shadow: 0px 0px 0px 1px "+T.headerTxtColor+";",t=new ge("profileImage-"+t.pid,n,{className:"alias-image theme-background-color"},null,a.documentRef),o.appendChild(t.buildView()),this.renderAgentWithPosition(e),1<p.agents.agentsCount&&(o.style.width=30*p.agents.agentsCount-10*(p.agents.agentsCount-1)+"px"),-1<this.chatContainer.getElementById("greetingsMainContainer").className.indexOf("minimize")&&(1===p.agents.agentsCount&&this.chatContainer.getElementById("headerAccountStateContainer").classList.remove("multiple-agent"),this.chatContainer.getElementById("shortMessage").style.display="none"))},we.prototype.clearAgentHeader=function(){var e=this.chatContainer;e.getElementById("agentProfileContainer").innerHTML="",e.getElementById("innerWrapper").className="border-corner",e.getElementById("shortMessage").style.display="block"},we.prototype.closeAgentList=function(){var e=this.chatContainer.getElementById("greetingsContent");this.chatContainer.getElementById("agentBar").style.display="none",e&&(A.hasClass(e,"no-content")?this.chatContainer.getElementById("greetingsContent").style.display="none":this.chatContainer.getElementById("greetingsContent").style.display="block")},we.prototype.calculateOwnerNameAndMessageTimeSizeAll=function(){var e=this.chatContainer.getElementById("chatWrapper"),t=null,i=null,n=null,a=null;[].forEach.call(e.getElementsByClassName("agentChatContainer"),function(e){t=e.getElementsByClassName("messageOwnerName")[0],i=e.getElementsByClassName("messageTime")[0],a=e.getElementsByClassName("message")[0],n=e.getElementsByClassName("messageTimeContainer")[0],t&&i&&a&&n&&(1<p.agents.agentsCount&&a.offsetWidth<i.offsetWidth+t.offsetWidth?(n.style.left=45+t.offsetWidth+"px",n.style.right="auto"):(n.style.right="0",n.style.left="auto"))})},we.prototype.resetView=function(){},we.prototype.styleAgentBar=function(){},we.prototype.expandAgentList=function(){},we.prototype.hideWidget=function(){},we.prototype.showWidget=function(){},we.prototype.toggleWidget=function(){C&&p.viewHandler.maximize()},we.prototype.popoutWidget=function(){C&&p.viewHandler.popup()},we.prototype.handleIndicatorToggle=function(){},we.prototype.begin=function(){},we.prototype.getViewportDimensions=function(e){var i,n={};return e?(e=l,i=document):(e=t.container.elementReferrer,i=t.container.documentRef),void 0!==e.innerWidth?(n.height=e.innerHeight,n.width=e.innerWidth,n):void 0!==i.documentElement&&void 0!==i.documentElement.clientWidth&&0!==i.documentElement.clientWidth?(n.height=i.documentElement.clientHeight,n.width=i.documentElement.clientWidth,n):(n.height=i.getElementsByTagName("body")[0].clientHeight,n.width=i.getElementsByTagName("body")[0].clientWidth,n)},we.prototype.getActualViewportDimensions=function(){var e=this.getViewportDimensions(!0);return{width:this.isVerticalScrollbar()?e.width-this.getScrollerWidth():e.width,height:this.isHorizontalScrollbar()?e.height-this.getScrollerWidth():e.height}},we.prototype.isVerticalScrollbar=function(){return this.getViewportDimensions(!0).height<document.body.scrollHeight},we.prototype.isHorizontalScrollbar=function(){var e=this.getViewportDimensions(!0).width;return document.documentElement&&e<document.documentElement.scrollWidth||e<document.body.scrollWidth},we.prototype.getScrollerWidth=function(){var e,t=null,i=null;t=0;return(t=document.createElement("div")).style.cssText="position: absolute; top: -10000px; left: -10000px; width: 100px; height: 50px; overflow: hidden",(i=document.createElement("div")).style.cssText="width: 100%; height: 200px",t.appendChild(i),document.body.appendChild(t),e=i.offsetWidth,t.style.overflow="auto",t=i.offsetWidth,document.body.removeChild(document.body.lastChild),e-t},we.prototype.addSurveyHandlers=function(e){var t,i=this;this.chatContainer&&(t=this.chatContainer.getElementById(e),(t=A.getElementsByTagName(t,"input")).forEach(function(t,n){t.id&&i.chatContainer.attachUserEventListener("click",function(){i.lastRadioButton!==t.id&&(i.lastRadioButton=t.id,p.chatHandler.sendMessage(t.value))},t.id,"survey"+e+n+"click")}))},we.prototype.ifScrollbarDown=function(){var e,t,i;return!(!this.chatContainer||!this.chatContainer.elementReferrer)&&(e=this.chatContainer.getElementById("chatContainer"),i=this.chatContainer.getElementById("chatPanel"),e&&i?p.formHandler.currentForm?(i.style.display="block",t=e.offsetHeight+10,e=30>e.scrollHeight-(e.scrollTop+t),i.style.display="none",e):(t=e.offsetHeight+10,30>e.scrollHeight-(e.scrollTop+t)):void 0)},we.prototype.scrollToBottom=function(){if(this.chatContainer&&this.chatContainer.elementReferrer){var e=this.chatContainer.getElementById("chatContainer"),t=this.chatContainer.getElementById("chatPanel");if(e){var i=e.style.display,n=t.style.display;"none"===i&&(e.style.display="block"),"none"===n&&(t.style.display="block"),e.scrollTop=1e8,"none"===i&&(e.style.display=i),"none"===n&&(t.style.display=n),-1===this.chatContainer.getElementById("greetingsMainContainer").className.indexOf("minimize")&&0!==e.scrollTop&&this.toggleGreetingsView(e.scrollHeight<this.chatContainer.getElementById("chatWrapper").offsetHeight)}}},we.prototype.isChatScrollbar=function(){var e;if(this.chatContainer&&this.chatContainer.elementReferrer&&(e=this.chatContainer.getElementById("chatContainer")))return e.scrollHeight>this.getViewportDimensions(T.isPopup).height-139},we.prototype.addWaitTime=function(){var e,t,i;!p.chatHandler.agentHasMessaged&&T.showWaitTime&&(t=this.chatContainer.getElementById("greetingsContent"),(e=this.chatContainer.getElementById("greetingsWaitTime"))&&t&&(i=Math.ceil(R.waitTime/6e4),i=p.languageParser.translate("chat","messageQueuedText",{t:i,strongStart:"<b>",strongEnd:"</b>"}),e.innerHTML=i,e.style.display="block",t.style.display="block",this.waitTimeUpdater(!0)))},we.prototype.removeWaitTime=function(){var e,t;this.chatContainer&&this.chatContainer.elementReferrer&&(e=this.chatContainer.getElementById("greetingsWaitTime"),t=this.chatContainer.getElementById("greetingsContent"),e&&t&&(e.innerHTML="",e.style.display="none",A.hasClass(t,"no-content")&&(t.style.display="none")))},we.prototype.waitTimeUpdater=function(e){var t,i,n=this;if(this.chatContainer&&this.chatContainer.elementReferrer&&(i=this.chatContainer.getElementById("greetingsWaitTime"))&&!(6e4>=R.waitTime)){if(t=R.waitTime%6e4||6e4,e)return setTimeout(function(){n.waitTimeUpdater()},t);R.waitTime-=t,e=Math.ceil(R.waitTime/6e4),e=p.languageParser.translate("chat","messageQueuedText",{t:e,strongStart:"<b>",strongEnd:"</b>"}),i.innerHTML=e,setTimeout(function(){n.waitTimeUpdater()},6e4)}},we.prototype.appendAgentIsTypingElement=function(e){var t,i,n=this.ifScrollbarDown(),a=B.agentProfiles[e];this.chatContainer&&(i=a&&a.pi?R.agentImgUrl+"/"+a.pi:"",a.strongStart="<b>",a.strongEnd="</b>",t=h["agent-typing"],t=A.escapeTemplateReplacement(t,[{placeholder:"__MESSAGE_ID__",textReplace:e},{placeholder:/__NAME__/gm,textReplace:a.n},{placeholder:"__IMAGE_URL__",textReplace:i?"url('"+i+"');":"transparent;"}]),this.chatContainer.getElementById("agentTypingContainer").innerHTML+=t,this.chatContainer.getElementById("agentTypingContainer").style.display="block",n&&this.scrollToBottom())},we.prototype.removeAgentTypingElement=function(e){this.chatContainer&&((e=this.chatContainer.getElementById("agentTyping-"+e))&&e.parentNode.removeChild(e),this.chatContainer.getElementById("agentTypingContainer").style.display="none")},we.prototype.changeRating=function(e){var t="c";this.chatContainer&&(0>e?e=T.showEmoji()&&void 0!==te?":thumbsdown_tone2:":"&#128078;":0<e?e=T.showEmoji()&&void 0!==te?":thumbsup_tone2:":"&#128077;":(e=p.languageParser.translate("chat","remove_rate"),t="n"),p.viewHandler.appendMessage({message:e,type:t,time:new Date,senderType:"v",ownerId:I.visitorId}))},we.prototype.notifiyDepartmentIsNotOnline=function(e,t){var i,n,a=this.chatContainer;a&&(i=a.getElementById("chatWrapper"))&&(n=A.escapeTemplateReplacement(h.departmentOfflineNotification,[{placeholder:"__TITLE__",textReplace:_?"<span>"+p.languageParser.translate("chat","notificationTitle")+"</span>":"<center><span>"+p.languageParser.translate("chat","notificationTitle")+"</span></center>"},{placeholder:"__MESSAGE__",textReplace:p.languageParser.translate("chat","offline"===t?"departmentIsOffline":"departmentIsAway",{departmentName:e,strongStart:"<b>",strongEnd:"</b>"})}]),n=A.createElement(a.documentRef,"div",{id:"departmentOfflineNotification",className:"messageContainer"},null,n),i.insertBefore(n,i.firstChild))},we.prototype.setDivider=function(e,t,i){var n,a,o,r=this;!this.chatContainer.documentRef.getElementById("newMessageDivider")&&(o=this.chatContainer.documentRef.getElementById("chatWrapper"),(a=new ge("newMessageDivider")).template=A.escapeTemplateReplacement(t,[{placeholder:/__NEW_MESSAGES__/gm,textReplace:p.languageParser.translate("chat","newMessages").toUpperCase()}]),a.buildView(),o.insertBefore(a.elementReferrer,i.elementReferrer),!A.chatElementInView(a.elementReferrer)&&(p.viewHandler.isMaximized||T.isPopup||T.isEmbedded)&&(n=this.chatContainer.documentRef.getElementById("newMessagesBar")))&&(n.className="visible",p.eventHandler.listen(n,this.clickEvent,function(){r.scrollToSeeMessage(e),n.className=""},"newmessagedivider"))},we.prototype.removeDivider=function(){var e,t=this;clearTimeout(this.removeDividerTimeout),this.removeDividerTimeout=setTimeout(function(){(e=t.chatContainer.documentRef.getElementById("newMessageDivider"))&&e.parentNode.removeChild(e)},1e3)},we.prototype.scrollToSeeMessage=function(e){var t=this.chatContainer.documentRef.getElementById("chatContainer");e&&t&&(t.scrollTop=e.offsetTop-t.offsetHeight+50,this.checkSeenMessageViewport())},we.prototype.checkUnseenMessages=function(){var e;if(!this.newMessageNotSeen&&!this.unseenMessages.length)return!1;for(var t=0;t<this.unseenMessages.length;t++)A.chatElementInView(this.unseenMessages[t])&&(this.unseenMessages.splice(t,1),t--);(!this.unseenMessages.length||C&&this.ifScrollbarDown())&&(this.newMessageNotSeen=!1,(e=this.chatContainer.documentRef.getElementById("newMessagesBar"))&&setTimeout(function(){e.className=""},250),this.removeDivider())},we.prototype.parseUploadedFile=function(e){var t="https://tawk.link/"+e.name,i=this,n=h["file-upload"],a=this.ifScrollbarDown();if(-1!==["jpeg","png","gif"].indexOf(e.type)&&2e6>=e.size){var o=new Image;o.onload=function(){var n=A.createElement(i.chatContainer.documentRef,"a",{href:t,target:"_blank"}),r=i.chatContainer.getElementById("placeholder-"+e.name),s=null,c=null;r&&(n.appendChild(o),n.className="clearfix",r.parentNode.insertBefore(n,r),r.parentNode.removeChild(r),!p.viewHandler.isMaximized&&i.messagePreview&&(s=A.createElement(i.messagePreview.container.documentRef,"a",{href:t,target:"_blank"}),(c=i.messagePreview.container.getElementById("placeholder-"+e.name))&&(s.appendChild(o),s.className="clearfix",c.parentNode.insertBefore(s,c),c.parentNode.removeChild(c)),i.messagePreview.scrollToBottom()),setTimeout(function(){l.requestAnimationFrame(function(){a&&i.scrollToBottom()})},1e3/6))},o.setAttribute("src",t),o.setAttribute("class","uploaded-image"),n=A.escapeTemplateReplacement(n,[{placeholder:"__FILE_DISPLAY__",textReplace:'<div class="image-loader" id="placeholder-'+e.name+'">'+h.loader+"</div>"}])}else n=-1!==["video/mp4","video/ogg","video/webm"].indexOf(e.mimeType)?A.escapeTemplateReplacement(n,[{placeholder:"__FILE_DISPLAY__",textReplace:'<video width="auto" height="auto" controls style="display: block; max-width: 420px; width: 100%;"><source src="'+t+'" type="'+e.mimeType+'"></source></video>'}]):-1!==["audio/mp3","audio/ogg"].indexOf(e.mimeType)?A.escapeTemplateReplacement(n,[{placeholder:"__FILE_DISPLAY__",textReplace:'<audio controls style="display: block; max-width : 220px;"><source src="'+t+'" type="'+e.mimeType+'"></source></audio>'}]):h["file-upload-not-img-vid-audio"];return A.escapeTemplateReplacement(n,[{placeholder:"__FILE_NAME__",textReplace:e.fileName},{placeholder:"__DOWNLOAD_URL__",textReplace:t},{placeholder:"__DOWNLOAD_TEXT__",textReplace:p.languageParser.translate("chat","downloadFile")},{placeholder:"__FILE_SIZE__",textReplace:A.formatFileSize(e.size)},{placeholder:"__FILE_TYPE__",textReplace:e.type},{placeholder:"__DOWNLOAD_LABEL__",textReplace:p.languageParser.translate("chat","download")}])},we.prototype.startUpload=function(e){var t,i,n,a=this,o=h.fileUploadProgress,r=this.ifScrollbarDown();if(n=this.chatContainer.getElementById("fileInput"),t=e.name||e.fileName,(i=A.getElementsByClassName(a.chatContainer.elementReferrer,"upload-error")).length)for(var s=0;s<i.length;s++)i[s].parentNode.removeChild(i[s]);p.fileUploadHandler.getUploadHandler(function(i){var s;i.handle?(s=i.handle,o=A.escapeTemplateReplacement(o,[{placeholder:"__HANDLE__",textReplace:s},{placeholder:"__FILE_NAME__",textReplace:A.rawEncode(t)},{placeholder:"__FILE_STATUS__",textReplace:p.languageParser.translate("chat","uploading")}]),a.chatContainer.getElementById("chatWrapper").innerHTML+=o,r&&a.scrollToBottom(),p.fileUploadHandler.uploadFile(s,e,t,function(i,o){n.value="",i.success||a.handleUploadError(e,t,s,o)})):(a.handleUploadError(e,t,s),n.value="")})},we.prototype.handleUploadError=function(e,t,i,n){var a=this.ifScrollbarDown(),o=this,r=document.createElement("a"),s=new ge("uploadFailedNotification"),l=(l=(l=h.uploadFailedNotification).replace(/__UPLOAD_FAILED_LABEL__/,p.languageParser.translate("chat","generalUploadErrorLabel"))).replace(/__UPLOAD_FAILED_MESSAGE__/,p.languageParser.translate("chat","generalUploadError",{fileName:A.rawEncode(t)}));if(s.template=l,s.buildView(),e){if(i){if(!(t=this.chatContainer.getElementById("upload-"+i)))return;var c;if(t.parentNode.removeChild(t),e&&(!n||"generalUploadError"===n))r.innerHTML=p.languageParser.translate("chat","tryAgain"),r.setAttribute("href","javascript:void(0);"),r.setAttribute("id","retry-"+i),s.elementReferrer.getElementsByClassName("uploadFailedRetryContainer")[0].appendChild(r),c=p.eventHandler.listen(r,this.clickEvent,function(){p.eventHandler.removeEventHandler(r,this.clickEvent,c),s.elementReferrer.parentNode.removeChild(s.elementReferrer),o.startUpload(e)},"retry-"+i)}this.chatContainer.getElementById("chatContainer").appendChild(s.elementReferrer),a&&this.scrollToBottom()}},we.prototype.updateFileProgress=function(e){var t=this.chatContainer.getElementById("upload-"+e.handle);e=e.progress/100*360,t&&(180>=e?(t.getElementsByClassName("circle-progress-left")[0].style.transform="rotate("+e+"deg)",t.getElementsByClassName("circle-progress-right")[0].style.display="none",t.getElementsByClassName("circle-progress-clip")[0].style.display="block"):(t.getElementsByClassName("circle-progress-left")[0].style.transform="rotate(180deg)",t.getElementsByClassName("circle-progress-right")[0].style.transform="rotate("+e+"deg)",t.getElementsByClassName("circle-progress-right")[0].style.display="block",t.getElementsByClassName("circle-progress-clip")[0].style.display="none"))},we.prototype.fileUploaded=function(e){(e=this.chatContainer.getElementById("upload-"+e))&&e.parentNode.removeChild(e)},we.prototype.retryUploadFile=function(e){var t,i,n=this;this.retryUploadList[e]&&this.startUpload(this.retryUploadList[e],function(){t=n.chatContainer.getElementById(e),(i=t.parentNode).removeChild(t),i.parentNode.removeChild(i),delete n.retryUploadList[e],Object.keys(n.retryUploadList).length||n.chatContainer.getElementById("maxFileNotificationContainer").classList.add("hidden"),t=null})},we.prototype.checkUploadFileWarning=function(e,t){var i,n=this.chatContainer.getElementById("maxFileNotificationContainer"),a=this.chatContainer.getElementById("maxSizeNotificationContainer"),o=this.chatContainer.getElementById("maxFileSizeList"),r=this.chatContainer.getElementById("maxFileNumberList"),s=this;if(t.length){i="<ul>",this.retryUploadList={};for(var l=0;l<t.length;l++)this.retryUploadList["retry_upload_"+l]=t[l],i+="<li>"+t[l].name+' <a id="retry_upload_'+l+'" class="actionRetry">'+p.languageParser.translate("notifications","retry")+"</a></li>";for(r.innerHTML=i+"</ul>",i=A.getElementsByClassName(r,"actionRetry"),r=0;r<i.length;r++)i[r].addEventListener(s.clickEvent,function(){this.classList.add("hidden"),s.retryUploadFile(this.id)});n.classList.remove("hidden")}if(e.length){for(i="<ul>",n=0;n<e.length;n++)i+="<li>"+e[n].name+"</li>";o.innerHTML=i+"</ul>",a.classList.remove("hidden")}i&&this.scrollToBottom()},we.prototype.applyWhiteLabelSettings=function(){var e,t,i;this.chatContainer&&(e=this.chatContainer.documentRef.getElementById(this.tawktoLinkName),t=this.chatContainer.documentRef.getElementById(this.bottomContainerName),i={id:this.tawktoLinkName,parentElem:t,siblingName:t.nextSibling?t.nextSibling.id:null,grandParentName:t.parentNode.id},T.whiteLabel()?(i.url=T.whiteLabel().url||null,i.label=A.transformLabel(A.rawEncode(T.whiteLabel().label))||null,i.textColor=T.whiteLabel().textColor||"#000000"):(i.url="javascript:void(0);",i.label=h["default-branding"]),null===i.label?((e=this.chatContainer.documentRef.getElementById("contentContainer")).className+="no-branding",t.parentNode.removeChild(t)):(A.insertRandomTagsBeforeAndAfter(t,t.parentNode,"div"),A.insertRandomTagsBeforeAndAfter(e,e.parentNode,"a"),A.applyWhiteLabelSettings(e,i)))},we.prototype.showCallRequest=function(e,t,i,n){var a,o,r=this;a=h.incomingCallRequest;var s=(new Date).getTime();s=t-(s-(o=new Date(i).getTime())),i={callId:e,ringTimeout:t,startedOn:i,caller:n,isMissed:null},(o=this.chatContainer.getElementById("incoming-call"))||(t=this.ifScrollbarDown(),p.chatHandler.webrtcWin&&!p.chatHandler.webrtcWin.closed?p.chatHandler.webrtcWin.focus():(o=(n=B.agentProfiles[B.profiles[n.urid]])&&n.pi?R.agentImgUrl+"/"+n.pi:"default",a=(a=(a=a.replace(/__IMAGE_URL__/,o?"url('"+o+"');":"transparent;")).replace(/__INCOMING_CALL__/,p.languageParser.translate("chat","incoming_call_message",{name:n.n}))).replace(/__ACCEPT_CALL__/,p.languageParser.translate("chat","accept_call")).replace(/__DECLINE_CALL__/,p.languageParser.translate("chat","decline_call")),clearTimeout(this.incomingCallTimeout),(o=new ge("incoming-call")).template=a,o.buildView(),n=(a=this.chatContainer.getElementById("chatContainer")).parentNode,a&&n&&(n.insertBefore(o.elementReferrer,a),a=this.chatContainer.getElementById("accept-call"),n=this.chatContainer.getElementById("decline-call"),t&&this.scrollToBottom(),p.eventHandler.listen(a,this.clickEvent,function(){clearTimeout(r.incomingCallTimeout),A.getWebRTCToken(!1,!1,function(){r.removeCallRequest()})},"acceptVideoCall"),p.eventHandler.listen(n,this.clickEvent,function(){clearTimeout(r.incomingCallTimeout),A.rejectCall(e,function(){r.removeCallRequest()})},"declineVideoCall"),this.incomingCallTimeout=setTimeout(function(){r.removeCallRequest()},s),T.isPopup||p.viewHandler.isMaximized||T.isEmbedded||(p.viewHandler.indicator.show(),p.viewHandler.messagePreview&&p.viewHandler.messagePreview.show(p.viewHandler.indicator.unansweredMessages,null,i)),p.audioPlayer.play("chat_sound"))))},we.prototype.removeCallRequest=function(){var e=this.chatContainer.getElementById("incoming-call");e&&e.parentNode.removeChild(e),this.messagePreview&&this.messagePreview.incomingCallContainer&&this.messagePreview.removeCallRequest()},we.prototype.subscribeCallUpdate=function(e,t){var i,n,a,o,r,s,l,c=this,d=this.chatContainer.documentRef,m=this.callData[e],g=this.ifScrollbarDown();m?i=m.callView:((i=new ge(e,null,{className:"webrtcCallContainer messageContainer clearfix"},null,d)).template=A.escapeTemplateReplacement(h.callInfo,[{placeholder:"__LOADER__",textReplace:h.loader}]),i.buildView(),d.getElementById("chatWrapper").insertBefore(i.elementReferrer,d.getElementById("agentTypingContainer")),this.callData[e]={callView:i}),n=A.getElementsByClassName(i.elementReferrer,"callLoader"),a=A.getElementsByClassName(i.elementReferrer,"callInfoContainer"),o=A.getElementsByClassName(i.elementReferrer,"callIconWrapper"),r=A.getElementsByClassName(i.elementReferrer,"callErrorContainer"),n&&n.length&&(n[0].style.display="block"),r&&r.length&&(r[0].style.display="none"),p.socketManager.sendToConnector("getCallStatus",{callId:e},function(d,m){n&&n.length&&(n[0].style.display="none"),d?(a&&a.length&&(a[0].style.display="none"),r&&r.length?r[0].style.display="block":(l=h.callError.replace("__HEADER__",p.languageParser.translate("chat","error_title")).replace("__MESSAGE__",p.languageParser.translate("chat","call_error_load")).replace("__ACTION__",p.languageParser.translate("notifications","retry")),(r=A.createElement(c.chatContainer.documentRef,"div",null,null,l)).className="callErrorContainer",r.style.display="block",i.elementReferrer.appendChild(r)),(s=A.getElementsByClassName(i.elementReferrer,"retry-load"))&&s.length&&p.eventHandler.listen(s[0],c.clickEvent,function(){c.subscribeCallUpdate(e,t)},"retryCallLoad"+e)):m.data.call.f&&(a&&a.length&&(a[0].style.display="block"),callIcon=m.data.call.f.vid?'<span class="callIcon btn-icon icon-video-chat"></span>':m.data.call.f.scrn?'<span class="callIcon btn-icon icon-desktop-sharing"></span>':'<span class="callIcon btn-icon icon-voice-chat"></span>',o&&o.length&&(o[0].innerHTML=callIcon),c.callData[e].ver=m.data.call.ver,g&&c.scrollToBottom(),c.updateCallView(m.data.call,t))})},we.prototype.updateCallView=function(e,t){var i,n,a,o,r,s=!!e.mssd;a=!!e.rjctd;var l={};l=null;if(!(n=this.callData[e.clid]))return this.subscribeCallUpdate(e.clid);n.ver>e.ver||(r=this.ifScrollbarDown(),l=(n=n.callView).elementReferrer.getElementsByClassName("btn-icon")[0],callIconContainerEl=n.elementReferrer.getElementsByClassName("callIconContainer")[0],callIconContainerEl.style.backgroundColor="#47ca2b","ringing"===e.stts?("v"!==e.cllr.t&&this.showCallRequest(e.clid,e.rt,e.so,e.cllr),i=p.languageParser.translate("chat",("v"===e.cllr.t?"visitor_":"agent_")+"ringing")):"in-progress"===e.stts?(this.removeCallRequest(),i=p.languageParser.translate("chat","ongoing_call")):"completed"===e.stts&&(o=A.parseChatTime(e.so),this.removeCallRequest(),e.f.vid||e.f.scrn||(l.style.transform="rotate(135deg)"),callIconContainerEl.style.backgroundColor="#e52f48",l={callId:e.clid,ringTimeout:e.rt,startedOn:e.so,caller:e.cllr,isMissed:s},t||!p.viewHandler.messagePreview||C||p.viewHandler.messagePreview.show(p.viewHandler.indicator.unansweredMessages,null,l),s||a?(i=a?p.languageParser.translate("chat","rejected_call"):p.languageParser.translate("chat","missed_"+("v"===e.cllr.t?"agent":"visitor")),a=p.languageParser.translate("chat","call_started_on",{startedOn:o})):(a=A.getTimeDifference(e.so,e.eo),i=p.languageParser.translate("chat","completed_call"),a=p.languageParser.translate("chat","call_end_details",{startedOn:o,duration:a})),(o=A.getElementsByClassName(n.elementReferrer,"callEndDetails"))&&o.length&&(o[0].innerHTML=a,o[0].style.display="block")),(n=A.getElementsByClassName(n.elementReferrer,"callTitle"))&&n.length&&(n[0].innerHTML=i,s&&(n[0].className+=" missed")),this.callData[e.clid].ver=e.ver,r&&this.scrollToBottom())},we.prototype.closeMessagePreview=function(e){e.ts&&this.messagePreview&&this.messagePreview.removeAllElements(e.ts)},we.prototype.toggleGreetingsView=function(e){var t=this.chatContainer.getElementById("chatContainer"),i=this.chatContainer.getElementById("greetingsMainContainer"),n=Math.floor(t.scrollHeight),a=Math.floor(t.clientHeight);e||n===a||5>=n-a?0===t.scrollTop&&-1!==i.className.indexOf("minimize")&&(i.className=i.className.replace(" minimize",""),this.chatContainer.getElementById("agentProfileContainer").className="",1===p.agents.agentsCount&&this.chatContainer.getElementById("headerAccountStateContainer").classList.remove("multiple-agent"),this.chatContainer.getElementById("shortMessage").style.display="block"):-1===i.className.indexOf("minimize")&&(i.className+=" minimize",this.chatContainer.getElementById("agentProfileContainer").className="show",1<p.agents.agentsCount?this.chatContainer.getElementById("headerAccountStateContainer").classList.add("multiple-agent"):this.chatContainer.getElementById("headerAccountStateContainer").classList.remove("multiple-agent"),0<p.agents.agentsCount&&(this.chatContainer.getElementById("shortMessage").style.display="none"))},we.prototype.checkSeenMessageViewport=function(){var e,t,i=-1;if(0!==this.unseenMessages.length){for(var n=0;n<this.unseenMessages.length;n++){t=this.unseenMessages[n];var a=this.chatContainer.getElementById(t);if(a&&A.chatElementInView(a)&&(e=p.chatHandler.getMessageObjectById(t)),e&&e.timeStamp>R.lastMessageTimestamp){i=n;break}}-1!==i&&(t=this.unseenMessages[this.unseenMessages.length-1])&&(e=p.chatHandler.getMessageObjectById(t))&&this.updateLastTimestamp(e.timeStamp)}},we.prototype.updateLastTimestamp=function(e){this.lastUpdateTimeout&&clearTimeout(this.lastUpdateTimeout),this.clearUnseenNotification(),this.lastUpdateTimeout=setTimeout(function(){!(document.hidden||document.msHidden||document.webkitHidden)&&e>R.lastMessageTimestamp&&(R.lastMessageTimestamp=e,p.socketManager.sendToConnector("visitorChatSeen",{timestamp:e},function(){}))},1e3)},we.prototype.clearUnseenNotification=function(){var e=this.chatContainer.documentRef.getElementById("newMessagesBar");this.unseenMessages=[],e&&(e.className=""),this.updateTotalUnseenMessages(),this.removeDivider()},we.prototype.updateTotalUnseenMessages=function(){this.totalUnseenMessages=this.unseenMessages.length,p.viewHandler.indicator&&p.viewHandler.indicator.updateUnseenMessages(this.totalUnseenMessages)},we.prototype.scrollToFirstUnseen=function(){var e=this.chatContainer.documentRef.getElementById("newMessageDivider");e?this.scrollToSeeMessage(e):this.scrollToBottom()};var _e=function(){var e=this;this.currentForm="",this.formView=null,this.forms={nameForm:{id:"changeNameForm",title:"NameFormMessage",fields:[{fieldName:"name",valueMaxLength:40,languageKey:"Name",getValue:p.visitorHandler.getNameValue,validation:"isValidString",type:"input",isRequired:!0}],publish:"notifyNameChange",afterSave:p.visitorHandler.setNameFromForm,resize:"auto"},emailTranscriptForm:{id:"emailTranscriptForm",title:"EmailTranscriptFormMessage",fields:[{fieldName:"name",valueMaxLength:40,languageKey:"Name",getValue:p.visitorHandler.getNameValue,validation:"isValidString",type:"input",hiddenIE8:!0,isRequired:!0},{fieldName:"transcriptEmail",valueMaxLength:150,languageKey:"Email",getValue:p.visitorHandler.getTranscriptEmailValue,validation:"isValidEmail",type:"input",instantValidation:!1,isRequired:!0}],saveFunc:"requestEmailTranscript",afterSave:p.visitorHandler.setTranscriptValue,resize:"auto"},offlineForm:{id:"offlineForm",getTitle:function(){return A.transformGreetings(T.offlineOptions.text)},dynamicFields:null,saveFunc:"submitOfflineForm",dontCloseForm:!0,afterSave:e.showOfflineOverlay},preChatForm:{id:"preChatForm",getTitle:function(){return T.prechatOptions.text?A.transformGreetings(T.prechatOptions.text):T.isEmbedded&&"page"===$_Tawk_WidgetId&&pageType&&"profile"===pageType?p.languageParser.translate("form","PreChatFormMessageProfile"):p.languageParser.translate("form","PreChatFormMessage")},dynamicFields:null,saveFunc:"submitPrechatForm",afterSave:e.handlePrechatForm,dontCloseForm:!1},inactivityOverlay:{id:"inactivityOverlay",overlayMessage:"inactive",otherEvent:{eventName:"click",elementName:"inactivityOverlay",executedFunc:p.main.criticalRefresh}},maintenanceOverlay:{id:"maintenanceOverlay",overlayMessage:"maintenance"},endChatForm:{id:"endChatForm",publish:"endVisitorChat",afterSave:e.handleChatEnded,dontCloseForm:!1,resize:"auto",title:"EndChatTitle"},consentForm:{id:"consentForm",saveFunc:"submitConsent",getTitle:function(){return A.transformGreetings(T.consentOption.text).replace(A.regLineBreaks,A.br)},dynamicFields:null,dontCloseForm:!0,otherEvent:{eventName:"click",elementName:"formDecline",executedFunc:function(){T.isPopup?l.close():R.chatWindowState("min")}},customButtons:function(){return T.consentOption.buttons}},restartChatForm:{id:"restartChatForm",dontCloseForm:!0,resize:"auto",title:"chatEnded",fields:[{fieldName:"transcriptEmail",valueMaxLength:150,languageKey:"Email",getValue:p.visitorHandler.getTranscriptEmailValue,validation:"isValidEmail",type:"input",instantValidation:!1,isRequired:!0}],saveFunc:"requestEmailTranscript",afterSave:p.visitorHandler.setTranscriptValue}},p.eventEmitter.on("localeChanged",function(){var t=e.currentForm;t&&(e.closeForm(),e.openForm(t))}),I.displayName.subscribe(function(t){!e.currentForm||"preChatForm"!==e.currentForm&&"offlineForm"!==e.currentForm||e.formView.updateName(t)}),I.email.subscribe(function(t){!e.currentForm||"preChatForm"!==e.currentForm&&"offlineForm"!==e.currentForm||e.formView.updateEmail(t)}),R.prechatFormSubmitted.subscribe(function(){"preChatForm"===e.currentForm&&e.closeForm()})};_e.prototype.openForm=function(e){var i,n,a,o=this,r=p.viewHandler.chatContainer.getElementById("formContainer"),s=this.forms[e];if(s&&this.currentForm!==e&&r){this.formView=null,"preChatForm"===e||"offlineForm"===e?((i=p.viewHandler.chatContainer.getElementById("contentContainer"))&&(i.className+=" form-opened "),this.formView=new ve(s,e),"offlineForm"===e&&p.viewHandler.indicator&&(p.viewHandler.indicator.pageTitleNotification.off(),p.viewHandler.indicator.hide()),t&&t.clearTextareaResize()):this.formView=new ue(s),this.currentForm=e,this.formView.buildForm(),this.formView.buildView(p.viewHandler.chatContainer.documentRef),a=p.viewHandler.chatContainer.getElementById("greetingsMainContainer"),i=p.viewHandler.chatContainer.getElementById("greetingsText"),p.viewHandler.chatContainer.getElementById("chatPanel").style.display="none",r.innerHTML="",r.appendChild(this.formView.elementReferrer),r.style.display="block",this.forms[e].getTitle&&"consentForm"!==e&&this.forms[e].getTitle()?(i.innerHTML=this.forms[e].getTitle(),a.style.display="block"):a.style.display="none","endChatForm"===e&&(a.style.display="block",p.viewHandler.chatContainer.getElementById("contentContainer").className="chatEndVisible"),this.attachEventListeners(),this.formView.addPlaceholderHandler(),r.className=this.formView.isFormRequired?"has-required":"",p.eventHandler.listen(l,"resize",function(){o.resize()},"windowresizeform"),A.redraw(r),"preChatForm"!==e&&"offlineForm"!==e||p.eventEmitter.emit("formOpened");var c,h=0,m=0,g=0;e=/Firefox/i.test(d.userAgent)?"DOMMouseScroll":"mousewheel",C&&(e="touchstart touchmove touchend"),n=p.viewHandler.chatContainer.getElementById("formFieldsContainer"),p.viewHandler.chatContainer.attachUserEventListener(e,function(e){var t,i=Math.ceil(n.scrollHeight),o=Math.ceil(n.clientHeight);if(c=e.originalEvent?e.originalEvent:e,t=0<(g=c.detail?-40*c.detail:c.wheelDelta),"touchmove"===e.type?m=e.changedTouches[0].clientY:"touchstart"===e.type?h=e.touches[0].clientY:"touchend"===e.type&&(t=h<m),0===n.scrollTop&&-1!==a.className.indexOf("minimize")){if(0>g||h>m)return}else if(-1===a.className.indexOf("minimize")&&(h<m||0<g))return;t||i===o||5>=i-o?0===n.scrollTop&&-1!==a.className.indexOf("minimize")&&(a.className=a.className.replace(" minimize","")):-1===a.className.indexOf("minimize")&&(a.className+=" minimize")},"formFieldsContainer","formContainerScroll"),this.handleResizeofForm()}},_e.prototype.handleResizeofForm=function(e){if(!(C||T.isPopup||T.isEmbedded))if(!p.formHandler.currentForm||e)p.viewHandler.chatContainer.restyle("height",T.maximizedDimensions().height+"px !important");else{var t=p.viewHandler.chatContainer.getElementById("formContainer");e=p.viewHandler.chatContainer.getElementById("greetingsMainContainer");var i=120;"offlineForm"===p.formHandler.currentForm&&"block"===p.viewHandler.chatContainer.getElementById("overlayOfflineForm").style.display?t=p.viewHandler.chatContainer.getElementById("offlineForm"):A.getElementsByClassName(t,"formFrame")?t=A.getElementsByClassName(t,"formFrame")[0]:(t=A.getElementsByClassName(t,"formTable")[0],i=60),e&&(i+=e.offsetHeight),(e=t.offsetHeight+i)>=T.maximizedDimensions().height&&(e=T.maximizedDimensions().height),p.viewHandler.chatContainer.restyle("height",e+"px !important")}},_e.prototype.showOfflineOverlay=function(){p.viewHandler.chatContainer.getElementById("formContainer").className+=" success"},_e.prototype.resize=function(){var e,t,i,n,a;null!==this.formView&&C&&(n=p.viewHandler.chatContainer.getElementById("formContainer"),i=p.viewHandler.chatContainer.getElementById("formInnerHeight"),a=p.viewHandler.chatContainer.getElementById("headerBoxWrapper"),n&&(e=A.getElementsByClassName(n,"formMessageField"),t=A.getElementsByClassName(n,"longFormContainer"),e&&e.length&&t&&t.length&&(e=A.getElementsByClassName(n,"longFormBottomContainer")[0].clientHeight,t[0].style.height=p.viewHandler.iframeContainer.clientHeight-a.clientHeight-e+"px"),!i||"android"!==C&&"android2"!==C&&"android2.3"!==C||(i.style.overflow="hidden",p.viewHandler.addOverflowScroll(i))))},_e.prototype.closeForm=function(){var e,t;e=p.viewHandler.chatContainer.getElementById("formContainer");var i=p.viewHandler.chatContainer.getElementById("submitWrapper");t=p.viewHandler.chatContainer.getElementById("contentContainer");var n="endChatForm"===this.currentForm,a=this.formView?"preChatForm"===this.formView.elementId:null;(this.currentForm||a)&&(t&&(t.className=t.className.replace(/form-opened/g,"")),e&&this.formView&&(this.formView=null,this.currentForm="",e.innerHTML="",e.style.display="none",e.className="",e=p.viewHandler.chatContainer.getElementById("greetingsMainContainer"),t=p.viewHandler.chatContainer.getElementById("greetingsText"),e&&(e.style.display="block",t.innerHTML=""),i&&(i.className="",i.innerHTML=""),p.eventEmitter.emit("formClosed"),n&&(p.viewHandler.chatContainer.getElementById("contentContainer").className="",p.formHandler.openForm("emailTranscriptFormOnChatEnded")),this.handleResizeofForm()))},_e.prototype.attachEventListeners=function(){var e,i,n=this,a=this.formView.formData,o=p.viewHandler.chatContainer.getElementById("formCancel"),r=p.viewHandler.chatContainer.getElementById("formSubmit"),s=p.viewHandler.chatContainer.getElementById("formCloseChat"),l=this.formView.formData.fields||[],c="preChatForm"===n.formView.elementId,d="offlineForm"===n.formView.elementId,h="formcancelclick",m="formsubmitclick";if(this.formView.formData.dynamicFields&&(l=this.formView.formData.dynamicFields),c?(o=p.viewHandler.chatContainer.getElementById("formCancel"),r=p.viewHandler.chatContainer.getElementById("formSubmit"),h="formcancelclick-pc",m="formsubmitclick-pc"):d&&(r=p.viewHandler.chatContainer.getElementById("formSubmit"),e=p.viewHandler.chatContainer.getElementById("resendButton"),m="formsubmitclick-ol"),i=p.viewHandler.chatContainer.getElementById("newChat"),o&&p.eventHandler.listen(o,p.viewHandler.clickEvent,function(e){if(c)return p.eventEmitter.emit(n.formView.formData.saveFunc,{},function(e,t){n.handleAfterSave(e,{serverData:t})});n.closeForm(),p.eventHandler.cancelEvent(e)},h),r&&p.eventHandler.listen(r,p.viewHandler.clickEvent,function(){n.submitForm()},m),s&&p.eventHandler.listen(s,p.viewHandler.clickEvent,function(e){t?(t.container.hide(),p.viewHandler.isMaximized=!1,p.viewHandler.show()):p.main.hideWidget(),p.eventHandler.cancelEvent(e)},"formcloseclick"),e&&p.eventHandler.listen(e,p.viewHandler.clickEvent,function(){d&&(p.viewHandler.chatContainer.getElementById("overlayOfflineForm").style.display="none",p.viewHandler.chatContainer.getElementById("formFieldsContainer").style.display="block"),p.viewHandler.chatContainer.getElementById("submitWrapper").className=p.viewHandler.chatContainer.getElementById("submitWrapper").className.replace("visible",""),p.viewHandler.chatContainer.getElementById("formContainer").className=p.viewHandler.chatContainer.getElementById("formContainer").className.replace("success","")},"resendButtonClick"),i&&p.eventHandler.listen(i,p.viewHandler.clickEvent,function(e){t.chatStarted(),p.chatHandler.startNewChat(),p.eventHandler.cancelEvent(e)},"newChat","newChat"),l.forEach(function(e){if(!e.disabled){var t=p.viewHandler.chatContainer.getElementById(e.fieldName+"Field"),i=p.viewHandler.chatContainer.getElementById(e.fieldName+"FieldError"),a=p.viewHandler.chatContainer.getElementById(e.fieldName+"FieldErrorIcon");t&&("textarea"!==t.nodeName.toLowerCase()&&p.eventHandler.listen(t,"keypress",function(e){13===e.keyCode&&n.submitForm()},"formkeypress"+e.fieldName),p.eventHandler.listen(t,"keydown",function(e){13!==e.keyCode&&setTimeout(function(){""!==i.innerHTML&&(i.innerHTML="",i.style.display="none",a.style.display="none",t.parentNode.className=t.parentNode.className.replace(" error",""))},1)},"formkeydown"+e.fieldName))}}),a.otherEvent){var g=a.otherEvent;(e=p.viewHandler.chatContainer.getElementById(g.elementName))&&p.eventHandler.listen(e,g.eventName,function(){g.executedFunc()},"formother")}},_e.prototype.submitForm=function(){var e,t=this,i=p.viewHandler.chatContainer.getElementById("formSubmit"),a=p.viewHandler.chatContainer.getElementById("formCancel"),o=p.viewHandler.chatContainer.getElementById("formCloseChat"),r=p.viewHandler.chatContainer.getElementById("submitWrapper");if(null===(e=this.validateForm()))r.className="";else{if(r.innerHTML='<p id="submitWrapperMessage">'+p.languageParser.translate("form","SubmittingProcess")+"</p>"+h.loader,r.className="visible",i&&i.setAttribute("disabled","disabled"),a&&a.setAttribute("disabled","disabled"),o&&o.setAttribute("disabled","disabled"),t.handleResizeofForm(!0),this.formView.formData.publish)return p.socketManager.sendToConnector(this.formView.formData.publish,e,function(i,n){e.serverData=n,t.handleAfterSave(i,e)});if(this.formView.formData.saveFunc)try{p.eventEmitter.emit(this.formView.formData.saveFunc,e,function(i,n){e.serverData=n,t.handleAfterSave(i,e)})}catch(i){t.handleAfterSave(!0),n.handleError("Unable to emit form handler save func : "+this.formView.formData.saveFunc+" with data : "+JSON.stringify(e),i.fileName,i.lineNumber,i.stack)}}},_e.prototype.handleAfterSave=function(e,t){var i,n,a,o,r,s,l,c;if(p&&p.formHandler.formView&&p.formHandler.formView.formData){if(i=p.formHandler.formView.formData.afterSave,n=p.viewHandler.chatContainer.getElementById("formSubmit"),a=p.viewHandler.chatContainer.getElementById("formCancel"),o=p.viewHandler.chatContainer.getElementById("formCloseChat"),r=p.viewHandler.chatContainer.getElementById("submitWrapper"),l=p.viewHandler.chatContainer.getElementById("transcriptEmailField"),s="emailTranscriptFormOnChatEnded"===this.currentForm,c="offlineForm"===p.formHandler.formView.elementId,r.className="",r.innerHTML="",n&&n.removeAttribute("disabled"),a&&a.removeAttribute("disabled"),o&&o.removeAttribute("disabled"),e)return this.updateFormStatus(e);i&&i(t),s?l.value="":(c&&(p.viewHandler.chatContainer.getElementById("overlayOfflineForm").style.display="block",p.viewHandler.chatContainer.getElementById("formFieldsContainer").style.display="none"),this.formView.formData.dontCloseForm?this.updateFormStatus():this.closeForm())}},_e.prototype.updateFormStatus=function(e){var t,i,n;p.viewHandler.chatContainer&&(t=p.viewHandler.chatContainer.getElementById("formSavingStatus"),i=p.viewHandler.chatContainer.getElementById("savingStatus"),n=p.viewHandler.chatContainer.getElementById("submitWrapper"),t&&i?e?(t.className="errorMessage",i.innerHTML=p.languageParser.translate("form","errorSaving"),(e=A.getElementsByClassName(p.viewHandler.chatContainer.documentRef,"longFormContainer")).length&&(e[0].scrollTop=999999999999)):(t.className="",i.innerHTML=p.languageParser.translate("form","saved")):this.currentForm&&"offlineForm"===this.currentForm?e?(n.className="visible",n.innerHTML="<p>"+p.languageParser.translate("form","OfflineMessageNotSent")+"</p>",setTimeout(function(){n.className=""},3e3)):(n.className="",this.clearForm()):n.className="")},_e.prototype.validateForm=function(){var e,t,i={},n=0,a=this;if(this.formView)return e=this.formView.formData.fields||[],this.formView.formData.dynamicFields&&(e=this.formView.formData.dynamicFields),e.forEach(function(e){var o,r,s,l,c;if("additionalQuestion"===e.fieldName&&e.getValue&&A.isArray(e.getValue()))i.additionalQuestion={},e.getValue().forEach(function(t,n){(r=p.viewHandler.chatContainer.getElementById(e.fieldName+n))&&(i.additionalQuestion[n]=t===r.value?null:A.trim(r.value))});else if("choice"===e.fieldType||"option"===e.fieldType)c=p.viewHandler.chatContainer.documentRef.getElementsByName(e.fieldName+"group"),s=p.viewHandler.chatContainer.getElementById(e.fieldName+"FieldError"),o=p.viewHandler.chatContainer.getElementById(e.fieldName+"Container"),formLabelEl=o.parentElement.parentElement.getElementsByClassName("form-field-label")[0],errorIconEl=p.viewHandler.chatContainer.getElementById(e.fieldName+"FieldErrorIcon"),c="choice"===e.fieldType?a.getSelectedCheckbox(c,e.isRequired):a.getSelectedRadio(c,e.isRequired),s.innerHTML="",s.style.display="none",errorIconEl.style.display="none",o.className=o.className.replace("error",""),null===c?(n++,l=!1,s.innerHTML=p.languageParser.translate("form",e.languageKey+"ErrorMessage"),s.style.display="block",errorIconEl.style.display="block",o.className+=" error",formLabelEl.style.color="#e52f48"):(formLabelEl.style.color="#707070",i[e.fieldName]=c);else{if(r=p.viewHandler.chatContainer.getElementById(e.fieldName+"Field"),s=p.viewHandler.chatContainer.getElementById(e.fieldName+"FieldError"),errorIconEl=p.viewHandler.chatContainer.getElementById(e.fieldName+"FieldErrorIcon"),!r)return;o=e.placeholderText===r.value?null:A.trim(r.value),l=a[e.validation](o,e.valueMaxLength,e.isRequired),s.innerHTML="",s.style.display="none",errorIconEl.style.display="none",r.parentNode.className=r.parentNode.className.replace("error",""),l?i[e.fieldName]=o:(n++,s.innerHTML=p.languageParser.translate("form",e.languageKey+"ErrorMessage"),s.style.display="block",errorIconEl.style.display="block",r.parentNode.className+=" error")}t||l||(t=r)}),0<n?(t&&((e=p.viewHandler.chatContainer.getElementById("formContainer")).scrollTop=t.offsetTop),null):i},_e.prototype.isValidString=function(e,t,i){return!i&&!e||!(!e||!A.isString(e)||t&&!(t&&e.length<=t))},_e.prototype.isValidEmail=function(e,t,i){return!i&&!e||!!(e&&A.isEmail(e)&&A.isString(e)&&e.length<=t)},_e.prototype.isValidDepartment=function(e,t,i){var n;if(t=R.departments,!(i||e&&"0"!==e))return!0;for(n in t)if(t[n].did===e)return!0;return!1},_e.prototype.getSelectedCheckbox=function(e,t){for(var i=[],n=0,a=e.length;n<a;n++)e[n].checked&&i.push(e[n].value);return!i.length&&t?null:i},_e.prototype.getSelectedRadio=function(e,t){for(var i="",n=0,a=e.length;n<a;n++)if(e[n].checked){i=e[n].value;break}return!i&&t?null:i},_e.prototype.isValidPhone=function(e,t,i){return!i&&!e||("+"===e.charAt(0)&&(e=e.replace("+","")),!!(e.length&&7<=e.length&&e.match(/[0-9]/im)))},_e.prototype.handlePrechatForm=function(e){(e=A.getDepartmentStatus(e.department)).isOnline||p.viewHandler.notifiyDepartmentIsNotOnline(e.name,e.status),p.formHandler.formView.formData.dontCloseForm=!1},_e.prototype.handleChatEnded=function(e){p.formHandler.formView.formData.dontCloseForm=!1,B.chatId=e.serverData.nextChatId,p.chatHandler.endChat(e.serverData.chatEndVersion),p.viewHandler.resetView()},_e.prototype.clearForm=function(){var e=this.formView.formData.fields||[];this.formView.formData.dynamicFields&&(e=this.formView.formData.dynamicFields),e.forEach(function(e,t){var i;if("name"!==e.fieldType&&"email"!==e.fieldType&&"department"!==e.fieldType)if("choice"===e.fieldType||"option"===e.fieldType)for(var n=0,a=(i=p.viewHandler.chatContainer.documentRef.getElementsByName(e.fieldName+"group")).length;n<a;n++)i[n].checked=!1;else(i=p.viewHandler.chatContainer.getElementById(e.fieldName+"Field"))&&(i.value="","choice"===e.fieldType||"option"===e.fieldType||E||(i.value=e.placeholderText))})};var xe=TawkClass.extend({init:function(){var e=this,t=T.minimizedDimensions().width,i=T.minimizedDimensions().height;this.shown=this.inDocument=!1,this.indicatorWidth=this.indicatorHeight=21,this.frameHeight=i+"px",this.frameWidth=t+"px",this.offsetX=T.widgetOffsetX,this.offsetY=T.widgetOffsetY,this.messagePreviewHeight=null,this.messagePreviewOffset=25,T.isDesktopRectangle()?(this.container=new fe(A.getRandomName(),A.getGenericStyle({zindex:"1000001",position:"fixed",bottom:this.offsetY,display:"none",height:this.frameHeight,width:this.frameWidth,maxheight:this.frameHeight,maxwidth:this.frameWidth,minheight:"40px",minwidth:"126px"}),O,"iframe"),this.container.template=h["tawkchat-minified-iframe-element-rectangle"],this.chatIndicator=new fe(A.getRandomName(),A.getGenericStyle({zindex:"1000003",margin:"0px",width:this.frameWidth,height:"37px",position:"fixed",display:"none",bottom:i+"px",left:"100%",maxheight:"37px",maxwidth:this.frameWidth,minheight:"37px",minwidth:this.frameWidth}),O,"iframe")):(this.frameWidth=this.frameHeight="60px",this.container=new fe(A.getRandomName(),A.getGenericStyle({zindex:"1000001",position:"fixed",bottom:this.offsetY,display:"none",height:this.frameHeight,width:this.frameWidth,maxheight:this.frameHeight,maxwidth:this.frameWidth,minheight:this.frameHeight,minwidth:this.frameWidth,borderRadius:"50%"}),O,"iframe"),this.container.restyle("box-shadow","rgba(0, 0, 0, 0.16) 0px 2px 10px 0px !important"),this.container.template=h["tawkchat-minified-iframe-element-round"],this.chatIndicator=new fe(A.getRandomName(),A.getGenericStyle({zindex:"1000003",margin:"0px",width:"60px",height:"22px",position:"fixed",display:"none",bottom:"57px",left:"100%",maxheight:"22px",maxwidth:"60px",minheight:"22px",minwidth:"60px"}),O,"iframe")),T.isCenterPositioned()?this.messagePreviewHeight=.5*Math.max(document.documentElement.clientHeight,l.innerHeight||0)+.5*T.minimizedDimensions().width+20-this.messagePreviewOffset+"px":this.messagePreviewHeight=Math.max(document.documentElement.clientHeight,l.innerHeight||0)-(T.minimizedDimensions().height+this.offsetY)-this.messagePreviewOffset+"px",this.messagePreview=new fe(A.getRandomName(),A.getGenericStyle({zindex:"999999",width:"378px",height:this.messagePreviewHeight,position:"fixed",display:"none",bottom:T.minimizedDimensions().height+this.offsetY+10+"px",right:this.offsetX+"px"}),O,"iframe"),this.bubbleContainer=new fe(A.getRandomName(),A.getGenericStyle({zindex:"1000000",width:"146px",height:"85px",position:"fixed",display:"none",bottom:i+2+"px",right:"20px",maxheight:"85px",maxwidth:"146px",minheight:"85px",minwidth:"146px"}),O,"iframe"),T.minimizedDimensions.subscribe(function(t){e.frameHeight=t.height+"px",e.frameWidth=t.width+"px",e.widgetDimensionsUpdated()}),R.pageStatus.subscribe(function(t){e.updateGreetings(t),e.updateStatus(t)}),R.chatBubbleClosed.subscribe(function(t){t&&e.bubbleContainer&&e.bubbleContainer.clear()}),T.chatBubble.subscribe(function(){e.bubbleSettingsChanged()}),T.isRTL.subscribe(function(){e.bubbleSettingsChanged()}),T.desktopWidget.subscribe(function(){t=T.minimizedDimensions().width,i=T.minimizedDimensions().height,e.offsetX=T.widgetOffsetX,e.offsetY=T.widgetOffsetY,T.isDesktopRectangle()?(e.container.template=h["tawkchat-minified-iframe-element-rectangle"],e.chatIndicator.massRestyle(A.getGenericStyle({zindex:"1000003",margin:"0px",width:e.indicatorWidth+"px",height:e.indicatorHeight+"px",position:"fixed",display:"none",bottom:e.offsetY+"px",left:e.offsetY+"px",maxheight:e.indicatorHeight+"px",maxwidth:e.indicatorWidth+"px",minheight:e.indicatorHeight+"px",minwidth:e.indicatorWidth+"px"}))):(e.container.template=h["tawkchat-minified-iframe-element-round"],e.chatIndicator.massRestyle(A.getGenericStyle({zindex:"1000003",margin:"0px",width:"60px",height:"22px",position:"fixed",display:"none",bottom:"57px",left:"100%",maxheight:"22px",maxwidth:"60px",minheight:"22px",minwidth:"60px"}))),e.container.massRestyle(A.getGenericStyle({zindex:"1000001",position:"fixed",bottom:T.isDesktopRectangle()?"0px":e.offsetY,display:"none",height:e.frameHeight,width:e.frameWidth,maxheight:e.frameHeight,maxwidth:e.frameWidth,minheight:e.frameHeight,minwidth:e.frameWidth})),e.bubbleContainer&&e.bubbleContainer.elementReferrer&&e.bubbleContainer.clear(),e.buildView(),e.updateStatus()}),T.showMessagePreview.subscribe(function(){T.showMessagePreview()?e.initMessagePreviewContainer():e.destroyMessagePreviewContainer()})},buildView:function(){var e;if(this.container&&(p.MinifiedStyle=p.MinifiedStyle.replace(/#tawktoLink/g,"#"+p.viewHandler.tawktoLinkName),p.MinifiedStyle=p.MinifiedStyle.replace(/#bottomContainer/g,"#"+p.viewHandler.bottomContainerName),T.showMessagePreview()?this.initMessagePreviewContainer():this.destroyMessagePreviewContainer(),this.chatIndicator.buildIframe(p.MinifiedStyle+T.minStyle()),(e=A.getElementsByTagName(this.chatIndicator.documentRef,"body")[0]).innerHTML=h["tawkchat-chat-indicator"],this.container.buildIframe(p.MinifiedStyle+T.minStyle()),this.bubbleContainer&&(T.chatBubble()&&this.bubbleContainer.elementReferrer?this.bubbleContainer.buildIframe(p.MinifiedStyle+T.minStyle()):this.bubbleContainer.clear()),this.widgetDimensionsUpdated(),this.updateGreetings(),this.attachEvents(),this.inDocument=!0,T.isDesktopRectangle())){e=this.container.getElementById("tawkchat-minified-container");var t=T.topCorner+"px ",i=T.bottomCorner+"px ";e.style.borderRadius=t+t+i+i}},attachEvents:function(){this.container&&(this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){"max"===R.chatWindowState()?(p.viewHandler.userAction=!0,p.sessionHandler.notifyWindowState("min")):"max"===T.onClickAction?(p.viewHandler.userAction=!0,p.sessionHandler.notifyWindowState("max")):p.viewHandler.popoutWidget(),p.eventHandler.cancelEvent(e)},"tawkchat-minified-wrapper","minifiedclick"),this.container.attachUserEventListener("mousedown",function(e){p.viewHandler.lastFocusedElement=l.document.activeElement},"tawkchat-minified-wrapper","minifiedWidgetMouseDown"),this.attachBubbleEvents())},createCanvasChatBubble:function(){}});xe.prototype.updateStatus=function(e){var t;if(e||(e=R.pageStatus()),this.container&&e){(t=this.container.getElementById("tawkchat-status-icon"))&&(t.className=e),(t=this.container.getElementById("tawk-minified-mobile-text"))&&(t.innerHTML="online"===e||"away"===e?p.languageParser.translate("chat","chat_text"):p.languageParser.translate("chat","mail_text"));try{p.eventEmitter.emit("resizeIframeHeight")}catch(e){n.handleError("Unable to emit resizeIframeHeight",e.fileName,e.lineNumber,e.stack)}}},xe.prototype.attachBubbleEvents=function(){this.bubbleContainer&&this.bubbleContainer.attachUserEventListener(p.viewHandler.clickEvent,p.sessionHandler.closeBubble,"tawkchat-chat-bubble-close","bubblecloseclick")},xe.prototype.hide=function(){this.container&&(this.shown=!1,this.container.restyle("display","none !important"),this.hideBubble())},xe.prototype.show=function(){this.container&&(this.shown=!0,this.container.restyle("display","block !important"),this.showBubble())},xe.prototype.widgetDimensionsUpdated=function(){this.container&&(T.isDesktopRectangle()?(minWidth=T.minimizedDimensions().width,minHeight=T.minimizedDimensions().height):minHeight=minWidth=60,this.container.massRestyle({height:minHeight+"px !important","min-height":minHeight+"px !important","max-height":minHeight+"px !important",width:minWidth+"px !important","min-width":minWidth+"px !important","max-width":minWidth+"px !important","border-radius":T.isDesktopRectangle()?"0 !important":"50% !important"}),this.widgetPositonChanged(),this.bubbleSettingsChanged(),this.calculateIndicatorPositioning())},xe.prototype.bubbleSettingsChanged=function(){var e=T.chatBubble();if(!e&&this.bubbleContainer||T.hideWidgetOnLoad)return this.bubbleContainer.clear();p&&p.viewHandler&&p.viewHandler.iframeContainer&&p.viewHandler.iframeContainer.elementReferrer&&(e&&(e.type&&"default"!==e.type||this.bubbleContainer.elementReferrer&&this.bubbleContainer.insertCssFile(".bubble-text-color{color:"+(T.chatBubble()?T.chatBubble().fgc:"#ffffff")+";}",!0),e&&(this.bubbleContainer||(this.bubbleContainer=new fe(A.getRandomName(),A.getGenericStyle({zindex:"1000000",width:"146px",height:"85px",position:"fixed",display:"none",bottom:minHeight+2+"px",right:"20px",maxheight:"85px",maxwidth:"146px",minheight:"85px",minwidth:"146px"}),O,"iframe")),this.bubbleContainer.elementReferrer||(p.viewHandler.iframeContainer.elementReferrer.appendChild(this.bubbleContainer.buildView(),!0),this.bubbleContainer.buildIframe(p.MinifiedStyle+T.minStyle())))),this.createBubble(),this.attachBubbleEvents())},xe.prototype.updateGreetings=function(e){var t;e||(e=R.pageStatus()),this.container&&e&&(t=this.container.getElementById("short-message"))&&(null!==(e=o.getShortMessage(e))&&(t.innerHTML=e))},xe.prototype.clear=function(){this.container.clear(),this.container=null},xe.prototype.widgetPositonChanged=function(){var e={},t=this.offsetX,i=this.offsetY,n=t+"px";T.isCenterPositioned()?(T.isDesktopRectangle()&&(n=.5*T.minimizedDimensions().height-.5*T.minimizedDimensions().width+"px"),T.isRightPositioned()?(bodyClassName="center right",(e=T.isDesktopRectangle()?A.getRotateStyling("-90","49%"):A.getRotateStyling("0","0")).right=n,e.left="auto !important"):(bodyClassName="center left",(e=T.isDesktopRectangle()?A.getRotateStyling("90","49%"):A.getRotateStyling("0","0")).left=n,e.right="auto !important"),T.isDesktopRectangle()||(e.transform="unset"),e.top="calc(50% - "+.5*T.minimizedDimensions().height+"px) !important",e.bottom="auto !important"):((e=A.getRotateStyling("0","0")).margin="0px !important",T.isTopPositioned()?(e.top=i+"px !important",e.bottom="auto !important",bodyClassName=" top "):(e.top="auto !important",e.bottom=i+"px !important",bodyClassName=" bottom "),T.isRightPositioned()?(bodyClassName+=" right ",e.right=t+"px !important",e.left="auto !important"):(bodyClassName+=" left ",e.left=t+"px !important",e.right="auto !important")),this.container.massRestyle(e)},xe.prototype.createBubble=function(){var e;this.bubbleContainer&&this.bubbleContainer.elementReferrer&&!T.hideWidget&&T.chatBubble&&!R.chatBubbleClosed()&&(T.chatBubble().type&&"default"!==T.chatBubble().type?this.createImageBubble():this.createDefaultBubble(),e=this.bubbleContainer.getElementById("tawkchat-chat-bubble-close"),this.bubbleContainer.attachUserEventListener("mouseover",function(){e&&(e.style.visibility="visible")},null,"bubbleHover"),this.bubbleContainer.attachUserEventListener("mouseout",function(){e&&(e.style.visibility="hidden")},null,"bubbleOut"),this.bubbleContainer.attachUserEventListener(p.viewHandler.clickEvent,function(e){"max"===T.onClickAction?(p.viewHandler.userAction=!0,p.sessionHandler.notifyWindowState("max")):p.viewHandler.popoutWidget(),p.eventHandler.cancelEvent(e)},"bubble-image","bubbleContainerClick"),p.viewHandler.isMaximized||this.showBubble())},xe.prototype.calculateBubblePositioning=function(e,t,i,n,a,o,r){var s,l,c=T.minimizedDimensions().width,d={};T.isCenterPositioned()?(s=-.5*t,l=n,0===o?(c="gallery"===T.chatBubble().type?0:.5*(c-t),i+="px !important"):"gallery"===T.chatBubble().type?(l=c=0,i=-1*(.5*(e-t)-n)+"px !important"):(c=.5*(c-e),i=-1*(.5*(e-t)-i)+"px !important"),d=A.getRotateStyling(o,"49%"),T.isRightPositioned()?(d.right=i,d.left="auto !important"):(d.left=i,d.right="auto !important"),d.top="50% !important",d.bottom="auto !important",o=s-c+l):(d=A.getRotateStyling("0","0"),o="0",T.isTopPositioned()?(d.top=n+"px !important",d.bottom="auto !important",r+=" top "):(d.bottom=n+"px !important",d.top="auto !important",r+=" bottom "),T.isRightPositioned()?(d.right=i+"px !important",d.left="auto !important",r+=" right "):(d.left=i+"px !important",d.right="auto !important",r+=" left "));d.width=e+"px !important",d["max-width"]=e+"px !important",d["min-width"]=e+"px !important",d.height=t+"px !important",d["max-height"]=t+"px !important",d["min-height"]=t+"px !important",d["z-index"]=(0===a?"1000000":"1000002")+" !important",d.margin=o+"px 0 0 0 !important",this.bubbleContainer.massRestyle(d),this.bubbleContainer.documentRef.body.className+=r},xe.prototype.createDefaultBubble=function(){var e,t,i,n=0;e=0,e=!!document.createElement("canvas").getContext;var a=" default ";t=w&&9>y,(e||t)&&((t=A.getElementsByTagName(this.bubbleContainer.documentRef,"body")[0]).innerHTML=h["tawkchat-chat-bubble-canvas"],e&&this.createCanvasChatBubble(),(e=this.bubbleContainer.getElementById("tawkchat-chat-bubble-text")).innerHTML=T.chatBubble().txt,e.style.color=T.chatBubble().fgc,T.isCenterPositioned()?(T.isRightPositioned()?(i=-90,n-=10,T.isRTL()&&(n=T.minimizedDimensions().width-146)):(i=90,n=T.isDesktopRectangle()?T.minimizedDimensions().width-146+10:10,T.isRTL()&&(n=0)),e=T.minimizedDimensions().height+this.offsetX+2):(n=T.minimizedDimensions().height+this.offsetY+2,e=!T.isRightPositioned()&&!T.isRTL()||T.isRightPositioned()&&T.isRTL()?T.isDesktopRectangle()?T.minimizedDimensions().width-146+16:10:0),T.isRTL()&&(a+=" rtl-direction"),this.calculateBubblePositioning(146,85,e,n,0,i,a))},xe.prototype.createImageBubble=function(){var e,t,i,n;i=A.getElementsByTagName(this.bubbleContainer.documentRef,"body")[0];var a=T.chatBubble(),o=a.height+16,r=0;"gallery"===a.type?(n=22===(t=parseInt(a.name,10)),T.isDesktopRectangle()||(t+="-r"),T.isCenterPositioned()?(t+=T.isRightPositioned()?"-cr":"-cl",T.isDesktopRectangle()):t=T.isTopPositioned()?t+(T.isRightPositioned()?"-tr":"-tl"):t+(T.isRightPositioned()?"-br":"-bl"),e=" gallery ",t="https://static-v.tawk.to/a-v3/images/bubbles/"+t+(n?".png":".svg"),T.isCenterPositioned()&&0===a.rotate&&(e+=" center-right"),i.innerHTML=A.escapeTemplateReplacement(h["tawkchat-chat-bubble-gallery"],[{placeholder:"__IMAGE_SRC__",textReplace:t},{placeholder:"__IMAGE_SIZE__",textReplace:"width:"+a.width+"px; height:"+a.height+"px;"}])):(e=" upload ",t="https://tawk.link/"+T.chatBubble().name,i.innerHTML=A.escapeTemplateReplacement(h["tawkchat-chat-bubble-upload"],[{placeholder:"__IMAGE_SRC__",textReplace:t}])),T.isTopPositioned()||T.isCenterPositioned()?(r+=a.topOffset,T.isCenterPositioned()&&0===a.rotate&&(r-=16)):r+=a.bottomOffset,i=T.isRightPositioned()?a.rightOffset:a.leftOffset,T.isCenterPositioned()&&0!==a.rotate&&(i="gallery"===a.type?i-3:i+2),this.calculateBubblePositioning(a.width,o,i,r,a.zIndex,a.rotate,e)},xe.prototype.toggleBubble=function(){T.chatBubble&&this.bubbleContainer&&this.bubbleContainer.elementReferrer&&(this.shown&&"offline"!==R.pageStatus()?this.bubbleContainer.restyle("display","block !important"):this.bubbleContainer.restyle("display","none !important"))},xe.prototype.agentBarChanged=function(e){var t,i,n,a,o,r,s,l={};T.hideWidget||(this.container.massRestyle({height:e+"px !important","min-height":e+"px !important","max-height":e+"px !important"}),r=w&&10>y,closeIconWidth=16,minWidth=T.minimizedDimensions().width,minHeight=T.minimizedDimensions().height,t=T.chatBubble(),i=e-minHeight,s=t.rotate,t.type&&"default"!==t.type?(n=t.topOffset,a=t.bottomOffset,bubbleWidth=t.width,bubbleContainerHeight=t.height+closeIconWidth,o=T.isRightPositioned()?t.rightOffset:t.leftOffset):(bubbleWidth=146,bubbleContainerHeight=85,T.isCenterPositioned()?(o=minHeight+2,s=T.isRightPositioned()?-90:90):(n=minHeight+2,a=minHeight+2,o=T.isRightPositioned()?0:minWidth-bubbleWidth+closeIconWidth)),T.isCenterPositioned()?(n=-.5*minWidth+.5*e+"px !important",o+=i,i=0===s?o+"px !important":-1*(.5*(bubbleWidth-bubbleContainerHeight)-o)+"px !important",T.isRightPositioned()?(this.container.restyle("right",n),l.right=i,r&&(this.container.restyle("right",e-minWidth+"px !important"),0!==s&&(l.right=o-(bubbleWidth-bubbleContainerHeight)+"px !important"))):T.isCenterPositioned()||(this.container.restyle("left",n),l.left=i,r&&(this.container.restyle("left","0px !important"),0!==t.rotate&&(l.left=o+"px !important"))),r?this.container.restyle("margin",-.5*minWidth+"px 0 0 0 !important"):this.container.restyle("margin",-.5*e+"px 0 0 0 !important")):T.isCenterPositioned()||(T.isTopPositioned()?l.top=n+i+"px !important":l.bottom=a+i+"px !important"),this.bubbleContainer&&this.bubbleContainer.elementReferrer&&T.chatBubble&&!R.chatBubbleClosed()&&this.bubbleContainer.massRestyle(l))},xe.prototype.calculateIndicatorPositioning=function(){var e={},t=this.indicatorWidth,i=this.indicatorHeight,n=T.minimizedDimensions().width,a=T.minimizedDimensions().height,o="";Math.max(document.documentElement.clientHeight,l.innerHeight||0);var r,s=this.offsetX,c=this.offsetY;T.isCenterPositioned()?(T.isRightPositioned()?(e.right=c+a-i+5+"px !important",e.top="calc(50% - "+.5*n+"px) !important",e.left="auto !important",r="right",e.bottom="auto !important",T.isDesktopRectangle()?(e.right=c+a-i+5+"px !important",T.isRTL()&&(e.bottom="calc(50% - "+(.5*n+5)+"px) !important",e.top="auto !important")):(T.isRTL()?e.right=a+"px !important":e.right=s-5+"px !important",e.left="auto !important")):(e.right="auto !important",r="left",e.bottom="auto !important",T.isDesktopRectangle()?(e.top="calc(50% - "+(.5*n+5)+"px) !important",e.left=c+a-i+5+"px !important",T.isRTL()||(e.top="calc(50% + "+(.5*n-.5*i)+"px) !important")):(e.top="calc(50% - "+.5*n+"px) !important",T.isRTL()?e.left=s-5+"px !important":e.left=s+n-t+5+"px !important",e.right="auto !important")),o+=" bottom "+r):(T.isTopPositioned()?(o+=" top ",e.top=c+"px !important",e.bottom="auto !important"):(o+=" bottom ",e.top="auto !important",T.isDesktopRectangle()?e.bottom=a-s-5+"px !important":e.bottom=a+c-T.widgetOffsetY+"px !important"),T.isRightPositioned()?(o+=" right ",T.isRTL()?T.isDesktopRectangle()?e.right=n-5+"px !important":e.right=n+"px !important":T.isDesktopRectangle()?e.right="1px !important":e.right=s-5+"px !important",e.left="auto !important"):(o+=" left ",T.isRTL()?e.left=s-5+"px !important":e.left=s+n-t+5+"px !important",e.right="auto !important")),e.width=t+"px !important",e["max-width"]=t+"px !important",e["min-width"]=t+"px !important",e.height=i+"px !important",e["max-height"]=i+"px !important",e["min-height"]=i+"px !important",this.chatIndicator.documentRef.body.className+=" "+o+" round",this.chatIndicator.massRestyle(e)},xe.prototype.toggleOfflineIcon=function(e){var t,i;this.container&&!T.isDesktopRectangle()&&(t=this.container.getElementById("maximizeChat"))&&(e?(e="icon-chat",i="icon-mail"):(e="icon-mail",i="icon-chat"),A.removeClass(t,e),A.addClass(t,i))},xe.prototype.showBubble=function(){this.bubbleContainer&&"offline"!==R.pageStatus()&&(!p.viewHandler.messagePreview||p.viewHandler.messagePreview&&1>p.viewHandler.messagePreview.messagePreviewCount)&&this.bubbleContainer.show()},xe.prototype.hideBubble=function(){this.bubbleContainer&&this.bubbleContainer.hide()},xe.prototype.initMessagePreviewContainer=function(){var e,t;e=p.viewHandler.iframeContainer,this.messagePreview=new fe(A.getRandomName(),A.getGenericStyle({zindex:"999999",width:"378px",height:this.messagePreviewHeight,position:"fixed",display:"none",bottom:T.minimizedDimensions().height+this.offsetY+10+"px",right:this.offsetX+"px"}),O,"iframe"),p.viewHandler.messagePreview=new ye(this.messagePreview),this.messagePreview.elementReferrer||e.elementReferrer.appendChild(this.messagePreview.buildView(e.documentRef)),this.messagePreview.buildIframe(p.MinifiedStyle+T.minStyle()),e=A.getElementsByTagName(this.messagePreview.documentRef,"body")[0],t=(t=(t=h["tawkchat-message-preview"]).replace(/__TAWK_TO_LINK__/gm,p.viewHandler.tawktoLinkName)).replace(/__BOTTOM_CONTAINER__/gm,p.viewHandler.bottomContainerName),e.innerHTML=t,p.viewHandler.messagePreview.init()},xe.prototype.destroyMessagePreviewContainer=function(){this.messagePreview&&this.messagePreview.documentRef&&this.messagePreview.documentRef.parentNode&&this.messagePreview.documentRef.parentNode.removeChild(this.messagePreview.documentRef),this.messagePreview=null,p.viewHandler.messagePreview=null};var Ce=xe.extend({init:function(){var e=this;this._super(this),p.eventEmitter.on("localeChanged",function(){e.setLinkTitle()}),T.isRTL.subscribe(function(){e.addClassName()})},buildView:function(){this._super(this),this.addClassName(),this.setLinkTitle()},attachEvents:function(){this.container&&this._super()},createCanvasChatBubble:function(){var e,t,i,n,a,o,r,s,l,c,d,p,h,m,g,f,u,v=5,b=T.chatBubble().bgc;(e=this.bubbleContainer.getElementById("tawkchat-chat-bubble-canvas"))&&(T.chatPosition(),e.width="146",e.height="85",(a=e.getContext("2d")).clearRect(0,0,134,63),a.fillStyle=b,T.isTopPositioned()?(o=68,h=(v=16)+3,p=81,m=6,g=!1,e=1.1,t=1.9,i=1.6,n=.85):(o=v=6,h=v+63-3,p=55,m=79,g=!0,e=.9,t=.1,i=.4,n=1.15),T.isRTL()?(u=10,closeContainerStart=u-4,r=u+2,s=u+5,l=u-2,c=u-2,d=u+5,p=81,T.isTopPositioned()?(f=g,i=.2,n=1.45):(f=!g,i=.6,n=1.85)):(u=2,closeContainerStart=u+134+4,r=u+134-2,s=u+134-5,l=u+134+2,c=u+134+2,d=u+134-5,f=g),a.beginPath(),a.moveTo(u+8,v),a.lineTo(68,v),a.lineTo(u+134-8,v),a.quadraticCurveTo(u+134,v,u+134,v+8),a.lineTo(u+134,v+63-8),a.quadraticCurveTo(u+134,v+63,u+134-8,v+63),a.lineTo(u+8,v+63),a.quadraticCurveTo(u,v+63,u,v+63-8),a.lineTo(u,v+8),a.quadraticCurveTo(u,v,u+8,v),a.strokeStyle="#e3e0e7",a.lineWidth=2,a.stroke(),a.closePath(),a.fill(),a.beginPath(),a.arc(68,h,10,Math.PI*e,Math.PI*t,g),a.strokeStyle="#e3e0e7",a.lineWidth=2,a.stroke(),a.fill(),T.isDesktopRectangle()||(T.isTopPositioned()&&T.isLeftPositioned()?p-=30:T.isBottomPositioned()&&T.isRightPositioned()?p+=30:T.isCenterPositioned()&&T.isRightPositioned()&&(p+=30)),a.beginPath(),a.arc(p,m,5,0,2*Math.PI,!1),a.strokeStyle="#e3e0e7",a.lineWidth=2,a.stroke(),a.closePath(),a.fill(),a.beginPath(),a.arc(r,o+5,10,Math.PI*i,Math.PI*n,f),a.strokeStyle="#e3e0e7",a.lineWidth=2,a.stroke(),a.closePath(),a.fillStyle=b,a.fill(),a.beginPath(),a.moveTo(s,o+1.5),a.lineTo(l,o+8),a.closePath(),a.lineWidth=2,a.strokeStyle=T.chatBubble().fgc,a.stroke(),a.beginPath(),a.moveTo(c,o+1.5),a.lineTo(d,o+8),a.closePath(),a.lineWidth=2,a.strokeStyle=T.chatBubble().fgc,a.stroke())}});Ce.prototype.setLinkTitle=function(){var e=this.container.getElementById("minimizeChatMinifiedBtn"),t=this.container.getElementById("maximizeChat");this.container&&(t&&t.setAttribute("title",p.languageParser.translate("rollover","maximize")),e&&e.setAttribute("title",p.languageParser.translate("rollover","minimize")))},Ce.prototype.chatEnded=function(){var e=this.container.getElementById("tawkchat-minified-agent-container"),t=this.container.getElementById("tawkchat-status-text-container"),i=this.container.getElementById("tawkchat-minified-link-container");e&&t&&(e.innerHTML="",e.style.display="none",t.style.display="block",i.style.marginTop="0px")},Ce.prototype.addClassName=function(){var e;e=T.isRTL()?" rtl-direction":" ltr-direction",this.container&&this.container.elementReferrer&&(this.container.getElementById("tawkchat-minified-wrapper").className=A.getContrast(T.headerTxtColor)+e),this.chatIndicator&&this.chatIndicator.elementReferrer&&(this.chatIndicator.getElementById("tawkchat-chat-indicator").className=e)};var ke=TawkClass.extend({init:function(e,t){var i=this;this.inDocument=!1,this.maxNumberFileUpload=5,this.maxSizeFileUpload=52428800,this.frameWidth=C?"100%":T.maximizedDimensions().width+"px",this.frameHeight=C?"100%":T.maximizedDimensions().height+"px",this.isActionsContainerNotifShown=this.isChatMenuOpen=!1,this.resizeThrottle=0,this.container=T.isPopup?new ge(A.getRandomName(),"display: none;"):new fe(A.getRandomName(),A.getGenericStyle({zindex:"999999",position:"static",display:"none",height:this.frameHeight,width:this.frameWidth}),O,"iframe"),this.wrapper=new ge("tawkchat-maximized-wrapper"),p.MaximizedStyle=p.MaximizedStyle.replace(/#tawktoLink/g,"#"+e),p.MaximizedStyle=p.MaximizedStyle.replace(/#bottomContainer/g,"#"+t),this.wrapper.template=this.wrapper.template.replace(/__TAWK_TO_LINK__/gm,e),this.wrapper.template=this.wrapper.template.replace(/__BOTTOM_CONTAINER__/gm,t),this.wrapper.template=this.wrapper.template.replace("__TOO_LONG_MESSAGE__",p.languageParser.translate("chat","message_too_long")),T.isDesktopRectangle()||this.wrapper.addClass("roundWidget"),this.chatTextarea=new ge("chatTextarea",null,null,"textarea"),this.container.addChildViews([this.wrapper]),T.maximizedDimensions.subscribe(function(e){T.isEmbedded||T.isPopup||C||(i.frameHeight=e.height+"px",i.frameWidth=e.width+"px",i.container.restyle("height",i.frameHeight+" !important"),i.container.restyle("width",i.frameWidth+" !important"))}),R.pageStatus.subscribe(function(e){i.updateGreetings(e)}),T.soundOn.subscribe(function(){i.toggleSound()}),p.eventEmitter.on("localeChanged",function(){i.container&&i.updateGreetings()}),T.isRTL.subscribe(function(){i.addClassName()}),I.name.subscribe(function(){if(!A.isGeneratedName(I.name()))for(var e=A.getElementsByClassName(i.container.documentRef,"messageOwnerName visitor"),t=0;t<e.length;t++)e[t].style.display="none"}),T.webRTCSettings.subscribe(function(){i.toggleWebRTCActions()}),T.desktopWidget.subscribe(function(){T.isDesktopRectangle()?(i.wrapper.removeClass("roundWidget"),i.container.documentRef.getElementById("minimizeChat").className="headerBoxLink","br"===T.chatPosition()?i.container.documentRef.body.className="right":i.container.documentRef.body.className="left"):(i.wrapper.addClass("roundWidget"),i.container.documentRef.getElementById("minimizeChat").className="notShown")}),T.showEmoji.subscribe(function(){i.toggleEmojiAction()}),T.showUploads.subscribe(function(){i.toggleUploadsAction()}),T.showRating.subscribe(function(){i.toggleRatingAction()})},buildView:function(){T.isPopup||this.container.buildIframe(p.MaximizedStyle+T.maxStyle()),this.container.documentRef.getElementById("textareaContainer").appendChild(this.chatTextarea.buildView(this.container.documentRef)),T.isEmbedded||T.isPopup||C?this.restyleEmbed():"br"==T.chatPosition()?(A.removeClass(this.container.documentRef.body,"left"),A.addClass(this.container.documentRef.body,"right")):(A.removeClass(this.container.documentRef.body,"right"),A.addClass(this.container.documentRef.body,"left")),this.addClassName(),this.updateGreetings(),this.toggleSound(),this.attachEvents(),this.toggleUploadsAction(),this.toggleRatingAction(),this.toggleEmojiAction(),void 0===te&&re(this.container.documentRef),A.redraw(this.container.elementReferrer),this.inDocument=!0,this.toggleWebRTCActions();var e=this.container.documentRef.getElementById("minimizeChat");T.isEmbedded||!T.isDesktopRectangle()||T.isPopup?e.className="notShown":e.className="headerBoxLink"},toggleUploadsAction:function(){var e=this,t=this.container.getElementById("uploadFileOption");t&&(T.showUploads()?(t.style.display="block",this.container.attachUserEventListener("change",function(t){p.eventHandler.cancelEvent(t),e.closeMenu();var i=[],n=[];if((t=p.eventHandler.getTargetElement(t).files)&&t.length){for(var a=0;a<t.length;a++)t[a].size>e.maxSizeFileUpload?i.push(t[a]):a>=e.maxNumberFileUpload?n.push(t[a]):p.viewHandler.startUpload(t[a]);p.viewHandler.checkUploadFileWarning(i,n)}},"fileInput","fileInputChanged"),this.container.attachUserEventListener("dragover",function(t){t.preventDefault(),t.stopPropagation&&t.stopPropagation(),e.wrapper.addClass("drag-over")},"innerWrapper","textareaContainerDragOver"),t=function(t){var i=e.container.getElementById("tawkchat-maximized-wrapper").getBoundingClientRect();(t.clientY<i.top||t.clientY>=i.bottom||t.clientX<i.left||t.clientX>=i.right)&&(t.preventDefault(),t.stopPropagation&&t.stopPropagation(),e.wrapper.removeClass("drag-over"))},this.container.attachUserEventListener("dragleave",t,"innerWrapper","textareaContainerDragLeave"),this.container.attachUserEventListener("dragend",t,"innerWrapper","textareaContainerDragEnd"),this.container.attachUserEventListener("drop",function(t){t.preventDefault(),t.stopPropagation&&t.stopPropagation(),e.wrapper.removeClass("drag-over");var i=[],n=[];if((t=t.target.files||t.dataTransfer.files)&&0!==t.length){for(var a=0;a<t.length;a++)t[a].size>e.maxSizeFileUpload?i.push(t[a]):a>=e.maxNumberFileUpload?n.push(t[a]):p.viewHandler.startUpload(t[a]);p.viewHandler.checkUploadFileWarning(i,n)}},"innerWrapper","textareaContainerDrop"),this.container.attachUserEventListener("paste",function(e){var t,i;if((t=(e.originalEvent||e).clipboardData)&&(t=t.items)&&t.length){for(var n=0;n<t.length;n++)if(-1!==t[n].type.indexOf("image")){var a=t[n].getAsFile();if(null!==a){(i=a).name=p.languageParser.translate("chat","pasted_image_title",{dateTime:A.parseChatTime(new Date)});break}}i&&(p.viewHandler.startUpload(i),e.preventDefault())}},"chatTextarea","chatTextareaPaste")):t.style.display="none")},toggleRatingAction:function(){var e=this.container.getElementById("rateMainWrapper"),t=this.container.getElementById("rateContainer");e&&t&&(T.showRating()?(e.style.display="block",this.container.attachUserEventListener("mouseover",function(){t.style.display="block"},"rateMainWrapper","rateMainWrapperOver"),this.container.attachUserEventListener("mouseout",function(){t.style.display="none"},"rateMainWrapper","rateMainWrapperOut"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){p.chatHandler.changeRating(1),p.eventHandler.cancelEvent(e)},"ratePositive","ratepveclick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){p.chatHandler.changeRating(-1),p.eventHandler.cancelEvent(e)},"rateNegative","ratenveclick")):e.style.display="none")},toggleEmojiAction:function(){var e=this,t=this.container.getElementById("textareaContainer"),i=this.container.getElementById("viewEmoji"),n=this.container.documentRef.getElementById("emoji-selection-container");T.showEmoji()?(n.innerHTML=h.loader,i.style.display="block",A.addClass(t,"with-emoji"),void 0===te&&re(this.container.documentRef),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,"active"===e.container.getElementById("viewEmoji").className?e.closeEmojiSelection():(e.container.getElementById("viewEmoji").className="active",le(n),p.viewHandler.adjustEmojiContainerHeight())},"viewEmoji","viewEmojiClick"),this.wrapper.attachUserEventListener(p.viewHandler.clickEvent,function(t){t=p.eventHandler.getTargetElement(t),n&&("function"==typeof n.contains?n.contains(t)||e.closeEmojiSelection():A.isDescendent(n,t)&&e.closeEmojiSelection())},null,"maxWidgetClick")):(i.style.display="none",A.removeClass(t,"with-emoji"))},attachEvents:function(){var e=this,t=this.container.documentRef.getElementById("tooLongMsgNotification"),i=A.hasWebRTC()?null:"Browser not supported.";if(this.container.attachUserEventListener(p.viewHandler.clickEvent,function(t){T.isPopup?l.close():(p.eventHandler.cancelEvent(t),p.sessionHandler.notifyWindowState("min"),e.closeMenu())},"minimizeChat","minlinkclick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(){p.viewHandler.popoutWidget(),e.closeMenu()},"popoutChat","poplinkclick"),C){var n=this.container.getElementById("chatTextarea");n&&(q.initElement(n,function(i,n){5e3>=n.length?(t.className="",e.isActionsContainerNotifShown=!1):(t.className="visible",e.isActionsContainerNotifShown=!0),e.toggleMobileSubmitButton(n),p.chatHandler.sendTextPreview(i)}),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(t){p.eventHandler.cancelEvent(t),p.chatHandler.sendMessage(n.value),n.value="",e.toggleMobileSubmitButton(""),e.resizeTextArea()},"textareaSubmitButton","submitclick"))}else this.chatTextarea.attachUserEventListener("keyup",function(i){5e3>=this.value.length?(t.className="",e.isActionsContainerNotifShown=!1):(t.className="visible",e.isActionsContainerNotifShown=!0),e.resizeTextArea()},null,"chatinputkeyup"),this.chatTextarea.attachUserEventListener("keydown",function(i){var n,a=e.container.getElementById("hidableActionsWrapper"),o=e.container.getElementById("textareaContainer");if(e.resizeTextArea(),13===i.keyCode){if(5e3<this.value.length)return void i.preventDefault();t.className="",e.isActionsContainerNotifShown=!1,p.viewHandler.scrollToBottom()}n=p.eventHandler.getTargetElement(i),setTimeout(function(){n.value?(a.style.display="none",o.className=o.className.replace("additionalPadding",""),A.removeClass(o,"additionalPadding")):(a.style.display="block",o.className+=" additionalPadding ",A.addClass(o,"additionalPadding"))},0),p.chatHandler.sendTextPreview(i)},null,"chatinputkeydown"),this.chatTextarea.attachUserEventListener("blur",function(t){t=p.eventHandler.getTargetElement(t);var i=e.container.getElementById("hidableActionsWrapper");t.value||(i.style.display="block",A.addClass(e.container.getElementById("textareaContainer"),"additionalPadding"))},null,"chatinputblur");this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){var t=p.eventHandler.getTargetElement(e);-1!==t.className.indexOf("messageOwnerName")&&-1!==t.className.indexOf("visitor")&&(p.formHandler.openForm("nameForm"),p.eventHandler.cancelEvent(e))},"chatWrapper","chatWrapperclick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(t){p.formHandler.openForm("nameForm"),e.closeMenu(),p.eventHandler.cancelEvent(t)},"changeName","changenameclick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(t){p.formHandler.openForm("emailTranscriptForm"),e.closeMenu(),p.eventHandler.cancelEvent(t)},"emailTranscriptOption","emailclick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){p.eventHandler.cancelEvent(e),p.chatHandler.toggleSound()},"soundOn","soundonclick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){p.eventHandler.cancelEvent(e),p.chatHandler.toggleSound()},"soundOff","soundoffclick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){p.eventHandler.cancelEvent(e),p.viewHandler.expandAgentList(e)},"expandableIcon","expandclick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(){var e=p.languageParser.translate("chat","video_call_error");A.getWebRTCToken(!0,!1,function(t){t&&p.viewHandler.appendMessage({senderType:"s",message:i||e,time:new Date,type:"n",isRtcError:!0,rtcType:"video"})})},"videoCall","videoCallClick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(){var e=p.languageParser.translate("chat","voice_call_error");A.getWebRTCToken(!1,!1,function(t){t&&p.viewHandler.appendMessage({senderType:"s",message:i||e,time:new Date,type:"n",isRtcError:!0,rtcType:"voice"})})},"voiceCall","voiceCallClick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(){var t=e.container.getElementById("chatMenu"),i=e.container.getElementById("chatMenuControls");e.chatMenuOpen?(e.chatMenuOpen=!1,t.className="",i.style.display="none"):(e.chatMenuOpen=!0,t.className="active",i.style.display="block")},"chatMenu","chatMenuClick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(){e.container.getElementById("chatMenu").className="",e.closeMenu()},"chatMenuControlsOverlay","chatMenuControlsOverlayClick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(){var e=p.languageParser.translate("chat","screen_share_error");A.getWebRTCToken(!1,!0,function(t){t&&p.viewHandler.appendMessage({senderType:"s",message:i||e,time:new Date,type:"n",isRtcError:!0,rtcType:"screen"})})},"screenShare","screenShareClick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(){e.container.getElementById("maxFileNotificationContainer").classList.add("hidden")},"closeNumberNotification","closeNumberNotification"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(){e.container.getElementById("maxSizeNotificationContainer").classList.add("hidden")},"closeSizeNotification","closeSizeNotification"),this.container.attachUserEventListener("mousedown",function(){var e=l.document.activeElement;!e||"input"!==e.tagName.toLowerCase()&&"textarea"!==e.tagName.toLowerCase()||(p.viewHandler.lastFocusedElement=e)},"innerWrapper","maximizedWidgetMouseDown"),this.container.attachUserEventListener("click",function(t){t.preventDefault(),e.chatTextarea&&e.chatTextarea.elementReferrer&&e.chatTextarea.elementReferrer.focus()},"textareaContainer","textareaContainerClick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){p.formHandler.openForm("nameForm"),p.eventHandler.cancelEvent(e)},"changeNameOption","changenameclick"),this.wrapper.attachUserEventListener("keydown",function(t){27===t.keyCode&&e.closeEmojiSelection()},null,"maxWidgetKeydown");var a=function(t){"cut"!==t.type&&"paste"!==t.type||p.chatHandler.sendTextPreview(t),e.resizeTextArea()};this.chatTextarea.attachUserEventListener("keydown",a,null,"chatinputkeyupresize"),this.chatTextarea.attachUserEventListener("change",a,null,"chatinputchangeresize"),this.chatTextarea.attachUserEventListener("input",a,null,"chatinputinputresize"),this.chatTextarea.attachUserEventListener("paste",a,null,"chatinputpasteresize"),this.chatTextarea.attachUserEventListener("cut",a,null,"chatinputcutresize");var o,r,s,c,h=this.container.getElementById("greetingsMainContainer"),m=(a=/Firefox/i.test(d.userAgent)?"DOMMouseScroll":"mousewheel",this.container.getElementById("chatContainer"));C&&(a="touchstart touchmove touchend"),C&&this.container.attachUserEventListener("scroll",e.chatViewScroll.bind(e),"chatContainer","chatContainerScroll"),this.container.attachUserEventListener(a,function(t){o=t.originalEvent?t.originalEvent:t;var i=0<(c=o.detail?-40*o.detail:o.wheelDelta);if("touchmove"===t.type?s=t.changedTouches[0].clientY:"touchstart"===t.type?r=t.touches[0].clientY:"touchend"===t.type?i=r<s:C||e.chatViewScroll(t),0===m.scrollTop&&-1!==h.className.indexOf("minimize")){if(0>c||r>s)return}else if(-1===m.className.indexOf("minimize")&&(r<s||0<c))return;p.viewHandler.toggleGreetingsView(i)},"chatPanel","chatPanelScroll")},toggleSound:function(){var e=this.container.getElementById("soundOn"),t=this.container.getElementById("soundOff");e&&t&&(T.soundOn()?(e.style.display="block",t.style.display="none"):(e.style.display="none",t.style.display="block"))}});ke.prototype.chatViewScroll=function(){this.isScrolling&&clearTimeout(this.isScrolling),this.isScrolling=setTimeout(function(){"max"===R.chatWindowState()&&p.viewHandler.checkSeenMessageViewport()},1e3/66)},ke.prototype.hide=function(){this.container.restyle("display","none !important")},ke.prototype.show=function(){this.container.restyle("display","block !important"),p.viewHandler.checkSeenMessageViewport(),"consentForm"===p.formHandler.currentForm&&this.wrapper.addClass("noMenu"),p.formHandler.handleResizeofForm()},ke.prototype.restyleEmbed=function(){var e=document.getElementById(s.embedded);if(this.wrapper.addClass("embedded"),(T.isPopup||T.isEmbedded)&&(this.container.getElementById("popoutChat").outerHTML=""),T.isEmbedded)return e?p.viewHandler.onEmbeddedWindowResize():void 0;T.isPopup&&(this.wrapper.addClass("popout"),A.updateFontStylesheet(document)),this.container.restyle("width","100% !important"),this.container.restyle("height","100% !important")},ke.prototype.updateGreetings=function(e){var t;this.container.elementReferrer&&((t=this.container.getElementById("file-upload-drop-label"))&&(t.innerHTML=p.languageParser.translate("chat","dragDropText")),(e=e||R.pageStatus())&&(t=this.container.getElementById("shortMessage"),this.setChatGreetings(),t&&this.chatTextarea&&(null!==(e=o.getShortMessage(e))&&(t.innerHTML=e,T.onlineGreeting&&(e=A.rawDecode(T.onlineGreeting.actionMessage),E?this.chatTextarea.elementReferrer.placeholder=e:(this.chatTextarea.elementReferrer.value=e,A.togglePlaceholderText(this.chatTextarea.elementReferrer,e,"chatTextarea")))))))},ke.prototype.addClassName=function(){this.wrapper&&this.wrapper.elementReferrer&&(T.isRTL()?(this.wrapper.addClass("rtl-direction"),this.wrapper.removeClass("ltr-direction")):(this.wrapper.addClass("ltr-direction"),this.wrapper.removeClass("rtl-direction")))},ke.prototype.toggleEndChatOption=function(e){var t=this.container.getElementById("endChatOption");t&&(endChatEl=this.container.getElementById("endChat"),chatMenuEl=this.container.getElementById("chatMenuControls"),T.isEmbedded?e?(t.style.width="220px",t.style.marginLeft="-220px",chatMenuEl.style.right="34px",endChatEl.style.display="inline-block"):(t.style.width="194px",t.style.marginLeft="-194px",chatMenuEl.style.right="10px",endChatEl.style.display="none"):t.style.display=e?"block":"none")},ke.prototype.addEmojiToInput=function(e){E||this.chatTextarea.elementReferrer.value!==A.rawDecode(T.onlineGreeting.actionMessage)||(this.chatTextarea.elementReferrer.value=""),this.chatTextarea.elementReferrer.value+=e,this.chatTextarea.elementReferrer.focus(),this.closeEmojiSelection()},ke.prototype.closeEmojiSelection=function(){this.container.getElementById("viewEmoji").className="",A.removeClass(this.container.getElementById("emoji-selection-container"),"showWithFade")},ke.prototype.resizeTextArea=function(){var e=this;clearTimeout(this.resizeThrottle),this.resizeThrottle=setTimeout(function(){var t=e.chatTextarea.elementReferrer.value,i=e.container.documentRef.getElementById("textareaContainer"),n=e.container.documentRef.getElementById("actionsContainer"),a=e.container.documentRef.getElementById("emoji-selection-container"),o=p.viewHandler.ifScrollbarDown(),r=C?18:20,s=e.container.documentRef.getElementById(p.viewHandler.bottomContainerName),l=t.split(/\r\n|\r|\n/).length||1,c=l*r;1===l&&e.chatTextarea.elementReferrer.scrollHeight>e.chatTextarea.elementReferrer.clientHeight&&(c=e.chatTextarea.elementReferrer.scrollHeight),t&&c>=r?(c=150<c?150:c,this.isActionsContainerNotifShown&&(c+=42,i.style.paddingBottom="42px"),n.style.height=c-r+46+"px",o&&p.viewHandler.scrollToBottom()):n.style.height="46px",a&&(a.style.bottom=n.clientHeight+2+"px"),s&&(s.style.bottom=n.clientHeight+2+"px"),clearTimeout(e.resizeThrottle)},100)},ke.prototype.clearTextareaResize=function(){var e=this.container.documentRef.getElementById("actionsContainer"),t=this.container.documentRef.getElementById("emoji-selection-container"),i=this.container.documentRef.getElementById(p.viewHandler.bottomContainerName);e&&(e.style.height="46px"),t&&(t.style.bottom="48px"),i&&(i.style.bottom="")},ke.prototype.toggleWebRTCActions=function(){if(this.inDocument){var e="none",t="none",i="none";T.webRTCSettings()&&T.webRTCSettings().en&&(e=T.webRTCSettings().v?"inline-block":"none",t="inline-block",i=T.webRTCSettings().s?"inline-block":"none"),this.container.documentRef.getElementById("videoCall").style.display=e,this.container.documentRef.getElementById("voiceCall").style.display=t,this.container.documentRef.getElementById("screenShare").style.display=i}},ke.prototype.setChatGreetings=function(e){var t,i=this.container.getElementById("greetingsText"),n=this.container.getElementById("greetingsContent");(t=R.pageStatus())&&n&&i&&(t=o.getLongMessage(t),e&&!t?(n.className+=" no-content",n.style.display="none"):(i.innerHTML=t.replace(A.regLineBreaks,A.br),1>p.agents.agentsCount&&(n.style.display="block"),e||(n.className=n.className.replace(" minimize",""))))},ke.prototype.toggleMobileSubmitButton=function(e){var t=this.container.getElementById("actionsContainer");e&&"mobile-typing"!==t.className?t.className="mobile-typing":e||"mobile-typing"!==t.className||(t.className="")};var Ee=ke.extend({init:function(){var e=this;this._super.apply(this,arguments),p.eventEmitter.on("formClosed",function(){var t=e.container.getElementById("chatPanel");if(t)if(T.showPreChatForm&&!R.prechatFormSubmitted())p.formHandler.openForm("preChatForm");else if(e.setChatGreetings(!0),t.style.display="block",e.wrapper.removeClass("noMenu"),p.viewHandler.checkSeenMessageViewport(),!C&&e.container.getElementById("chatTextarea")&&"max"===R.chatWindowState()&&p.viewHandler.userAction){var i=A.getDocument(A.getDocument(l).getElementById(e.container.elementId));if(i&&i.getElementById("chatTextarea"))try{setTimeout(function(){i.getElementById("chatTextarea").focus()},0)}catch(e){}}}),p.eventEmitter.on("formOpened",function(){e.container&&e.container.getElementById("chatPanel")&&("preChatForm"!==p.formHandler.currentForm&&"offlineForm"!==p.formHandler.currentForm&&"consentForm"!==p.formHandler.currentForm||e.wrapper.addClass("noMenu"),e.container.getElementById("chatPanel").style.display="none")}),p.eventEmitter.on("localeChanged",function(){e.insertText(),e.setLinkTitle(),e.toggleSound()})},buildView:function(){this._super(this),this.setLinkTitle(),this.insertText(),this.wrapper&&this.wrapper.addClass(A.getContrast(T.headerTxtColor)),this.attachEvents()},insertText:function(){var e;if(this.container){this.container.getElementById("tawkContent").innerHTML=p.languageParser.translate("overlay","tawkContent"),this.container.getElementById("cancelTawkRedirect").innerHTML=p.languageParser.translate("form","CancelButton"),this.container.getElementById("tawkRedirect").innerHTML=p.languageParser.translate("form","visitButton"),this.container.getElementById("maxFileNotificationMessage").innerHTML=p.languageParser.translate("notifications","maximum_file_upload_warning",{strongStart:"<strong>",strongEnd:"</strong>",limitFileNumber:"5"}),this.container.getElementById("maxSizeNotificationMessage").innerHTML=p.languageParser.translate("notifications","maximum_size_upload_warning",{strongStart:"<strong>",strongEnd:"</strong>",limitFileSize:"50mb"}),this.container.getElementById("emailTranscriptOption").innerHTML=p.languageParser.translate("menu","email_transcript"),this.container.getElementById("changeName").innerHTML=p.languageParser.translate("menu","change_name"),this.container.getElementById("soundOn").innerHTML=p.languageParser.translate("menu","sound_on"),this.container.getElementById("soundOff").innerHTML=p.languageParser.translate("menu","sound_off"),this.container.getElementById("maxSizeNotifLabel").innerHTML=p.languageParser.translate("chat","Warning"),this.container.getElementById("maxFileNotifLabel").innerHTML=p.languageParser.translate("chat","Warning"),this.container.getElementById("endChat").innerHTML=p.languageParser.translate("menu","end_chat_session"),T.isEmbedded||T.isPopup||(this.container.getElementById("popoutChat").innerHTML=p.languageParser.translate("menu","popout_widget")),e=A.getElementsByClassName(this.container.getElementById("chatContainer"),"closeNotification");for(var t=0;t<e.length;t++)e[t].innerHTML=p.languageParser.translate("form","CloseButton");(e=this.container.getElementById("uploadFileOption"))&&(A.isFileInputSupported?e.setAttribute("title",p.languageParser.translate("rollover","uploadFile")):e.parentNode.removeChild(e))}},attachEvents:function(){var e=this,t=e.container.getElementById("tawkToContent");this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){T.whiteLabel()||(T.brandingRedirect()?l.open("https://ref.tawk.to/?utm_source=visitor-widget&utm_medium=link&utm_campaign=referral&utm_term="+S.pageId):t.style.display="block")},p.viewHandler.tawktoLinkName,"tawktoclick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){t.style.display="none"},"cancelTawkRedirect","cancelTawkRedirectclick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){t.style.display="none",l.open("https://www.tawk.to/?utm_source=visitor-widget&utm_medium=link&utm_campaign=referral&utm_term="+S.pageId)},"tawkRedirect","tawkRedirectClicn"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(e){p.formHandler.openForm("emailTranscriptForm"),p.eventHandler.cancelEvent(e)},"emailTranscriptOption","emailclick"),this.container.attachUserEventListener(p.viewHandler.clickEvent,function(t){"preChatForm"!==p.formHandler.currentForm&&"offlineForm"!==p.formHandler.currentForm&&"consentForm"!==p.formHandler.currentForm&&p.chatHandler.isVisitorEngaged()?(p.formHandler.openForm("endChatForm"),p.eventHandler.cancelEvent(t)):(p.eventHandler.cancelEvent(t),p.sessionHandler.notifyWindowState("min")),e.closeMenu()},"endChat","endChatclick"),this._super(this)}});Ee.prototype.closeMenu=function(){this.chatMenuOpen&&(this.chatMenuOpen=!1,this.container.getElementById("chatMenuControls").style.display="none",this.container.getElementById("chatMenu").className="")},Ee.prototype.setLinkTitle=function(){this.container&&(this.container.getElementById("ratePositive").setAttribute("title",p.languageParser.translate("rollover","positiveRating")),this.container.getElementById("rateNegative").setAttribute("title",p.languageParser.translate("rollover","negativeRating")),this.container.getElementById("screenShare").setAttribute("title",p.languageParser.translate("rollover","screenShare")),this.container.getElementById("voiceCall").setAttribute("title",p.languageParser.translate("rollover","voiceCall")),this.container.getElementById("videoCall").setAttribute("title",p.languageParser.translate("rollover","videoCall")),this.container.getElementById("chatMenu").setAttribute("title",p.languageParser.translate("rollover","chatMenu")),this.container.getElementById("viewEmoji").setAttribute("title",p.languageParser.translate("chat","insert_emoji")),T.isEmbedded||this.container.getElementById("minimizeChat").setAttribute("title",p.languageParser.translate("form","CloseButton")))},Ee.prototype.chatEnded=function(){p.formHandler.openForm("restartChatForm")},Ee.prototype.chatStarted=function(){var e=this.container.getElementById("chatEnded"),t=this.container.getElementById("chatContainerWrapper"),i=this.container.getElementById("agentList"),n=this.container.getElementById("options");e&&e.parentNode.removeChild(e),i&&(i.innerHTML=""),t&&(t.className=t.className.replace("chat-ended","")),n&&(n.style.display="block")};var Te=we.extend({init:function(){var e=this;if(this._super(this),this.startY=this.startX=0,this.iframeXOffsetPosition=T.widgetOffsetX,this.iframeYOffsetPosition=T.widgetOffsetY,this.isMaximized=this.isWidgetAnimating=this.userAction=this.isWidgetPositionsUpdated=!1,this.overlayElement=new ge(null,A.getGenericStyle({left:"0px",top:"0px",zindex:"1000001",cursor:"move",width:"100%",height:"100%",display:"none",float:"left"})),this.iframeContainerName=A.getRandomName(),this.iframeContainer=new ge(this.iframeContainerName),this.resizeFromLeft=new ge(A.getRandomName(),A.getGenericStyle({height:"100%",left:"0px",top:"0px",zindex:"999998",cursor:"w-resize",width:"6px"})),this.resizeFromRight=new ge(A.getRandomName(),A.getGenericStyle({height:"100%",width:"6px",right:"0px",top:"0px",zindex:"999998",cursor:"e-resize"})),this.resizeFromTop=new ge(A.getRandomName(),A.getGenericStyle({height:"6px",width:"100%",right:"0px",top:"0px",zindex:"999998",cursor:"n-resize"})),this.resizeFromBottom=new ge(A.getRandomName(),A.getGenericStyle({height:"6px",width:"100%",right:"0px",bottom:"0px",zindex:"999998",cursor:"s-resize"})),this.resizeTopLeft=new ge(A.getRandomName(),A.getGenericStyle({height:"12px",width:"12px",left:"0px",top:"0px",zindex:"999998",cursor:"nw-resize"})),this.resizeTopRight=new ge(A.getRandomName(),A.getGenericStyle({height:"12px",width:"12px",right:"0px",top:"0px",zindex:"999998",cursor:"ne-resize"})),this.resizeBottomLeft=new ge(A.getRandomName(),A.getGenericStyle({height:"12px",width:"12px",bottom:"0px",left:"0px",zindex:"999998",cursor:"sw-resize"})),this.resizeBottomRight=new ge(A.getRandomName(),A.getGenericStyle({height:"12px",width:"12px",bottom:"0px",right:"0px",zindex:"999999",cursor:"se-resize"})),t=new Ee(this.tawktoLinkName,this.bottomContainerName),this.iframeContainer.addChildViews([t.container]),!T.isPopup&&!T.isEmbedded){var n,a=[(i=new Ce).container,i.chatIndicator,i.bubbleContainer,this.overlayElement];T.isDesktopRectangle()?n=[this.resizeFromLeft,this.resizeFromRight,this.resizeFromTop,this.resizeFromBottom,this.resizeTopLeft,this.resizeTopRight,this.resizeBottomLeft,this.resizeBottomRight]:(n=[],T.isRightPositioned()?n.push(this.resizeFromLeft):n.push(this.resizeFromRight),T.isCenterPositioned()?(n=n.concat([this.resizeFromBottom,this.resizeFromTop]),n=T.isRightPositioned()?n.concat([this.resizeTopLeft,this.resizeBottomLeft]):n.concat([this.resizeTopRight,this.resizeBottomRight])):T.isTopPositioned()?(n.push(this.resizeFromBottom),T.isRightPositioned()?n.push(this.resizeBottomLeft):n.push(this.resizeBottomRight)):(n.push(this.resizeFromTop),T.isRightPositioned()?n.push(this.resizeTopLeft):n.push(this.resizeTopRight))),this.iframeContainer.addChildViews(a.concat(n))}this.indicator=new be(i?i.chatIndicator:null),this.chatContainer=t.container,this.iframeContainer.buildView(),this.insertFrameStyle(),R.pageStatus.subscribe(function(t){e.updateViewByStatus(t)}),B.rating.subscribe(function(t){e.changeRating(t)}),T.isPopup||T.isEmbedded||R.chatWindowState.subscribe(function(t){"max"===t?e.maximizeWidget():e.minimizeWidget()}),T.minStyle.subscribe(function(){i&&i.container.elementReferrer&&(i.container.insertCssFile(T.minStyle(),!0),i.container.documentRef.getElementById("tawkchat-minified-wrapper").className=A.getContrast(T.headerTxtColor))}),T.maxStyle.subscribe(function(){t&&t.container.elementReferrer&&(t.container.insertCssFile(T.maxStyle(),!0),t.wrapper.removeClass("black"),t.wrapper.removeClass("white"),t.wrapper.addClass(A.getContrast(T.headerTxtColor)))}),T.minimizedDimensions.subscribe(function(){var t=e.calculateWidgetPosition();e.iframeContainer.restyle("top",t.top),e.iframeContainer.restyle("bottom",t.bottom),e.iframeContainer.restyle("right",t.right),e.iframeContainer.restyle("left",t.left)}),this.initialDocumentClick=p.eventHandler.listen(document,"click",function(){p.audioPlayer.initAudioPlayer(),p.eventHandler.removeEventHandler(document,"click",e.initialDocumentClick)},"documentinitialclick")},insertFrameStyle:function(){var e,i,n,a="";n=this.calculateWidgetPosition(),n=A.getGenericStyle({display:"none",bottom:n.bottom,top:n.top,right:n.right,left:n.left,minwidth:"0",minheight:"0",zindex:w&&9>y?"none":"2000000000",position:"fixed"}),T.isTopPositioned()?(e="transform:translate(0, -30px);",i="transform:translate(0, 0px);"):T.isCenterPositioned()?(e=T.isRightPositioned()?"transform:translate(30px,0);":"transform:translate(-30px,0);",i="transform:translate(0px,0);"):(e="transform:translate(0, 30px);",i="transform:translate(0, 0px);"),a=a+"@keyframes tawkMaxOpen"+(e="{0%{opacity:0;"+e+";}to{opacity:1;"+i+"}}")+"@-moz-keyframes tawkMaxOpen"+e,a+="@-webkit-keyframes tawkMaxOpen"+e,a+="#"+this.iframeContainerName+"{"+n+"}",a+="#"+t.container.elementId+".open{animation : tawkMaxOpen .25s ease!important;}",this.iframeContainer.insertCssFile(a,!0)},show:function(){t.hide(),T.isEmbedded||T.isPopup?(this.iframeContainer.restyle("position","static"),this.iframeContainer.restyle("right",""),this.iframeContainer.restyle("left",""),this.iframeContainer.restyle("width","100%"),this.iframeContainer.restyle("height","100%"),t.show()):(this.isWidgetPositionsUpdated=!0,this.indicator.initIndicator(),p.main.maximize?this.maximizeWidget():this.minimizeWidget()),this.updateViewByStatus(R.pageStatus()),this._super()}});Te.prototype.calculateWidgetPosition=function(){var e,t,i=Math.max((document.documentElement.clientHeight,(l.innerHeight||0)/2))-T.maximizedDimensions().height/2,n={};return T.isDesktopRectangle()?(e=0,t=T.widgetOffsetX):(t=10,e=T.minimizedDimensions().height+T.widgetOffsetX+10,t=T.isCenterPositioned()?T.minimizedDimensions().width+T.widgetOffsetX+t:t),T.isTopPositioned()?(n.bottom="auto",n.top=e+"px"):(T.isCenterPositioned()?n.bottom=T.isDesktopRectangle()?"0px":i+"px":n.bottom=e+"px",n.top="auto"),T.isRightPositioned()?(n.right=t+"px",n.left="auto"):(n.right="auto",n.left=t+"px"),n},Te.prototype.maximizeWidget=function(){var e=null,n=null;if(i&&(e=i.container.getElementById("minimizeChatMinifiedBtn"),n=i.container.getElementById("maximizeChat")),this.messagePreview&&this.messagePreview.hide(),"max"!==T.onClickAction)return this.popoutWidget();if(T.hideWidgetOnOffline&&"offline"===R.pageStatus()&&p.formHandler.openForm(T.showConsentForm?"consentForm":"offlineForm"),(T.hideWidgetOnLoad||T.hideWidgetOnOffline)&&this.showWidget(),t.show(),i&&i.container&&(T.isDesktopRectangle()?i.hide():(i.shown||i.show(),e&&n&&(A.removeClass(n,"appear"),A.addClass(n,"hide"),A.removeClass(e,"hide"),A.addClass(e,"appear")),i.hideBubble(),A.addClass(i.container.getElementById("tawkchat-minified-box"),"open"))),this.isMaximized=!0,s.triggerApiHandlers("onChatMaximized"),p.viewHandler.scrollToFirstUnseen(),!C&&this.chatContainer.getElementById("chatTextarea")&&"max"===R.chatWindowState()&&!p.formHandler.currentForm&&p.viewHandler.userAction){var a=A.getDocument(A.getDocument(l).getElementById(t.container.elementId));if(a&&a.getElementById("chatTextarea"))try{setTimeout(function(){a.getElementById("chatTextarea").focus(),p.viewHandler.userAction=!1},0)}catch(e){}}t.container.addClass("open")},Te.prototype.minimizeWidget=function(){var e,n=null,a=null;if(!T.isPopup&&!T.isEmbedded){if(t.hide(),this.isMaximized=!1,T.hideWidgetOnLoad)return this.hideWidget();i&&(n=i.container.getElementById("minimizeChatMinifiedBtn"),a=i.container.getElementById("maximizeChat"),e=i.container.getElementById("tawkchat-minified-box")),n&&a&&(A.removeClass(a,"hide"),A.addClass(a,"appear"),A.removeClass(n,"appear"),A.addClass(n,"hide"),A.removeClass(e,"open")),i.show(),s.triggerApiHandlers("onChatMinimized"),this.indicator.initIndicator()}},Te.prototype.popoutWidget=function(){var e="https://tawk.to/chat/"+S.pageId+"/";this.indicator.hide(),R.chatWindowState("min"),this.popoutWin&&!this.popoutWin.closed&&this.popoutWin.focus?this.popoutWin.focus():(T.whiteLabel()&&T.whiteLabel().chatUrl&&(e=T.whiteLabel().chatUrl+"/chat/"),this.popoutWin=l.open(e+$_Tawk_WidgetId+"?$_tawk_sk="+R.sessionKey+"&$_tawk_tk="+R.transferKey+"&v="+R.serverVersion,"Tawk","height=500, width=450, resizable=yes, toolbar=no, location=no, menubar=no, personalbar=no"))},Te.prototype.toggleWidget=function(){var e=R.chatWindowState();R.chatWindowState("min"===e?"max":"min")},Te.prototype.removeBubble=function(){try{p.eventEmitter.emit("notifyBubbleClosed")}catch(e){n.handleError("Unable to emit notifyBubbleClosed",e.fileName,e.lineNumber,e.stack)}},Te.prototype.insertPopupStyle=function(){var e,t=document.getElementsByTagName("head")[0],i=document.createDocumentFragment(),n=A.createElement(document,"style",{type:"text/css"});e=document.createTextNode(p.ResetStyle+""+p.MaximizedStyle+T.maxStyle()),n.styleSheet?n.styleSheet.cssText=e.nodeValue:n.appendChild(e),i.appendChild(n),t.appendChild(i),document.body.className="popup"},Te.prototype.begin=function(){var e,n=this,a=document.getElementById(s.embedded);p.main.started||(this.iframeContainer&&(e=document.getElementById(this.iframeContainer.elementId)),e&&e.parentNode.removeChild(e),T.isEmbedded&&a?(a.appendChild(this.iframeContainer.elementReferrer),p.eventHandler.listen(l,"resize",function(){n.onEmbeddedWindowResize()},"windowresize")):(document.body.appendChild(this.iframeContainer.elementReferrer),T.isPopup?this.insertPopupStyle():(i.buildView(),this.resizeFromLeft.attachUserEventListener("mousedown",function(e){n.onHeaderMouseDown(e,"left")},null,"resizeLeftfocus"),this.resizeFromRight.attachUserEventListener("mousedown",function(e){n.onHeaderMouseDown(e,"right")},null,"resizeRightfocus"),this.resizeFromTop.attachUserEventListener("mousedown",function(e){n.onHeaderMouseDown(e,null,"top")},null,"resizeTopfocus"),this.resizeFromBottom.attachUserEventListener("mousedown",function(e){n.onHeaderMouseDown(e,null,"bottom")},null,"resizeBottomfocus"),this.resizeTopLeft.attachUserEventListener("mousedown",function(e){n.onHeaderMouseDown(e,"left","top")},null,"resizeTopLeftfocus"),this.resizeTopRight.attachUserEventListener("mousedown",function(e){n.onHeaderMouseDown(e,"right","top")},null,"resizeTopRightfocus"),this.resizeBottomLeft.attachUserEventListener("mousedown",function(e){n.onHeaderMouseDown(e,"left","bottom")},null,"resizeBottomLeftfocus"),this.resizeBottomRight.attachUserEventListener("mousedown",function(e){n.onHeaderMouseDown(e,"right","bottom")},null,"resizeBottomRightfocus"),p.eventHandler.listen(l,"resize",function(){n.onWindowResize()},"windowresize"))),t.buildView())},Te.prototype.hideWidget=function(){this.iframeContainer.hide(),s.triggerApiHandlers("onChatHidden")},Te.prototype.adjustEmojiContainerHeight=function(){var e=this.chatContainer.documentRef.getElementById("emoji-selection-container"),t=this.chatContainer.documentRef.getElementById("innerWrapper"),i=this.chatContainer.documentRef.getElementById("textareaWrapper"),n=this.chatContainer.documentRef.getElementById("headerBoxWrapper");185>(t=t.clientHeight-i.clientHeight-n.clientHeight)&&(e.style.height=t+"px")},Te.prototype.showWidget=function(){this.iframeContainer.isVisible||this.iframeContainer.show()},Te.prototype.toggleVisibility=function(){this.iframeContainer.toggle()},Te.prototype.isWidgetHidden=function(){return!this.iframeContainer.isVisible},Te.prototype.onHeaderMouseUp=function(){this.overlayElement.restyle("display","none !important"),this.resetFrameDimensions(),this.isResized&&(this.isResized=!1,p.socketManager.sendToConnector("notifyWidgetResized")),p.eventHandler.removeEventHandler(document,"mousemove",this.mouseMovehandler),p.eventHandler.removeEventHandler(document,"mouseup",this.mouseUpHandler)},Te.prototype.onHeaderMouseDown=function(e,i,n){var a=this,o=p.eventHandler.getTargetElement(e);o.id!==this.resizeFromLeft.elementId&&o.id!==this.resizeFromRight.elementId&&o.id!==this.resizeFromTop.elementId&&o.id!==this.resizeFromBottom.elementId&&o.id!==this.resizeTopLeft.elementId&&o.id!==this.resizeBottomLeft.elementId&&o.id!==this.resizeTopRight.elementId&&o.id!==this.resizeBottomRight.elementId||1===e.button&&!l.event&&!t.documentRef.event||1<e.button||(p.eventHandler.cancelEvent(e),this.overlayElement.restyle("display","block !important"),e=this.getActualViewportDimensions(),this.actualViewPortWidth=e.width,this.actualViewPortHeight=e.height,this.startOffsetY=this.startOffsetX=0,this.mouseMovehandler=p.eventHandler.listen(document,"mousemove",function(e){a.setResizedDimensions(e,i,n),a.isResized=!0,a.redrawIE()},"dragmove"),this.mouseUpHandler=p.eventHandler.listen(document,"mouseup",function(e){a.onHeaderMouseUp(e)},"dragleave"))},Te.prototype.redrawIE=function(){"explorer"===b&&(this.iframeContainer.restyle("visibility","hidden !important"),this.iframeContainer.restyle("visibility","visible !important"))},Te.prototype.setResizedDimensions=function(e,t,i){var n,a=this.iframeContainer.elementReferrer,o=this.ifScrollbarDown();if(this.isRight&&void 0!==this.isRight||(this.isRight=T.isRightPositioned()),this.startX=e.clientX,this.startY=e.clientY,t){n=this.isRight?"right":"left";var r=parseInt(A.computedStyle(this.chatContainer.elementReferrer,"width").replace("px",""),10),s=parseInt(A.computedStyle(a,n).replace("px",""),10),l=0>(l=this.isRight?this.actualViewPortWidth-e.clientX:e.clientX)?0:l;this.isRight&&"right"===t||!this.isRight&&"left"===t?280>(t=r-(l-s))?t=280:(l>this.actualViewPortWidth-t-1&&(l=this.actualViewPortWidth-t-1),a.style.cssText+=";"+n+":"+l+"px !important",this.startOffsetX=t):this.startOffsetX=t=this.isRight?this.actualViewPortWidth-e.clientX-s:e.clientX-s,280<=t&&0<this.actualViewPortWidth-(t+parseInt(A.computedStyle(a,n).replace("px",""),10))&&this.setWidth(t)}i&&("bottom"===i?(i=parseInt(a.style.bottom.replace("px","")),0>(e=this.actualViewPortHeight-e.clientY)&&(e=0),330>(i=parseInt(A.computedStyle(this.chatContainer.elementReferrer,"height").replace("px",""),10)-(e-i))?i=330:(e>this.actualViewPortHeight-i-1&&(e=this.actualViewPortHeight-i-1),a.style.cssText+=";bottom:"+e+"px !important",this.startOffsetY=i)):(startOffsetY=parseInt(A.computedStyle(a,"bottom").replace("px",""),10),i=this.actualViewPortHeight-e.clientY-startOffsetY,this.startOffsetY=this.startY-startOffsetY),330<=i&&0<this.actualViewPortHeight-(i+parseInt(A.computedStyle(a,"bottom").replace("px",""),10))&&this.setHeight(i),p.viewHandler.adjustEmojiContainerHeight()),o&&this.scrollToBottom(),p&&p.formHandler&&p.formHandler.resize()},Te.prototype.setChatWindowXPosition=function(e){var i,n,a=parseInt(t.frameWidth.replace("px",""),10);void 0===this.isRight&&(this.isRight=T.isRightPositioned()),this.isRight?(i="right",n=parseInt(this.iframeContainer.elementReferrer.style.right,10)):(i="left",n=-parseInt(this.iframeContainer.elementReferrer.style.left,10)),this.startOffsetX||(this.startOffsetX=e+n),20>(e=this.isRight?this.startOffsetX-e:e-this.startOffsetX)?e=0:20>this.actualViewPortWidth-(e+a)&&(e=this.actualViewPortWidth-a),this.iframeContainer.restyle(i,e+"px !important")},Te.prototype.setChatWindowYPosition=function(e){var i,n,a=parseInt(t.frameHeight.replace("px",""),10);"auto"===this.iframeContainer.elementReferrer.style.bottom?(styleKey="top",i=-parseInt(this.iframeContainer.elementReferrer.style.top,10),n=!1):(styleKey="bottom",i=parseInt(this.iframeContainer.elementReferrer.style.bottom,10),n=!0),this.startOffsetY||(this.startOffsetY=e+i),20>(e=n?this.startOffsetY-e:e-this.startOffsetY)?e=0:20>this.actualViewPortHeight-(e+a)&&(e=this.actualViewPortHeight-a),this.iframeContainer.restyle(styleKey,e+"px !important")},Te.prototype.onWindowResize=function(){var e=this;clearTimeout(this.resizeTimeout),this.wasScrollbarDown=this.ifScrollbarDown(),this.resizeTimeout=setTimeout(function(){e.onWindowResizeTimeout()},100)},Te.prototype.onWindowResizeTimeout=function(){var e=(i=this.getActualViewportDimensions()).width,i=i.height,n=this.iframeContainer.elementReferrer,a=this.isBottom?parseInt(n.style.bottom.replace("px",""),10):parseInt(n.style.top.replace("px",""),10),o=this.isRight?parseInt(n.style.right.replace("px",""),10):parseInt(n.style.left.replace("px",""),10),r=parseInt(t.frameWidth.replace("px",""),10),s=parseInt(t.frameHeight.replace("px",""),10);r+o>e&&(0>(o=e-r)&&(r+=o,o=0,this.setWidth(r)),this.isRight?n.style.right=o+"px":n.style.left=o+"px"),s+a>i&&(0>(a=i-s)&&(s+=a,a=0,this.setHeight(s)),this.isBottom?n.style.bottom=a+"px":n.style.top=a+"px"),this.wasScrollbarDown&&this.scrollToBottom(),this.resetFrameDimensions()},Te.prototype.setWidth=function(e){(!e||300>e)&&(e=300),this.chatContainer.restyle("width",e+"px !important")},Te.prototype.setHeight=function(e){(!e||350>e)&&(e=350),this.chatContainer.restyle("height",e+"px !important")},Te.prototype.onEmbeddedWindowResize=function(){null===this.isWidgetElementDimensionsNull&&this.setWidgetElementDimensions(),this.isWidgetElementDimensionsNull?(this.setWidth(T.maximizedDimensions().width),this.setHeight(T.maximizedDimensions().height)):(this.chatContainer.restyle("width","100%"),this.chatContainer.restyle("height","100%"))},Te.prototype.setWidgetElementDimensions=function(){var e=document.getElementById(s.embedded);this.isWidgetElementDimensionsNull=280>e.clientWidth||330>e.clientHeight},Te.prototype.resetFrameDimensions=function(){var e=parseInt(A.computedStyle(this.chatContainer.elementReferrer,"width").replace("px",""),10),i=parseInt(A.computedStyle(this.chatContainer.elementReferrer,"height").replace("px",""),10);t.frameWidth=e+"px",t.frameHeight=i+"px"},Te.prototype.isWidgetElementDimensionsNull=null,Te.prototype.styleAgentBar=function(){var e,t=this.chatContainer;if(t){e=t.getElementById("agentWrapper");try{0<p.agents.agentsCount?(t.getElementById("headerAccountStateContainer").style.display="none",e.style.display="block"):(t.getElementById("headerAccountStateContainer").style.display="block",e.style.display="none")}catch(e){n.handleError("headerAccountStateContainer is null",e.fileName,e.lineNumber,e.stack)}}},Te.prototype.expandAgentList=function(e){var t,i;(i=this.chatContainer)&&(t=i.getElementById("agentBar"),i=i.getElementById("expandableLink"),1===e.button&&!l.event||1<e.button||(-1===t.className.indexOf("expanded")?(t.className+=" expanded",i.className="expanded"):(t.className=t.className.replace("expanded",""),i.className=""),this.styleAgentBar()))},Te.prototype.resetView=function(){var e,t,i,n,a;(n=this.chatContainer)&&(e=n.getElementById("chatWrapper"),i=n.getElementById("agentList"),a=n.getElementById("agentBar"),n=n.getElementById("expandableLink"),e&&(t=e.lastChild,e.innerHTML="",e.appendChild(t)),i&&(i.innerHTML=""),a&&(e=a.parentNode.childNodes[0],a.className="",e&&-1!==e.className.indexOf("agentWrapper")&&e.parentNode.removeChild(e)),n&&(n.style.visibility="hidden",n.className=""),this.show())},Te.prototype.handleIndicatorToggle=function(){i&&i.container&&i.chatIndicator&&(i.chatIndicator.getElementById("tawkchat-chat-indicator").style.visibility="visible")};var Ie=Te.extend({init:function(){this._super(this)},changeDragElementSize:function(e){this.dragElement.restyle(T.isRTL()?"right":"left",e+"px !important")},handleEndChat:function(){i&&i.container&&i.chatEnded(),p.viewHandler.clearAgentHeader(),T.isEmbedded||(T.isPopup?(p.socketManager.sendToConnector("popupOnFocus",!1),setTimeout(function(){1<l.history.length?l.history.back():l.close()},200)):(p.sessionHandler.notifyWindowState("min"),t.chatEnded()))},handleRestartChat:function(){p.formHandler.closeForm(),t.chatStarted()}}),Se=function(){var e=this,t={width:e.minifiedBoxWidth+"px",height:e.minifiedBoxHeight+"px",minwidth:e.minifiedBoxWidth+"px",minheight:e.minifiedBoxHeight+"px",maxwidth:e.minifiedBoxWidth+"px",maxheight:e.minifiedBoxHeight+"px",zindex:"1000000",display:"none"};this.setDimensions(),this.clickToPopout=this.setPopoutHref=this.isMoving=!1,this.offsetY=T.widgetOffsetY,this.clickEvent="touchend",T.isCenterPositioned()&&"rectangle"===T.mobileWidget()&&(T.isRightPositioned()?(t.transform="rotate(-90deg)",t.right="0px"):(t.left="0px",t.transform="rotate(90deg)")),this.container=new fe(A.getRandomName(),A.getGenericStyle(t),O,"iframe"),R.pageStatus.subscribe(function(t){e.updateStatus(t)}),T.chatPosition.subscribe(function(){e.updateWidgetPosition()}),T.mobMinStyle.subscribe(function(){e.container&&e.container.elementReferrer&&e.container.insertCssFile(T.mobMinStyle(),!0)}),T.showMessagePreview.subscribe(function(){T.showMessagePreview()?e.initMessagePreviewContainer():e.destroyMessagePreviewContainer()}),p.eventEmitter.on("localeChanged",function(){e.updateStatus()})};Se.prototype.setDimensions=function(){"rectangle"===T.mobileWidget()?(this.minifiedBoxWidth=110,this.minifiedBoxHeight=68):this.minifiedBoxHeight=this.minifiedBoxWidth=60},Se.prototype.buildView=function(){this.container.buildIframe(p.MinifiedMobileStyle+T.mobMinStyle()),p.MinifiedMobileStyle=p.MinifiedMobileStyle.replace(/#tawktoLink/g,"#"+p.viewHandler.tawktoLinkName),p.MinifiedMobileStyle=p.MinifiedMobileStyle.replace(/#bottomContainer/g,"#"+p.viewHandler.bottomContainerName),T.showMessagePreview()?this.initMessagePreviewContainer():this.destroyMessagePreviewContainer(),T.isRTL()&&(this.container.getElementById("tawkchat-minified-box").className+=" rtl-direction "),this.updateStatus(),this.attachEvents(),this.updateWidgetPosition()},Se.prototype.updateStatus=function(e){var t;if(e||(e=R.pageStatus()),this.container&&e){(t=this.container.getElementById("tawkchat-status-icon"))&&(t.className=e),(t=this.container.getElementById("tawk-minified-mobile-text"))&&(t.innerHTML="online"===e||"away"===e?p.languageParser.translate("chat","chat_text"):p.languageParser.translate("chat","mail_text"));try{p.eventEmitter.emit("resizeIframeHeight")}catch(e){n.handleError("Unable to emit resizeIframeHeight",e.fileName,e.lineNumber,e.stack)}}},Se.prototype.attachEvents=function(){var e=this;this.container.attachUserEventListener(p.viewHandler.clickEvent,function(t){p.eventHandler.cancelEvent(t),e.isMoving||(p.sessionHandler.notifyWindowState("max"),p.viewHandler.checkSeenMessageViewport()),e.isMoving=!1},"tawkchat-minified-box","mobpclick"),this.container.attachUserEventListener("touchmove",function(){e.isMoving=!0},"tawkchat-minified-box","mobpmove")},Se.prototype.show=function(){this.container.restyle("display","block")},Se.prototype.updateWidgetPosition=function(){var e="";this.container&&this.container.elementReferrer&&(e=T.isCenterPositioned()?e+" center ":T.isTopPositioned()?e+" top ":e+" bottom ",e=T.isRightPositioned()?e+" right ":e+" left ",e+=" "+T.mobileWidget()+" ",this.container.documentRef.body.className=e)},Se.prototype.initMessagePreviewContainer=function(){var e,t;e=p.viewHandler.iframeContainer,this.messagePreview=new fe(A.getRandomName(),A.getGenericStyle({zindex:"999999",width:"100%",height:"0px",minwidth:"auto",maxwidth:"378px",minheight:"auto",left:"auto",right:"auto",position:"fixed",display:"none",top:"auto",bottom:"auto"}),O,"iframe"),p.viewHandler.messagePreview=new ye(this.messagePreview),this.messagePreview.elementReferrer||e.elementReferrer.appendChild(this.messagePreview.buildView(e.documentRef)),this.messagePreview.buildIframe(p.MinifiedStyle+T.minStyle()),e=A.getElementsByTagName(this.messagePreview.documentRef,"body")[0],t=(t=(t=h["tawkchat-message-preview"]).replace(/__TAWK_TO_LINK__/gm,p.viewHandler.tawktoLinkName)).replace(/__BOTTOM_CONTAINER__/gm,p.viewHandler.bottomContainerName),e.innerHTML=t},Se.prototype.destroyMessagePreviewContainer=function(){this.messagePreview&&this.messagePreview.documentRef&&this.messagePreview.documentRef.parentNode&&this.messagePreview.documentRef.parentNode.removeChild(this.messagePreview.documentRef),this.messagePreview=null,p.viewHandler.messagePreview=null};var Be=function(e){var i=this;arguments.length&&(this.browser=e,this.metaContent=this.getMetaContent(),this.landscape=!1,this.zoom=1,this.resizeTimeout=this.hasKeyboard=this.minAndMaxScalesAreEqual=this.hasViewportHeightWidth=this.hasInitialScale=!1,this.removeAgentNotification=!0,this.clickEvent="touchend",this.hasChatStarted=this.isMaximized=this.isBottomWidget=!1,this.originalDocumentStyle=null,this.isTherePreChat=T.showPreChatForm,this.noZoomMetaTag=null,this.isIndicatorOn=!1,this.scrollTop=this.scrollLeft=0,this.mainAgent=null,this.shapeChanged(),this.minifiedWidget=new Se,(t=new Ee(this.tawktoLinkName,this.bottomContainerName)).wrapper.addClass("mobile"),this.iframeContainer=new ge("tawkchat-container","border: 0 none !important; padding: 0 !important; margin: 0 !important; z-index: 999999999 !important; overflow : visible !important; min-width: 0 !important; min-height: 0 !important; max-width: none !important; max-height: none !important; width : auto !important; height : auto !important;"),this.indicator=new be(this.minifiedWidget.container),this.iframeContainer.addChildViews([this.minifiedWidget.container,t.container]),"#max-widget"===l.location.hash&&(l.history?l.history.replaceState({},document.title,"."):l.location.hash=""),this.iframeContainer.buildView(),this.chatContainer=t.container,p.eventEmitter.on("resizeIframeHeight",function(){i.resizeIframeHeight()}),p.eventEmitter.on("visitorPopupFocus",function(e){i.isPopupFocused=e}),p.eventHandler.listen(l,"popstate",function(e){!T.isPopup&&i.isMaximized&&"#max-widget"!==l.location.hash&&R.chatWindowState("min")},"popstateFn"),R.chatWindowState.subscribe(function(e){T.isPopup||(i.hideWidget(),"max"===e?(s.disableMobileBackHistory||l.location.hash&&"#max-widget"!==l.location.hash||(l.history.pushState?l.history.pushState(null,null,l.location.href+"#max-widget"):l.location.hash="max-widget"),i.maximize()):(s.disableMobileBackHistory||"#max-widget"===l.location.hash&&l.history.back(),i.isMaximized=!1,i.show()))}),R.pageStatus.subscribe(function(e){i.updateViewByStatus(e)}),T.mobileWidget.subscribe(function(){i.renderBottomWidget(),i.minifiedWidget.buildView()}),T.chatPosition.subscribe(function(){i.updateWidgetPosition()}),B.rating.subscribe(function(e){i.changeRating(e)}),T.maxStyle.subscribe(function(){i.chatContainer&&i.chatContainer.elementReferrer&&i.chatContainer.insertCssFile(T.maxStyle(),!0)}),T.mobileWidget.subscribe(function(e){i.shapeChanged(),i.minifiedWidget.container.massRestyle({width:i.minifiedBoxWidth+"px !important",height:i.minifiedBoxHeight+"px !important","min-width":i.minifiedBoxWidth+"px !important","min-height":i.minifiedBoxHeight+"px !important","max-width":i.minifiedBoxWidth+"px !important","max-height":i.minifiedBoxHeight+"px !important"})}),p.chatHandler.hasChatStarted.subscribe(function(e){t.toggleEndChatOption(e)}))};(Be.prototype=new we).constructor=Be,Be.prototype.parent=we.prototype,Be.prototype.begin=function(){if(document.body.appendChild(this.iframeContainer.elementReferrer),"symbian"!==this.browser&&"ie"!==this.browser&&"opera"!==this.browser&&"android2.3"!==this.browser||(this.clickEvent="click"),this.minifiedWidget.buildView(),t.buildView(),this.chatContainer=t.container,this.noZoomMetaTag=document.createElement("meta"),this.noZoomMetaTag.name="viewport",this.parent.begin.call(this),A.isTouchDevice()&&("android"===C||"android2"===C||"android2.3"===C)){var e=this.chatContainer.getElementById("chatContainer"),i=this.chatContainer.getElementById("menuScrollable");this.addOverflowScroll(e),this.addOverflowScroll(i),e.style.overflow="hidden",i.style.overflow="hidden"}p.audioPlayer.initAudioPlayer()},Be.prototype.shapeChanged=function(){(this.isMinifiedRound="round"===T.mobileWidget())?this.minifiedBoxHeight=this.minifiedBoxWidth=this.defaultHeight=this.defaultWidth=60:(this.defaultWidth=110,this.defaultHeight=68,this.minifiedBoxWidth=110,this.minifiedBoxHeight=68)},Be.prototype.handleEndChat=function(){t.chatEnded(),this.chatContainer.hide(),this.isMaximized=!1,this.iframeContainer.restyle("right","0px"),this.show()},Be.prototype.show=function(){var e=document.querySelector("meta[name=viewport]")||document.querySelector("meta[name=VIEWPORT]");this.isMaximized?(this.iframeContainer.massRestyle({left:"0px",top:"0px",right:"0px",bottom:"0px"}),this.isMobileOptimizedWebsite()||null===this.noZoomMetaTag||(this.metaContent||""!==this.noZoomMetaTag.content?this.metaContent&&!this.hasNoScale&&e&&e.setAttribute("content",this.metaContent+", user-scalable=no"):(this.noZoomMetaTag.content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no",this.noZoomMetaTag.parentNode||document.getElementsByTagName("head")[0].appendChild(this.noZoomMetaTag))),this.isVisibilityToggled||(this.iframeContainer.show(),this.chatContainer.show()),this.minifiedWidget.container.hide(),"max"!==R.chatWindowState()&&p.sessionHandler.notifyWindowState("max"),p.viewHandler.newMessageNotSeen&&setTimeout(function(){p.viewHandler.checkUnseenMessages()},0)):(this.isMobileOptimizedWebsite()?(this.getZoom(),this.renderMinifiedBox()):this.metaContent&&!this.hasNoScale?e&&e.setAttribute("content",this.metaContent):this.noZoomMetaTag.parentNode&&(this.noZoomMetaTag.content="",document.getElementsByTagName("head")[0].removeChild(this.noZoomMetaTag)),A.blurElements(t.container.documentRef.body.getElementsByTagName("input")),A.blurElements(t.container.documentRef.body.getElementsByTagName("textarea")),this.isVisibilityToggled||(this.minifiedWidget.container.show(),this.showWidget()),this.resetOriginalStyle(),this.indicator.initIndicator(),"min"!==R.chatWindowState()&&p.sessionHandler.notifyWindowState("min"),this.resizeHandler(),s.triggerApiHandlers("onChatMinimized")),this.isVisibilityToggled||(this.updateViewByStatus(R.pageStatus()),this.parent.show.call(this))},Be.prototype.hideWidget=function(){this.isMaximized?(this.isPopupFocused&&p.socketManager.sendToConnector("popupOnFocus",!1),this.chatContainer.hide()):(null!==this.originalDocumentStyle&&(this.iframeContainer.documentRef.body.style.cssText=this.originalDocumentStyle),this.minifiedWidget.container.hide()),this.iframeContainer.hide(),s.triggerApiHandlers("onChatHidden")},Be.prototype.showWidget=function(){if(this.iframeContainer.show(),null!==this.originalDocumentStyle&&(this.iframeContainer.documentRef.body.style.cssText=this.originalDocumentStyle,this.originalDocumentStyle=null,l.scrollTo(this.scrollLeft,this.scrollTop)),this.isMaximized){this.scrollLeft=void 0!==l.pageXOffset?l.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,this.scrollTop=void 0!==l.pageYOffset?l.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,this.scrollToBottom(),this.originalDocumentStyle=this.iframeContainer.documentRef.body.style.cssText;for(var e="height min-height max-height width min-width max-width".split(" "),i=0;i<e.length;i++)this.iframeContainer.documentRef.body.style.setProperty(e[i],"100%","important");this.iframeContainer.documentRef.body.style.setProperty("overflow","hidden","important"),this.iframeContainer.documentRef.body.style.setProperty("position","fixed","important"),t.container.show()}else{if(T.hideWidgetOnLoad)return void this.hideWidget();this.minifiedWidget.container.show(),this.resizeIframeHeight()}this.iframeContainer.show()},Be.prototype.init=function(){this.checkMetaContent(),this.addResizeEvents(),this.resizeHandler()},Be.prototype.getZoom=function(){this.zoom=screen.width/l.innerWidth},Be.prototype.addResizeEvents=function(e){var t,i=this;t=function(e){i.resizeHandler()},p.eventHandler.listen(l,"resize",t,"mobileresize"),p.eventHandler.listen(l,"scroll",t,"mobilescroll"),e&&p.eventHandler.listen(l,"touchmove",t)},Be.prototype.checkMetaContent=function(){var e,t={};if(i=this.metaContent){for(var i,n=0,a=(i=(i=i.replace(/ /g,"")).split(",")).length;n<a;n++)t[(e=i[n].split("="))[0]]=e[1];this.hasInitialScale="1.0"===t["initial-scale"],this.hasViewportHeightWidth=!(!t.width&&!t.height),this.minAndMaxScalesAreEqual=t["minimum-scale"]&&t["maximum-scale"]&&t["minimum-scale"]===t["maximum-scale"],this.initialAndMaxScalesAreEqual=t["initial-scale"]&&t["maximum-scale"]&&t["initial-scale"]===t["maximum-scale"],this.hasNoScale="no"===t["user-scalable"]||"0"===t["user-scalable"]}},Be.prototype.ifScrollbarDown=function(){return this.isMaximized?this.parent.ifScrollbarDown.call(this):!!document&&((e=document.body)?(t=document.documentElement.clientHeight+10,i=e.scrollTop||document.documentElement.scrollTop,80>e.scrollHeight-(i+t)):void 0);var e,t,i},Be.prototype.resizeHandler=function(){var e=this;"offline"===R.pageStatus()&&T.hideWidgetOnOffline||this.isMaximized||(clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){var t=e.isLandscape(),i=e.ifScrollbarDown();"offline"===R.pageStatus()&&T.hideWidgetOnOffline||(e.landscape!==t&&i&&setTimeout(function(){e.scrollToBottom()},200),e.landscape=t,e.isMobileOptimizedWebsite()&&"opera"!==C&&"android2.3"!==C||(e.getZoom(),e.renderMinifiedBox()))},100))},Be.prototype.getMetaContent=function(){var e,t,i=document.getElementsByTagName("meta"),n="";for(e=0,t=i.length;e<t;e++)i[e].getAttribute("name")&&"viewport"===i[e].getAttribute("name").toLowerCase()&&(n=i[e].getAttribute("content"));return n},Be.prototype.isLandscape=function(){return screen.height<screen.width||l.innerHeight<l.innerWidth},Be.prototype.isMobileOptimizedWebsite=function(){return this.checkMetaContent(),this.minAndMaxScalesAreEqual&&(this.hasViewportHeightWidth||this.hasNoScale)||this.initialAndMaxScalesAreEqual},Be.prototype.resizeMobileRectangleWidget=function(){var e=this.minifiedWidget.container.getElementById("tawk-minified-mobile-text"),t=this.minifiedWidget.container.getElementById("tawkchat-chat-indicator"),i=this.minifiedWidget.container.getElementById("tawkchat-minified-wrapper"),n="safari"!==C?screen.width:screen.height;"rectangle"===T.mobileWidget()&&(e.style.width="",this.minifiedBoxWidth=e.offsetWidth+30,110>this.minifiedBoxWidth?this.minifiedBoxWidth=110:!this.isLandscape()&&this.minifiedBoxWidth>screen.width?(this.minifiedBoxWidth=screen.width-30,e.style.width="calc(100% - 30px)"):this.isLandscape()&&this.minifiedBoxWidth>n&&(this.minifiedBoxWidth=n-30,e.style.width="calc(100% - 30px)"),!this.isLandscape()&&this.minifiedBoxWidth>screen.width-30?this.minifiedBoxWidth=screen.width-30:this.isLandscape()&&this.minifiedBoxWidth>n-30&&(this.minifiedBoxWidth=n-30-10),i.style.width=this.minifiedBoxWidth+"px",T.isRTL()?t.style.right=this.minifiedBoxWidth-17+"px":t.style.left=this.minifiedBoxWidth-17+"px")},Be.prototype.scaleContent=function(e){if(!this.isMaximized){var t=T.isRTL()?"right":"left";this.resizeMobileRectangleWidget();var i=this.minifiedBoxHeight,n=this.minifiedBoxWidth,a=this.minifiedWidget.container.getElementById("tawkchat-minified-box"),o="-moz-transform : "+(o="scale("+e+")")+"; -webkit-transform : "+o+"; -o-transform : "+o+"; -ms-transform : "+o+"; transform : "+o+";";t="-moz-transform-origin : bottom "+t+"; -webkit-transform-origin : bottom "+t+"; -o-transform-origin : bottom "+t+"; -ms-transform-origin : bottom "+t+"; transform-origin : bottom"+t;e&&a&&(i=Math.ceil(i*e)+15*e,n=Math.ceil(n*e)+15*e,this.minifiedWidget.container.massRestyle({height:i+"px !important",width:n+"px !important","min-height":i+"px !important","min-width":n+"px !important","max-height":i+"px !important","max-width":n+"px !important"}),a.style.cssText+=o+t,T.isRTL()&&!a.classList.contains("rtl-direction")?a.classList.add("rtl-direction"):!T.isRTL()&&a.classList.contains("rtl-direction")&&a.classList.remove("rtl-direction")),this.updateWidgetPosition(i)}},Be.prototype.popup=function(){var e="https://tawk.to/chat/"+S.pageId+"/";if(this.indicator.hide(),this.chatContainer.hide(),this.isMaximized=!1,this.show(),t.closeMenu(),this.myWin&&!this.myWin.closed)return this.myWin.focus();T.whiteLabel()&&T.whiteLabel().chatUrl&&(e=T.whiteLabel().chatUrl+"/chat/"),this.myWin="nokia"===C?l.open(e+$_Tawk_WidgetId+"?$_tawk_sk="+R.sessionKey+"&$_tawk_tk="+R.transferKey+"&v="+R.serverVersion,"Tawk","height=500, width=450, resizable=yes, toolbar=no, location=no, menubar=no, personalbar=no"):l.open(e+$_Tawk_WidgetId+"?$_tawk_sk="+R.sessionKey+"&$_tawk_tk="+R.transferKey+"&v="+R.serverVersion)},Be.prototype.maximize=function(){"firefox"===C&&!this.isMobileOptimizedWebsite()||"pop"===T.onClickAction?this.popup():(this.messagePreview&&this.messagePreview.hide(),this.hasChatStarted||(T.showPreChatForm=this.isTherePreChat),this.indicator.hide(),this.minifiedWidget.container.hide(),this.originalIframeContainerStyle||(this.originalIframeContainerStyle=this.iframeContainer.elementReferrer.style.cssText),this.iframeContainer.restyle("margin","0px !important"),this.isMaximized=!0,this.show())},Be.prototype.resetOriginalStyle=function(){this.originalIframeContainerStyle&&(this.iframeContainer.elementReferrer.style.cssText=this.originalIframeContainerStyle)},Be.prototype.resizeIframeHeight=function(){var e;!this.isMaximized&&this.iframeContainer&&this.minifiedWidget.container.elementReferrer&&this.isIEWidget&&(e=this.minifiedWidget.container.getElementById("tawkchat-status-text-container").offsetHeight,this.minifiedWidget.container.restyle("height",e+"px"),this.iframeContainer.restyle("marginTop","-"+e/2+"px"),this.iframeContainer.restyle("height",e+"px"))},Be.prototype.renderBottomWidget=function(){this.isMaximized||(this.isBottomWidget=!0,this.minifiedWidget.container.template=h["mobile-bottom-"+T.mobileWidget()],this.iframeContainer.restyle("position","fixed"),this.updateWidgetPosition())},Be.prototype.handleIndicatorToggle=function(e){var t=this.minifiedWidget.container.getElementById("tawkchat-chat-indicator"),i=this.minifiedWidget.container.getElementById("tawkchat-minified-wrapper");this.isIndicatorOn=e,i.className=e?i.className+" indicator-on ":i.className.replace("indicator-on",""),this.isMobileOptimizedWebsite()?this.scaleContent(1):this.renderMinifiedBox(),t.style.visibility="visible"},Be.prototype.updateViewByStatus=function(e,t){this.isMaximized?this.parent.updateViewByStatus.call(this,e):this.iframeContainer.elementReferrer&&("offline"===e&&T.hideWidgetOnOffline?this.hideWidget():this.showWidget(),this.resizeHandler())},Be.prototype.updateWidgetPosition=function(e){var t={},i={};e=e||this.minifiedBoxHeight,this.iframeContainer&&(T.isCenterPositioned()?(t.top="50% !important",t.bottom="auto !important",t.margin=this.isMinifiedRound?-.5*e+"px 0 0 0 !important":-.5*e-(this.defaultHeight-37)/2+"px 0 0 0 !important"):(t.margin="0 !important",T.isTopPositioned()?(t.top="0px !important",t.bottom="auto !important",i.top=this.isMinifiedRound?"5px !important":"-26px !important"):(t.bottom="0px !important",t.top="auto !important",i.bottom=this.isMinifiedRound?"14px !important":"0px !important")),T.isRightPositioned()?(t.right="0px !important",t.left="auto !important",i.right=this.isMinifiedRound?"5px !important":"0px !important"):(t.left="0px !important",t.right="auto !important",i.left=this.isMinifiedRound?"20px !important":"15px !important"),this.iframeContainer.massRestyle(t),this.minifiedWidget.container.massRestyle(i))},Be.prototype.addOverflowScroll=function(e){var i=0,n=this;p.eventHandler.listen(e,"touchstart",function(t){i=e.scrollTop+t.touches[0].pageY},"mobiletouchstart"+e.id),p.eventHandler.listen(e,"touchmove",function(a){p.eventHandler.cancelEvent(a),20>=a.touches[0].pageY||0>i-a.touches[0].pageY||(e.scrollTop=i-a.touches[0].pageY,t.isScrollbarDown=n.ifScrollbarDown())},"mobiletouchmove"+e.id)},Be.prototype.resetView=function(){var e,t;(e=this.chatContainer)&&((e=e.getElementById("chatWrapper"))&&(t=e.lastChild,e.innerHTML="",e.appendChild(t)),this.show())},Be.prototype.renderAgentMinimizedWidget=function(e){var t=this.minifiedWidget.container.getElementById("agent-profile-image"),i=this.minifiedWidget.container.getElementById("tawkchat-status-text-container"),n=this.minifiedWidget.container.getElementById("tawkchat-status-agent-container");e?(e=(e=B.agentProfiles[e]).pi?R.agentImgUrl+"/"+e.pi:"")&&("round"===T.mobileWidget()&&(i.style.display="none"),t.style.backgroundImage="url('"+e+"')",n.style.display="block"):(i.style.display="inherit",t.style.backgroundImage=null,n.style.display="none")},Be.prototype.handleRestartChat=function(){p.formHandler.closeForm(),t.chatStarted()},Be.prototype.toggleWidget=function(){p.sessionHandler.notifyWindowState(this.isMaximized?"min":"max")},Be.prototype.toggleVisibility=function(){this.scrollToBottom(),(this.isVisibilityToggled=!this.isVisibilityToggled)?this.hideWidget():this.showWidget()},Be.prototype.isWidgetHidden=function(){return!this.iframeContainer.isVisible};var Re=function(e){Be.call(this,e)};(Re.prototype=new Be).init=function(){this.renderBottomWidget(),this.addResizeEvents(),this.resizeHandler()},Re.prototype.renderMinifiedBox=function(){var e=(1/this.zoom.toFixed(2)).toFixed(2);this.scaleContent(.2>e?.2:e)};var He=function(e){Be.call(this,e)};(He.prototype=new Be).init=function(){this.renderBottomWidget(),this.addResizeEvents(),this.resizeHandler()},He.prototype.isLandscape=function(){return 0!==l.orientation},He.prototype.getZoom=function(){this.zoom=(this.isLandscape()?screen.height:screen.width)/l.innerWidth},He.prototype.renderMinifiedBox=function(){var e=(1/this.zoom.toFixed(2)).toFixed(2);this.scaleContent(e,!1)};var Ne=function(e){Be.call(this,e)};(Ne.prototype=new Be).init=function(){this.renderBottomWidget(),this.addResizeEvents(),this.resizeHandler()},Ne.prototype.renderMinifiedBox=function(){var e=(1/this.zoom.toFixed(2)).toFixed(2);this.scaleContent(e,!0)};var Pe=function(e){Be.call(this,e),this.screenWidth=0};(Pe.prototype=new Be).init=function(){this.renderBottomWidget(),this.addResizeEvents(!0),this.resizeHandler()},Pe.prototype.isLandscape=function(){return 0!==l.orientation},Pe.prototype.getZoom=function(){this.isLandscape()?this.screenWidth=screen.height:this.screenWidth=screen.width,this.zoom=this.screenWidth/l.innerWidth},Pe.prototype.renderMinifiedBox=function(){var e;e=this.isMobileOptimizedWebsite()?(.2*this.screenWidth/this.minifiedBoxWidth).toFixed(2):(1/this.zoom.toFixed(2)).toFixed(2),this.scaleContent(e,!0)};var Me=function(e){Be.call(this,e)};(Me.prototype=new Be).init=function(){this.renderBottomWidget(),this.addResizeEvents(),this.resizeHandler()},Me.prototype.renderMinifiedBox=function(){this.scaleContent()};var Ae=function(e){Be.call(this,e)};(Ae.prototype=new Be).init=function(){this.renderBottomWidget(),this.checkMetaContent(),this.addResizeEvents(),this.resizeHandler()},Ae.prototype.renderMinifiedBox=function(){var e=(1/this.zoom.toFixed(2)).toFixed(2);this.scaleContent(e,!0)};var Fe=function(e){Be.call(this,e)};(Fe.prototype=new Be).init=function(){var e;"ie"===this.browser&&((e=document.createElement("meta")).httpEquiv="X-UA-Compatible",e.setAttribute("content","IE=edge"),document.getElementsByTagName("head")[0].appendChild(e)),this.renderBottomWidget(),this.addResizeEvents(),this.resizeHandler()},Fe.prototype.renderMinifiedBox=function(){var e=(1/this.zoom.toFixed(2)).toFixed(2);this.scaleContent(.2>e?.2:e)};var ze=function(e){Be.call(this,e)};(ze.prototype=new Be).init=function(){this.renderBottomWidget(),this.addResizeEvents(),this.resizeHandler()},ze.prototype.renderMinifiedBox=function(){var e=(1/this.zoom.toFixed(2)).toFixed(2);this.scaleContent(.2>e?.2:e)};var Le=we.extend({init:function(){var e,i,n,a,o=this;this._super(this),this.clickEvent="touchend",this.iframeContainer=new ge(A.getRandomName(),"border: 0 none; padding: 0; margin: 0; z-index: 9999999; width: 100%; height: 100%; display: none; position : fixed; top :0; bottom : 0; min-width: 0 !important; min-height: 0 !important; max-width: none !important; max-height: none !important;"),t=new Ee(this.tawktoLinkName,this.bottomContainerName),this.indicator=new be,this.iframeContainer.addChildViews([t.container]),this.iframeContainer.buildView(),e=document.getElementsByTagName("head")[0],i=document.createDocumentFragment(),n=A.createElement(document,"style",{type:"text/css"}),a=document.createTextNode(p.ResetStyle+""+p.MaximizedStyle+T.maxStyle()),n.styleSheet?n.styleSheet.cssText=a.nodeValue:n.appendChild(a),i.appendChild(n),e.appendChild(i),this.chatContainer=t.container,t.wrapper.addClass("mobile"),B.rating.subscribe(function(e){o.changeRating(e)}),R.pageStatus.subscribe(function(e){o.updateViewByStatus(e)}),T.maxStyle.subscribe(function(){t&&t.container.elementReferrer&&t.container.insertCssFile(T.maxStyle(),!0)}),p.chatHandler.hasChatStarted.subscribe(function(e){t.toggleEndChatOption(e)})},show:function(){t.show(),this.updateViewByStatus(R.pageStatus()),this._super(),p.socketManager.sendToConnector("popupOnFocus",!0)},updateViewByStatus:function(e){this._super(e),t&&"preChatForm"!==p.formHandler.currentForm&&"offlineForm"!==p.formHandler.currentForm&&T.isPopup&&(e=o.getShortMessage(e),document.title=e?S.pageName()+" - "+A.rawDecode(e):S.pageName())},handleEndChat:function(){t.chatEnded(),this.hideWidget()},handleRestartChat:function(){t.chatStarted()}});Le.prototype.begin=function(){var e=C;if(document.body.appendChild(this.iframeContainer.elementReferrer),"symbian"!==e&&"ie"!==e&&"opera"!==e&&"android2.3"!==e||(this.clickEvent="click"),t.buildView(),A.isTouchDevice()&&("android"===C||"android2"===C||"android2.3"===C)){e=this.chatContainer.getElementById("chatContainer");var i=this.chatContainer.getElementById("menuScrollable");this.addOverflowScroll(e),this.addOverflowScroll(i),e.style.overflow="hidden",i.style.overflow="hidden"}p.audioPlayer.initAudioPlayer()},Le.prototype.hideWidget=function(){p.socketManager.sendToConnector("popupOnFocus",!1),setTimeout(function(){1<l.history.length?l.history.back():l.close()},200)},Le.prototype.showWidget=function(){this.scrollToBottom(),this.iframeContainer.show()},Le.prototype.resetView=function(){var e,t;(e=this.chatContainer)&&((e=e.getElementById("chatWrapper"))&&(t=e.lastChild,e.innerHTML="",e.appendChild(t)),this.show())},Le.prototype.addOverflowScroll=function(e){var i=0,n=this;p.eventHandler.listen(e,"touchstart",function(t){i=e.scrollTop+t.touches[0].pageY},"mobiletouchstart"+e.id),p.eventHandler.listen(e,"touchmove",function(a){p.eventHandler.cancelEvent(a),20>=a.touches[0].pageY||0>i-a.touches[0].pageY||(e.scrollTop=i-a.touches[0].pageY,t.isScrollbarDown=n.ifScrollbarDown())},"mobiletouchmove"+e.id)},Le.prototype.addEmojiToInput=function(e){t.addEmojiToInput(e)},Le.prototype.closeEmojiSelection=function(){t.closeEmojiSelection()};var Oe=function(){var t=this,i=!1;this.onActivityHandler=function(){p&&(t.away&&e.connected&&p.socketManager.sendToConnector("notifySocketStatusUpdate","online"),t.active=!0,t.away=!1)},this.popupOnFocusHandler=function(){p&&(!e.connected&&p.socketManager.isForcedDisconnect()?p.main.criticalRefresh(R.serverVersion,!1,!0):(t.hasFocus||(t.active=!0,t.hasFocus=!0,e.connected&&p.socketManager.sendToConnector("popupOnFocus",!0)),t.away&&e.connected&&p.socketManager.sendToConnector("notifySocketStatusUpdate","online"),t.away=!1))},this.popupOnBlurHandler=function(){p&&(t.hasFocus=!1,e.connected&&p.socketManager.sendToConnector("popupOnFocus",!1))},this.reconnectOnActivity=function(){p&&!i&&(i=!0,p.main.criticalRefresh(R.serverVersion))},this.away=this.active=this.hasFocus=!1,this.interval=this.awayTimeout=this.inactivityTimeout=null,this.initActivityReset=function(){t.resetTimeout(),t.setupListeners(),t.interval=setInterval(function(){t.active&&(t.resetTimeout(),t.active=!1)},1e4)}};Oe.prototype.resetTimeout=function(){var t=this;clearTimeout(this.inactivityTimeout),clearTimeout(this.awayTimeout),this.awayTimeout=setTimeout(function(){!t.away&&p&&(t.away=!0,p&&p.socketManager&&e.connected&&p.socketManager.sendToConnector("notifySocketStatusUpdate","away"))},6e5),p&&!p.socketManager.isForcedDisconnect()&&(this.inactivityTimeout=setTimeout(function(){t.inactivityTimeoutHandler()},12e5))},Oe.prototype.inactivityTimeoutHandler=function(){p&&(p.socketManager.disconnectConnector(),T.isEmbedded?p.formHandler.openForm("inactivityOverlay"):R.chatWindowState("min"),C?(p.eventHandler.listen(p.viewHandler.chatContainer.documentRef,"touchmove",this.reconnectOnActivity,"acitmmousemove"),p.eventHandler.listen(p.viewHandler.chatContainer.documentRef,p.viewHandler.clickEvent,this.reconnectOnActivity,"acitmclick"),p.eventHandler.listen(p.viewHandler.chatContainer.documentRef,"keydown",this.reconnectOnActivity,"acitmkeydown"),p.eventHandler.listen(document,"touchmove",this.reconnectOnActivity,"acitmousemove"),p.eventHandler.listen(document,p.viewHandler.clickEvent,this.reconnectOnActivity,"acitclick"),p.eventHandler.listen(document,"keydown",this.reconnectOnActivity,"acitkeydown")):(p.eventHandler.listen(document,"mousemove",this.reconnectOnActivity,"acitmousemove"),p.eventHandler.listen(document,"click",this.reconnectOnActivity,"acitclick"),p.eventHandler.listen(document,"keydown",this.reconnectOnActivity,"acitkeydown"),document.onfocusin?p.eventHandler.listen(document,"focusin",this.reconnectOnActivity,"acitfocus"):p.eventHandler.listen(l,"focus",this.reconnectOnActivity,"acitfocus")),p.viewHandler.indicator.pageTitleNotification.off())},Oe.prototype.cleanUp=function(){clearInterval(this.interval),clearTimeout(this.inactivityTimeout),clearTimeout(this.awayTimeout)},Oe.prototype.setupListeners=function(){C?(p.eventHandler.listen(p.viewHandler.chatContainer.documentRef,"touchmove",this.onActivityHandler,"acmmousemove"),p.eventHandler.listen(p.viewHandler.chatContainer.documentRef,p.viewHandler.clickEvent,this.onActivityHandler,"acmclick"),p.eventHandler.listen(p.viewHandler.chatContainer.documentRef,"keydown",this.onActivityHandler,"acmkeydown"),p.eventHandler.listen(document,"touchmove",this.onActivityHandler,"acmousemove"),p.eventHandler.listen(document,p.viewHandler.clickEvent,this.onActivityHandler,"acclick"),p.eventHandler.listen(document,"keydown",this.onActivityHandler,"ackeydown")):T.isPopup?(document.onfocusin?(p.eventHandler.listen(document,"focusin",this.popupOnFocusHandler,"acfocus"),p.eventHandler.listen(document,"focusout",this.popupOnBlurHandler,"acblur")):(p.eventHandler.listen(l,"focus",this.popupOnFocusHandler,"acfocus"),p.eventHandler.listen(l,"blur",this.popupOnBlurHandler,"acblur")),p.eventHandler.listen(document,"click",this.popupOnFocusHandler,"acphclick"),p.eventHandler.listen(document,"keydown",this.popupOnFocusHandler,"acphkeydown")):(p.eventHandler.listen(document,"mousemove",this.onActivityHandler,"acmousemove"),p.eventHandler.listen(document,"click",this.onActivityHandler,"acclick"),p.eventHandler.listen(document,"keydown",this.onActivityHandler,"ackeydown"))};var De=function(){var e=this;this.originalPageStatus=this.agentCountSubscription=this.setupTimeout=null,this.utcOffset=0,p.eventEmitter.on("scheduleUpdate",function(t){T.widgetId===t.wdgt&&(T.schedule=t.ws?e.convertOldScheduleFormat(t.ws.sch):null,T.scheduleTimezone=null===t.wstz?{}:{utc:t.wstz.utc,tzo:t.wstz.offset},e.setup())})};De.prototype.setup=function(){this.clear(),null===this.originalPageStatus&&(this.originalPageStatus=R.pageStatus()),T.schedule?(this.utcOffset=-1*((new Date).getTime()-T.scheduleTimezone.utc),this.calculate()):R.pageStatus(this.originalPageStatus)},De.prototype.calculate=function(){var e,t,i,n,a,o=this;if(this.clear(),T.schedule)if(0===T.schedule.length)this.goOffline();else{t=-6e4*(e=new Date).getTimezoneOffset(),t=T.scheduleTimezone.tzo-t,i=new Date(e.getTime()+this.utcOffset+t),e=i.getDay(),t=60*i.getHours()+i.getMinutes(),i=60*t+i.getSeconds();for(var r=0;r<T.schedule.length;r++){var s=T.schedule[r];if(s.day===e){if(t>=s.start&&t<s.end){n=s;break}if(t<s.start){a=s;break}}}void 0!==n?(this.goOnline(),n=60*n.end-i):(this.goOffline(),n=void 0!==a?60*a.start-i:86400-i+1),void 0!==n&&(this.setupTimeout=setTimeout(function(){o.calculate()},1e3*n))}},De.prototype.goOnline=function(){null!==this.agentCountSubscription&&(p.agents.totalAgents.unsubscribe(this.agentCountSubscription),this.agentCountSubscription=null),"offline"!==this.originalPageStatus&&R.pageStatus(this.originalPageStatus)},De.prototype.goOffline=function(){0!==p.agents.totalAgents()?(null!==this.agentCountSubscription&&p.agents.totalAgents.unsubscribe(this.agentCountSubscription),this.agentCountSubscription=p.agents.totalAgents.subscribe(function(e){0===e&&R.pageStatus("offline")})):R.pageStatus("offline")},De.prototype.clear=function(){clearTimeout(this.setupTimeout),this.setupTimeout=null,null!==this.agentCountSubscription&&(p.agents.totalAgents.unsubscribe(this.agentCountSubscription),this.agentCountSubscription=null)},De.prototype.cleanUp=function(){this.clear(),this.originalPageStatus=null},De.prototype.convertOldScheduleFormat=function(e){var t=[];return!e||Array.isArray(e)?e:(Object.keys(e).forEach(function(i){var n=e[i];0===n.start&&0===n.end||t.push({day:parseInt(i,10),start:Math.floor(n.start/6e4),end:Math.floor(n.end/6e4)})}),t)};var We=function(){this.registerTime=0,this.registerStart=null,this.maxRetrycount=3,this.retryCount=0,this.registerData=this.registerDelayTimeout=this.connectionCookieInterval=this.requestCancelTimeout=this.previousRegisterCall=null,this.registerStarted=!1,this.retryDelay=null,this.retryInitialDelay=30,this.retryMultiplier=1.5,this.minRandom=.5,this.maxRandom=1.5,this.maxDelay=120,this.retryRegisterTimeout=null};We.prototype.register=function(){this.registerStarted=!0,this.clearTimers(),this.prepareData()},We.prototype.prepareData=function(){var e,t,i,n="",a="";p&&(e=$.getSessionInformation(),t=R.sessionKey||void 0,e.length&&(a=e[0]),(-900>(i=(new Date).getTimezoneOffset())||900<i)&&(i=0),this.registerData?(this.registerData.k=t,this.registerData.d=a):(n=p.browserData.getReferredSearchEngine(),this.registerData={a:S.pageId||"",k:t,w:T.widgetId,d:a,mb:C?1:0,m:i,s:n,q:"",r:document.referrer,wlh:A.h(h["default-branding"])}),this.registerData.cf=3===e.length&&"cf"===e[2]?1:0,p.main.maximize&&(this.registerData.h="max"),this.registerData.wv=T.widgetVersion,T.isPopup&&R.transferKey&&R.sessionKey&&(this.registerData.tk=R.transferKey),p.main.previousSessionKey=this.registerData.k,this.getUUID())},We.prototype.getUUID=function(){var e,t,i,n=!1,a=1/0,o=p.punycode.toASCII(l.location.hostname);"www."===o.substring(0,4)&&(o=o.replace("www.",""));for(var r=0,s=(e=$.getStoredUUID()).length;r<s;r++){var c,d,h,m;if(4===(m=$.parseSessionInformation(e[r])).length)if(c=m[0],d=m[1],h=m[2],m=m[3],"e"===c){if(o===d){t=h,i=m;break}}else"p"===c&&(c=o.match(d))&&o.substr(c.index)===d&&c.index<a&&(a=c.index,t=h,i=m,n=!0)}this.registerData&&(this.registerData.u=t,this.registerData.uv=i,n&&(this.registerData.uw=!0)),this.startRegister()},We.prototype.abort=function(){null!==this.previousRegisterCall&&(Y.abort(this.previousRegisterCall),this.previousRegisterCall=null)},We.prototype.setupRegisterTimeout=function(){var e=this;clearTimeout(this.requestCancelTimeout),this.requestCancelTimeout=setTimeout(function(){e.abort(),e.retryRegister()},9e4)},We.prototype.startRegister=function(){var e=$.getHTTPCookie("TawkConnectionTime");!(e=parseInt(e.length?e[0]:null,10))||1e3<(new Date).getTime()-new Date(e).getTime()?($.setHTTPCookie("TawkConnectionTime",(new Date).getTime(),!0),this.connectionCookieInterval=setInterval(function(){$.setHTTPCookie("TawkConnectionTime",(new Date).getTime(),!0)},100),this.doRegister()):this.delayRegister()},We.prototype.delayRegister=function(){var e=this;clearTimeout(this.registerDelayTimeout),this.registerDelayTimeout=setTimeout(function(){e.register()},1e3)},We.prototype.doRegister=function(){var e=R.visitorAppServer+"/register/",t=this;this.registerStart=(new Date).getTime(),this.setupRegisterTimeout(),e+=this.registerStart,this.previousRegisterCall=Y.xhrRequest(e,this.registerData,function(e,i){if(!e&&!i)return t.clearTimers(),t.retryRegister();p&&p.main.begin(JSON.parse(A.trim(i)))})},We.prototype.retryRegister=function(){var e,t=this;null===this.retryRegisterTimeout&&(this.retryCount>=this.maxRetrycount?(this.clearTimers(),p&&p.main.hideWidget()):(this.retryCount++,e=this.getRetryWaitDelay(),this.retryRegisterTimeout=setTimeout(function(){t.register()},e)))},We.prototype.resetRetryCount=function(){this.retryCount=0,this.retryDelay=10},We.prototype.getRetryWaitDelay=function(){var e,t=Math.random()*(this.maxRandom-this.minRandom)+this.minRandom;return null===this.retryDelay?this.retryDelay=this.retryInitialDelay:(e=this.retryDelay*this.retryMultiplier,this.retryDelay=this.retryDelay>this.maxDelay||e>this.maxDelay?this.maxDelay:e),1e3*Math.round(this.retryDelay*t)},We.prototype.clearTimers=function(){this.abort(),clearTimeout(this.requestCancelTimeout),clearTimeout(this.registerDelayTimeout),clearTimeout(this.retryRegisterTimeout),clearInterval(this.connectionCookieInterval),$.setHTTPCookie("TawkConnectionTime",0,!0),this.connectionCookieInterval=this.requestCancelTimeout=this.registerDelayTimeout=this.retryRegisterTimeout=null};var Ue=function(){};Ue.prototype.processSettings=function(e){var t,i,n,a=14,o="",r="",s="";i=t=60,e.wv<T.widgetVersion||(Tawk_API.embedded&&(T.isEmbedded=!0),T.isHeaderCompact=!1,T.isLegacyLayout=e.isLegacyLayout||!0,T.widgetVersion=e.wv,T.onClickAction=e.woc,T.hideWidgetOnLoad=e.hwol,T.hideWidgetOnOffline=e.hwof,T.hideWidget=!!e.dsw,T.showAgentBar=!e.hab,T.showWaitTime=!e.hwt,T.locale=e.lc,T.onlineGreeting=e.onlineGreeting,T.awayGreeting=e.awayGreeting,T.schedule=p.scheduler.convertOldScheduleFormat(e.ws),T.soundOn(!e.dws),T.showAgentTyping=e.atyping,T.showUploads(e.uploads),T.showRating(e.rating),T.showVisitorTyping(e.vtyping),T.showEmoji(e.emoji),T.showMessagePreview(e.mprvw),T.showUnreadInTab(e.tbi),T.isRTL(0<=A.rtlLangTab.indexOf(T.locale)),T.chatPosition(e.pos),"page"!==$_Tawk_WidgetId||C||(e.dw="min"),"full"===e.dw?(T.widgetOffsetX=10,T.widgetOffsetY=0):(T.widgetOffsetX=20,T.widgetOffsetY=20),C?T.mobileWidget(e.mw||"round"):T.desktopWidget(e.dw||"min"),T.maximizedDimensions({width:parseInt(e.w,10)||350,height:parseInt(e.h,10)||520}),T.isDesktopRectangle()&&(t=parseInt(e.minw,10)||320,i=parseInt(e.minh,10)||40),T.chatBubble(e.bbl),T.headerBgColor=e.thm.hbg||"#03a84e",T.headerTxtColor=e.thm.htx||"#ffffff",T.agentTextBgColor=e.thm.aBblBg||A.shadeColor(T.headerBgColor,-.1),T.agentTextColor=e.thm.aBblTx||"#ffffff",T.visitorTextBgColor=e.thm.vBblBg||"#e5e5e5",T.visitorTextColor=e.thm.vBblTx||"#33333",T.minimizedDimensions({width:t,height:i,position:e.pos}),T.topCorner=void 0!==e.thm.topc?e.thm.topc:T.isTopPositioned()?0:8,T.bottomCorner=void 0!==e.thm.btmc?e.thm.btmc:T.isTopPositioned()?8:0,(T.isEmbedded||T.isPopup)&&(T.topCorner=0,T.bottomCorner=0),this.processPrechatForm(e),this.processOfflineForm(e,e.grt),p&&(t=".theme-background-color{background-color: "+T.headerBgColor+";}",i=".theme-text-color{color: "+T.headerTxtColor+";}",T.showEmoji()&&(a+=30),T.showRating()&&(a+=30),T.showUploads()&&(a+=30),p.MinifiedStyle&&(n=T.topCorner+"px "+T.topCorner+"px "+T.bottomCorner+"px "+T.bottomCorner+"px !important;",messagePreviewRadius=T.topCorner+"px "+T.topCorner+"px "+T.topCorner+"px "+T.topCorner+"px !important;",bottomBorderRadius=".bottom-border-corner{border-bottom-left-radius:"+T.bottomCorner+"px !important; border-bottom-right-radius:"+T.bottomCorner+"px !important;}",topBorderRadius=".top-border-corner{border-top-left-radius:"+T.topCorner+"px !important; border-top-right-radius:"+T.topCorner+"px !important;}",r=r+t+i,r+=".border-corner{border-radius : "+n+"-moz-border-radius : "+n+"-webkit-border-radius : "+n+"}",r+=topBorderRadius,r+=bottomBorderRadius,r+="#tooLongMsgNotification {background-color: "+T.headerBgColor+"; color : "+T.headerTxtColor+"}",r+="#file-upload-drop-icon {color:"+T.headerBgColor+";}",r+="#tawkchat-status-container{left: 10px;}",r+="#short-message, #maximizeChat, #minimizeChatMinifiedBtn{line-height: "+T.minimizedDimensions().height+"px;}",r+=".bubble-text-color{color:"+(T.chatBubble()?T.chatBubble().fgc:"#ffffff")+";}",r+="#tawkchat-message-preview-messages-container .messageBody {background-color: #fff !important; color : #333 !important;}",r+="#textareaContainer.additionalPadding{padding-right: "+a+"px;}",r+=".rtl-direction #textareaContainer.additionalPadding{padding-left: "+a+"px;padding-right: 14px;}",T.minStyle(r),p.MinifiedStyle+=" "+p.CommonStyle),p.MaximizedStyle&&(o=o+(t=".theme-background-color{background-color: "+T.headerBgColor+";}")+(i=".theme-text-color{color: "+T.headerTxtColor+";}"),o+="#tooLongMsgNotification {background-color: "+T.headerBgColor+"; color : "+T.headerTxtColor+"}",o+="#file-upload-drop-icon {color:"+T.headerBgColor+";}",o+="#chatMenuControls li:hover {background-color: "+T.headerBgColor+";color: "+T.headerTxtColor+"}",o+="#formContainer>#emailTranscriptForm .form-header-icon, #changeNameForm .form-header-icon, #chatEndedForm .form-header-icon, #preChatForm .longFormContainer .form-header-icon {background-color:"+T.headerBgColor+";}",o+="#formContainer>#emailTranscriptForm::before, #changeNameForm::before, #chatEndedForm::before, #endChatForm::before {background-color:"+T.headerBgColor+"; border-color: "+T.headerBgColor+";}",o+="#formSubmit, #formSubmit-pc {background-color:"+T.headerBgColor+";}",o=T.isDesktopRectangle()?o+"#textareaWrapper, #actionsContainer{border-radius : 0px 0px "+T.bottomCorner+"px "+T.bottomCorner+"px !important ;}":o+"#textareaWrapper, #actionsContainer{border-radius : 0px 0px 5px 5px !important ;}",o+="button.theme-background-color:hover{background-color: "+A.shadeColor(T.headerBgColor,-.3)+"!important;}",o+=".agentChatContainer .message{background-color: "+T.agentTextBgColor+" !important; color : "+T.agentTextColor+" !important;}",o+=".agentTypingIndicator .dot{background-color: "+T.agentTextColor+" !important;}",o+=".visitorChatContainer .message, .visitorChatContainer .messageWrapper.error .message {background-color: "+T.visitorTextBgColor+" !important; color : "+T.visitorTextColor+" !important;}",o+=".upload-data {background-color: "+T.visitorTextBgColor+" !important; color : "+T.visitorTextColor+" !important;}",o+=".headerBoxLink .headerBoxIcon{color:"+T.headerTxtColor+";}",o+=".message.agentTypingIndicator::before,.message.agentTypingIndicator::after {border-color: transparent "+T.agentTextBgColor+" transparent transparent;}",o+=".visitorChatContainer .messageWrapper .message::after {border-color: transparent transparent transparent "+T.visitorTextBgColor+";}",o+=".agentChatContainer .messageWrapper .message::before,.agentChatContainer .messageWrapper .message::after {border-color: transparent "+T.agentTextBgColor+" transparent transparent;}",o+=".upload-data::before, .upload-data::after {border-color: transparent transparent transparent "+T.visitorTextBgColor+";}",o+=".agentNameCentered{color:"+T.headerTxtColor+";}",o+="#textareaContainer.additionalPadding{padding-right: "+a+"px;}",o+=".rtl-direction #textareaContainer.additionalPadding{padding-left: "+a+"px;padding-right: 14px;}",o+="#actionsContainer.mobile-typing #textareaContainer{padding-right: "+(a+27)+"px;}",o+=".rtl-direction #actionsContainer.mobile-typing #textareaContainer{padding-left: "+(a+27)+"px;}",T.maxStyle(o),p.MaximizedStyle+=" "+p.CommonStyle),p.MinifiedMobileStyle&&(s=s+t+i,bottomBorderRadius=".bottom-border-corner{border-bottom-left-radius:"+T.bottomCorner+"px !important; border-bottom-right-radius:"+T.bottomCorner+"px !important;}",topBorderRadius=".top-border-corner{border-top-left-radius:"+T.topCorner+"px !important; border-top-right-radius:"+T.topCorner+"px !important;}",s+=topBorderRadius,s+=bottomBorderRadius,T.mobMinStyle(s),p.MinifiedMobileStyle+=" "+p.CommonStyle)),e.cf&&(T.consentOption={text:e.cf.msg,buttons:[{textReplace:e.cf.btnAccpt,placeholder:"__CUSTOM_SUBMIT_BUTTON__"},{textReplace:e.cf.btnRjct,placeholder:"__CUSTOM_CLOSE_BUTTON__"}]},e.cf.plcyUrl&&(T.consentOption.text+="\n["+(e.cf.plcyUrlTxt||e.cf.plcyUrlTxt)+"]("+e.cf.plcyUrl+")")),A.updateFonts())},Ue.prototype.processPrechatForm=function(e){T.showPreChatForm=void 0!==e.prechatForm&&null!==e.prechatForm,T.showPreChatForm&&(T.prechatOptions=e.prechatForm)},Ue.prototype.processOfflineForm=function(e){e=e.offlineForm?e.offlineForm:{text:p.languageParser.translate("form","OfflineFormMessage"),shortMessage:p.languageParser.translate("status","offline"),fields:[{label:p.languageParser.translate("form","name"),isRequired:!0,type:"name"},{label:p.languageParser.translate("form","email"),isRequired:!0,type:"email"},{label:p.languageParser.translate("form","message"),isRequired:!0,type:"message"}]},T.offlineOptions=e},Ue.prototype.getPrechatFields=function(){return T.prechatOptions.fields},Ue.prototype.getOfflineFields=function(){return T.offlineOptions.fields},Ue.prototype.getShortMessage=function(e){var t=null;return"online"===e&&T.onlineGreeting?t=T.onlineGreeting.shortMessage:"away"===e&&T.awayGreeting?t=T.awayGreeting.shortMessage:"offline"===e&&T.offlineOptions&&(t=T.offlineOptions.shortMessage),t},Ue.prototype.getLongMessage=function(e){var t=null;return"online"===e&&T.onlineGreeting?t=T.onlineGreeting.longMessage:"away"===e&&T.awayGreeting?t=T.awayGreeting.longMessage:T.offlineOptions&&(t=T.offlineOptions.text),A.transformGreetings(t)},o=new Ue;var Ve=function(){var e=this;I.name.subscribe(function(e){I.displayName(A.parseVisitorName(e))}),p.eventEmitter.on("localeChanged",function(){I.displayName(A.parseVisitorName(I.name()))}),p.eventEmitter.on("visitorDataUpdate",function(t){e.updateVisitorInformation(t)}),p.eventEmitter.on("requestEmailTranscript",function(e,t){e.chatEndVersion=B.chatEndVersion,p.chatHandler.hasChatEnded?p.socketManager.sendToConnector("notifyEndChatTranscript",e,t):p.socketManager.sendToConnector("notifyEmailTranscript",e,t)})};Ve.prototype.updateVisitorUUID=function(e){var t=JSON.parse(e.uuids);I.uuid=e.uuid,I.uuidVer=e.uver||0,t&&(Object.keys(t.e).forEach(function(e){I.uuids.push({isExact:!0,domain:e,uuid:t.e[e]})}),Object.keys(t.p).forEach(function(e){I.uuids.push({isExact:!1,domain:e,uuid:t.p[e]})})),$.storeUUID()},Ve.prototype.updateVisitorInformation=function(e){e.n&&A.isString(e.n)&&I.name(e.n),e.te&&A.isString(e.te)&&(I.transcriptEmail=e.te),e.e&&A.isString(e.e)&&I.email(e.e),e.vid&&(I.visitorId=e.vid),e.dpt&&A.isString(e.dpt)&&(B.chatDepartment=e.dpt),e.pcfs&&R.prechatFormSubmitted(!0)},Ve.prototype.setNameFromForm=function(e){p.visitorHandler.setNameValue(e),s.triggerApiHandlers("onVisitorNameChanged",e.name)},Ve.prototype.getNameValue=function(){return I.name()===I.displayName()?I.name():""},Ve.prototype.setNameValue=function(e){I.name(A.rawEncode(e.name))},Ve.prototype.getTranscriptEmailValue=function(){return I.transcriptEmail},Ve.prototype.getEmailValue=function(){return I.email()||I.transcriptEmail},Ve.prototype.setEmailValue=function(e){I.email(e.email)},Ve.prototype.setTranscriptValue=function(e){e.name&&I.name(A.rawEncode(e.name)),I.transcriptEmail=e.transcriptEmail};var je=function(){var e=this;p.eventEmitter.on("chatBubbleClosed",function(){R.chatBubbleClosed(!0)}),p.eventEmitter.on("windowStateUpdated",function(e){R.chatWindowState(e.cw)}),p.eventEmitter.on("pageStatusUpdated",function(e){var t;e&&(t=e.ast)&&A.isString(t)&&A.isArray(e.dptst)&&e.asver>R.pageStatusVersion&&(p.scheduler.originalPageStatus=e.ast,R.pageStatusVersion=e.asver,R.departments=e.dptst,R.pageStatus(e.ast),p.scheduler.calculate())}),p.eventEmitter.on("submitPrechatForm",function(t,i){e.formatPrechatData(t,i)}),p.eventEmitter.on("submitOfflineForm",function(t,i){e.formatOfflineData(t,i)}),R.pageStatus.subscribe(function(e){s.triggerApiHandlers("onStatusChange",e)}),p.eventEmitter.on("visitorTagsUpdate",function(e){s.triggerApiHandlers("onTagsUpdated",e)})};je.prototype.closeBubble=function(){R.chatBubbleClosed(!0),p.socketManager.sendToConnector("notifyChatBubbleClosed")},je.prototype.getDeparmentOptions=function(){var e,t,i,n=[],a=R.departments;for(a.sort(function(e,t){var i=A.rawDecode(e.n).toLowerCase(),n=A.rawDecode(t.n).toLowerCase();return i<n?-1:i>n?1:0}),e=0,t=a.length;e<t;e++)i=a[e],n.push({text:i.n+" ("+p.languageParser.translate("status",i.st)+")",value:i.did,selected:B.chatDepartment===i.did});return n},je.prototype.getDeparmentName=function(e){var t,i,n=R.departments;for(t=0,i=n.length;t<i;t++)if(n[t].did===e)return A.rawDecode(n[t].n);return e},je.prototype.formatFormData=function(e,t){var i,n,a,o={questions:[]};for(i=0,n=t.length;i<n;i++){if("name"===(a=t[i]).type&&(o.name=e[a.id]),"email"===a.type&&(o.email=e[a.id]),"department"===a.type){if(!e[a.id]||"0"==e[a.id])continue;o.department=e[a.id],e[a.id]=this.getDeparmentName(e[a.id])}e[a.id]&&0!==e[a.id].length&&(A.isArray(e[a.id])?o.questions.push({label:A.rawDecode(a.label),answer:e[a.id].join(", ")}):o.questions.push({label:A.rawDecode(a.label),answer:e[a.id]}))}return o},je.prototype.formatPrechatData=function(e,t){var i=this,n=this.formatFormData(e,o.getPrechatFields());p.socketManager.sendToConnector("notifyPrechat",n,function(e){if(e)return t(e,n);s.triggerApiHandlers("onPrechatSubmit",n.questions),p.viewHandler.indicator.pageTitleNotification.off(),i.handlePrechatSave(n,t)})},je.prototype.handlePrechatSave=function(e,t){var i,n,a="";if(e.name&&p.visitorHandler.setNameValue(e),e.email&&p.visitorHandler.setEmailValue(e),R.prechatFormSubmitted(!0),0===e.questions.length)return t(null,e);if(0<e.questions.length)for(i=0,n=e.questions.length;i<n;i++)a+=A.rawDecode(e.questions[i].label)+" : "+e.questions[i].answer,i!==n-1&&(a+="\r\n");p.chatHandler.sendMessageToServer(a,null,function(i){i.error||(p.chatHandler.prepareMessage({ut:"v",t:"c",m:A.rawEncode(a),co:new Date,uid:I.visitorId},!1,!1,!0),p.viewHandler.addWaitTime()),t(i.error,e)})},je.prototype.formatOfflineData=function(e,t){var i=this.formatFormData(e,o.getOfflineFields());i.questions.unshift({label:p.languageParser.translate("form","SubmittedFrom"),answer:l.location.href}),p.socketManager.sendToConnector("notifyOfflineMessage",i,function(e){if(e)return t(e,i);s.triggerApiHandlers("onOfflineSubmit",i),t(null,i)})},je.prototype.visitorChatDismiss=function(e){var t;p.chatHandler.messages&&(t=(t=Object.keys(p.chatHandler.messages))[t.length-1],(t=p.chatHandler.messages[t])&&t.co&&(t=new Date(t.co).getTime(),p.socketManager.sendToConnector("visitorChatDismiss",{timestamp:t},function(t){if(t)return e(t);e(null)})))},je.prototype.notifyWindowState=function(e){R.chatWindowState(e),p.socketManager.sendToConnector("notifyWindowState",e)},je.prototype.addEvent=function(e,t,i){var n;"function"==typeof t&&(i=t,t=null),i=i||function(){},(n=this.secureWrapper({})).name=e,n.data=t,p.socketManager.sendToConnector("addEvent",n,i)},je.prototype.setAttributes=function(e,t,i){i=i||function(){},t?(s.visitor=s.visitor||{},e.name&&(s.visitor.name=e.name),e.email&&(s.visitor.email=e.email),e.hash&&(s.visitor.hash=e.hash)):e=this.secureWrapper(e),p.socketManager.sendToConnector("setAttributes",e,function(t){t||(e.name&&p.visitorHandler.setNameValue(e),e.email&&p.visitorHandler.setEmailValue(e)),i(t)})},je.prototype.addTags=function(e,t){var i;t=t||function(){},(i=this.secureWrapper({})).tags=e,p.socketManager.sendToConnector("addTags",i,t)},je.prototype.removeTags=function(e,t){var i;t=t||function(){},(i=this.secureWrapper({})).tags=e,p.socketManager.sendToConnector("removeTags",i,t)},je.prototype.secureWrapper=function(e){return"undefined"===e&&(e={}),s&&s.visitor&&(s.visitor.email&&(e.email=s.visitor.email),s.visitor.hash&&(e.hash=s.visitor.hash)),e},je.prototype.setVisitorAttributes=function(){var e={};s&&s.visitor&&(s.visitor.name&&(e.name=s.visitor.name),s.visitor.email&&(e.email=s.visitor.email),this.setAttributes(e,!1))};var qe=function(){var e=this;this.agentHasMessaged=this.visitorHasMessaged=!1,this.messageBuffer=[],this.messages={},this.agentsTyping=[],this.agentProfilesTyping=[],this.previousTextTime=this.previousText=this.lastMessageOwner=null,this.hasChatEnded=!1,this.hasChatStarted=g.observable(!1),this.hasWebRTCall=!1,p.eventEmitter.on("syncConversation",function(t){e.conversationUpdate(t)}),p.eventEmitter.on("incomingMessage",function(t){e.handleMessageFromServer(t)}),p.eventEmitter.on("agentIsTyping",function(t){T.showAgentTyping&&e.handleAgentTyping(t.rsc)}),p.eventEmitter.on("agentStopedTyping",function(t){e.handleAgentStoppedTyping(t.rsc)}),p.eventEmitter.on("newChatRating",function(t){e.changeRating(t.rsc,!0)}),p.eventEmitter.on("webrtcCallStatus",function(e){p.viewHandler.subscribeCallUpdate(e.clid)}),p.eventEmitter.on("visitorChatDismiss",function(e){p.viewHandler.closeMessagePreview(e)}),p.eventEmitter.on("visitorChatSeen",function(e){R.lastMessageTimestamp=e.lmst,p.viewHandler.clearUnseenNotification()})};qe.prototype.parseHistory=function(e){var t,i,n,a;(new Date).getTime();var o=n=0;for(this.noRedraw=!0,B.chatEndVersion=1,t=0,i=B.chatHistory.length;t<i;t++)"CHAT_ENDED"===B.chatHistory[t].m&&(n=t+1,B.chatEndVersion++);for(a=0<B.chatOrder?this.messages[B.chatOrder]:null,t=n,i=B.chatHistory.length;t<i;t++)(n=B.chatHistory[t]).md&&(!n.md||n.md.ao)||e&&a&&a.timeStamp>new Date(n.co).getTime()||("v"!==n.ut||this.visitorHasMessaged||"c"!==n.t||(o=(new Date).getTime()-A.getMilliseconds(n.co)),"WEBRTC_CALL"===n.m&&n.md&&n.md.webrtc?(this.hasWebRTCall=!0,p.viewHandler.subscribeCallUpdate(n.md.clid,!0)):this.prepareMessage(n,!0,!1,!1));this.noRedraw=!1,this.visitorHasMessaged&&!this.agentHasMessaged&&T.showWaitTime&&(R.waitTime=R.waitTime<o?6e4:R.waitTime-o,p.viewHandler.addWaitTime()),this.hasChatStarted(this.visitorHasMessaged||this.agentHasMessaged)},qe.prototype.handleIndicator=function(){p.viewHandler.indicator.show(),C&&(p.viewHandler.hasChatStarted=!0)},qe.prototype.handleMessageFromServer=function(e){var t=null;if(e.md&&e.md.ao)return B.chatVersion=e.cver;if("offline"===R.pageStatus()){if("a"!==e.ut)return;R.pageStatus("online")}if(!B.chatSynced)return B.chatBuffer.push(e);this.hasChatEnded&&this.startNewChat(),"WEBRTC_CALL"===e.m&&e.md&&e.md.webrtc?this.hasWebRTCall=!0:"CHAT_ENDED"!==e.m||this.hasChatEnded?("v"===e.ut&&"c"===e.t&&p.viewHandler.addWaitTime(),T.isPopup||"c"!==e.t||p.viewHandler.isMaximized||"v"===e.ut||T.isEmbedded||!C||(p.viewHandler.hasChatStarted=!0),B.chatVersion=e.cver,"s"===e.ut||"c"!==e.t||this.hasChatStarted()||(this.hasChatStarted(!0),s.triggerApiHandlers("onChatStarted",{chatId:B.chatId})),"c"===e.t?"a"===e.ut?e.md&&e.md.file?s.triggerApiHandlers("onFileUpload","https://tawkto.link/"+e.md.file.name):s.triggerApiHandlers("onChatMessageAgent",e.m):"s"===e.ut&&s.triggerApiHandlers("onChatMessageSystem",e.m):"n"===e.t&&("AGENT_JOIN_CONVERSATION"===e.m?(e.md&&e.md.pi&&e.md.pi.length&&(t="https://s3.amazonaws.com/talk-pi/"+e.md.pi),s.triggerApiHandlers("onAgentJoinChat",{name:e.n,position:e.md.pst,image:t,id:e.uid})):"AGENT_LEFT_CONVERSATION"===e.m&&s.triggerApiHandlers("onAgentLeaveChat",{name:e.n,id:e.uid})),this.prepareMessage(e,!1),p.scheduler.calculate()):(B.chatId=e.md.nchid,this.endChat(e.md.cev))},qe.prototype.prepareMessage=function(e,t,i,n){var a,o,r,s,l=!0;"n"===e.t&&"v"===e.ut?"VISITOR_RATING"===e.m&&this.changeRating(e.md.rt,!0):("v"===e.ut?(a=I.displayName(),o=e.uid):(a=e.n,"a"===e.ut?o=B.profiles[e.md.rsc]:"s"===e.ut&&e.md&&(s=e.md.pi)),"n"!==e.t||"AGENT_JOIN_CONVERSATION"!==e.m&&"AGENT_LEFT_CONVERSATION"!==e.m||(l=!1,p.agents.updateAgentPresence(e.m,e.md,e.n,e.md.rsc,!i)),l&&(r||(r=this.parseText(e.m)),void 0===t&&(t=!0),e.timeStamp=new Date(e.co).getTime(),e.messageId=p.viewHandler.appendMessage({message:r,name:a,type:e.t,time:e.co,data:e.md,isPending:!1,senderType:e.ut,ownerId:o,dontPlaySound:t,profileImg:s,reDisplay:n,timeStamp:e.timeStamp}),n||B.chatOrder++,this.messages[B.chatOrder]=e))},qe.prototype.parseText=function(e){if(e)return e=e.replace(A.regLineBreaks,A.br),this.createUrl(e.split(/\s/)," ")},qe.prototype.createUrl=function(e,t){function i(e){return p.chatHandler.parseUrl(e)}function n(e){return p.chatHandler.parseEmail(e)}var a,o,r;for(o=0,r=e.length;o<r;o++)-1!==e[o].indexOf(A.br)?(a=e[o].split(A.regBr),e[o]=this.createUrl(a,A.br)):e[o].match(A.regEmailMatch)?e[o]=e[o].replace(A.regEmailMatch,n):(e[o]=e[o].replace(A.regMatchUrl,i),e[o]=e[o].replace(A.regMatchIp,i));return e.join(t)},qe.prototype.parseUrl=function(e){var t,i="";return void 0!==te&&te.unifyUnicode(e)!==e?e:(e.match(A.regEmailMatch)&&(i="mailto:"),"mailto:"===i?(-1!==(t=e.match(A.regEmailMatch)[0]).indexOf("mailto")&&(i=""),e.replace(A.regEmailMatch,'<a href="'+(i+t)+'" title="'+(i+t)+'" style="word-wrap:break-word; white-space:normal;>'+t+"</a> ")):(0!==e.toLowerCase().indexOf("http")&&0!==e.toLowerCase().indexOf("ftp")&&(i="http://"),'<a target="_blank" href="'+(i+e)+'" title="'+(i+e)+'" style="word-wrap:break-word; white-space:normal;">'+e+"</a> "))},qe.prototype.parseEmail=function(e){var t="";return void 0!==te&&te.unifyUnicode(e)!==e?e:(-1===e.indexOf("mailto")&&(t="mailto:"),'<a href="'+(t+e)+'" title="'+(t+e)+'">'+e+"</a> ")},qe.prototype.sendTextPreview=function(e){var t,i,n=this;if(t=p.eventHandler.getTargetElement(e),13===e.keyCode&&!e.shiftKey&&!C)return p.eventHandler.cancelEvent(e),i=A.trim(t.value),t.value="",this.sendMessage(i);!this.keyDownTimeout&&T.showVisitorTyping()&&(this.keyDownTimeout=setTimeout(function(){i=A.trim(t.value),void 0!==te&&(i=te.toShort(i)),p.socketManager.sendToConnector("notifyMessagePreview",i),clearTimeout(n.keyDownTimeout),n.keyDownTimeout=0},1e3))},qe.prototype.sendMessage=function(e,t,i){var n=(new Date).getTime();if(e=A.trim(e),clearTimeout(this.keyDownTimeout),this.keyDownTimeout=0,!e)return!!i&&i();void 0!==te&&(e=te.toShort(e)),this.previousText&&this.previousTextTime&&this.previousText===e&&500>n-this.previousTextTime&&p.loggingHandler.logIncident("Double message occured",{previousText:this.previousText,currentText:e,currentT:n,previousT:this.previousTextTime}),this.previousTextTime=n,this.previousText=e,t=!!t,t=p.viewHandler.appendMessage({message:this.parseText(A.rawEncode(e)),name:I.displayName(),type:"c",time:new Date,isPending:!0,senderType:"v",ownerId:I.visitorId,dontPlaySound:t}),this.sendMessageToServer(e,t,i)},qe.prototype.sendMessageToServer=function(e,t,i){var n,a=this;i=i||function(e){p.viewHandler.handleAcknowledgment(e)},p.socketManager.sendToConnector("sendChatMessage",e,function(o,r,l){o||(n=++B.chatOrder,a.messages[n]={ut:"v",t:"c",m:A.rawEncode(e),co:r,messageId:t,uid:I.visitorId},B.chatVersion=l,a.hasChatStarted()||"offline"===R.pageStatus()||(a.hasChatStarted(!0),s.triggerApiHandlers("onChatStarted",{chatId:B.chatId})),s.triggerApiHandlers("onChatMessageVisitor",e)),i({error:o,messageId:t,order:n})})},qe.prototype.conversationUpdate=function(e){var t,i,n=(e=e||{}).cver||0,a=e.c||[];if(i=B.chatBuffer,B.chatSynced=!0,!(B.chatVersion>=n)){for(e=0,t=i.length;e<t;e++)i[e].cver>n&&a.push(i[e]);for(e=0,t=a.length;e<t;e++)(i=a[e]).md&&i.md.ao||this.prepareMessage(i,!1);this.visitorHasMessaged&&!this.agentHasMessaged&&T.showWaitTime&&p.viewHandler.addWaitTime(),B.chatVersion=n,this.isScrollbar=p.viewHandler.isChatScrollbar(),p.viewHandler.scrollToBottom()}},qe.prototype.handleAgentTyping=function(e){var t=B.profiles[e];t&&B.agentProfiles[t]&&!this.agentsTyping[e]&&(this.agentsTyping[e]=!0,this.agentProfilesTyping[t]?this.agentProfilesTyping[t]++:(this.agentProfilesTyping[t]=1,p.viewHandler.appendAgentIsTypingElement(t)))},qe.prototype.handleAgentStoppedTyping=function(e){var t=B.profiles[e];this.agentsTyping[e]&&delete this.agentsTyping[e],!this.agentProfilesTyping[t]||0<--this.agentProfilesTyping[t]||(delete this.agentProfilesTyping[t],p.viewHandler.removeAgentTypingElement(t))},qe.prototype.changeRating=function(e,t){B.rating()===e&&(e=0),B.rating(e),t||(p.socketManager.sendToConnector("setRating",e),s.triggerApiHandlers("onChatSatisfaction",B.rating()))},qe.prototype.toggleSound=function(e){var t=!T.soundOn();void 0!==e&&(t=e),T.soundOn(t),void 0===e&&p.socketManager.sendToConnector("toggleSound",t)},qe.prototype.clearChatMessages=function(){this.agentHasMessaged=this.visitorHasMessaged=!1,this.messageBuffer=[],this.messages={},this.agentsTyping=[],this.agentProfilesTyping=[],this.lastMessageOwner=null,B.chatOrder=0,B.chatSynced=!1,B.chatBuffer=[]},qe.prototype.startNewChat=function(){this.clearChatMessages(),p.viewHandler.removeWaitTime(),p.viewHandler.resetView(),p.viewHandler.handleRestartChat(),B.chatSynced=!0,C||("max"===R.chatWindowState()?p.viewHandler.maximizeWidget():p.viewHandler.minimizeWidget()),this.hasChatEnded=!1},qe.prototype.endChat=function(e){p.viewHandler.handleEndChat(),p.agents.clearAgents(),this.hasChatEnded=!0,this.hasChatStarted(!1),B.chatEndVersion=e,s.triggerApiHandlers("onChatEnded")},qe.prototype.sendFileMessage=function(e){var t=this,i={fileName:e.filename,name:e.name,type:e.extension,mimeType:e.mimeType,size:e.size};p.socketManager.sendToConnector("fileUploadMessage",i,function(n,a,o){n||(p.viewHandler.fileUploaded(e.handle),i.fileName=A.rawEncode(i.fileName),messageId=p.viewHandler.appendMessage({message:"FILE",name:I.displayName(),type:"c",time:a,isPending:!1,senderType:"v",ownerId:I.visitorId,dontPlaySound:!0,data:{file:i}}),chatOrder=++B.chatOrder,t.messages[chatOrder]={ut:"v",t:"c",m:"FILE",co:a,messageId:messageId,uid:I.visitorId,md:{file:i}},B.chatVersion=o,s.triggerApiHandlers("onFileUpload","https://tawkto.link/"+i.name))})},qe.prototype.isChatOngoing=function(){return!this.hasChatEnded&&this.visitorHasMessaged&&0<p.agents.totalAgents()},qe.prototype.isVisitorEngaged=function(){return!this.hasChatEnded&&this.visitorHasMessaged},qe.prototype.triggerEndChat=function(){var e=this;p.socketManager.sendToConnector("endVisitorChat",{},function(t,i){t||(B.chatId=i.nextChatId,e.endChat(i.chatEndVersion))})},qe.prototype.getMessageObjectById=function(e){var t,i=null;for(t in this.messages)if(this.messages[t].messageId===e){i=this.messages[t];break}return i};var Ge=function(){this.agentsCount=0,this.totalAgents=g.observable(0)};Ge.prototype.updateAgentPresence=function(e,t,i,n,a){if(!T.showAgentBar)return!0;if("AGENT_JOIN_CONVERSATION"!==e&&"AGENT_LEFT_CONVERSATION"!==e)return!1;switch(e){case"AGENT_JOIN_CONVERSATION":return this.addAgentToList(t,i,n,a);case"AGENT_LEFT_CONVERSATION":return this.removeAgentFromList(t,n,a)}},Ge.prototype.addAgentToList=function(e,t,i,n){var a=B.agents[i];if(a){if(!(a.seq.time<e.seq.time||a.seq.time===e.seq.time&&a.seq.inc<e.seq.inc))return!1;if(a.seq=e.seq,a.pid===e.pid)return!1;this.changeAgentProfile(a.pid,n),a.pid=e.pid,B.profiles[i]=e.pid}else B.agents[i]=e,B.profiles[i]=e.pid;return!!e.pid&&(this.totalAgents(this.totalAgents()+1),void 0!==B.agentProfiles[e.pid]?(B.agentProfiles[e.pid].pi=e.pi,B.agentProfiles[e.pid].count++,!1):(t={pi:e.pi,pst:e.pst||"",pid:e.pid,n:t,count:1},B.agentProfiles[e.pid]=t,n&&p.viewHandler.appendAgent(t),!0))},Ge.prototype.changeAgentProfile=function(e,t){var i;i=B.agentProfiles[e],this.decrementProfileCount(e,t)&&t&&(i={message:p.languageParser.translate("chat","AGENT_LEFT_CONVERSATION",{n:"<b>"+i.n+"</b>"}),name:"",type:"n",time:new Date,isPending:!1,senderType:"a",ownerId:"",dontPlaySound:!0},B.chatOrder++,p.chatHandler.messages[B.chatOrder]=i,p.viewHandler.appendMessage(i))},Ge.prototype.removeAgentFromList=function(e,t,i){var n=B.agents[t];return n?(t=n.pid,(n.seq.time<e.seq.time||n.seq.time===e.seq.time&&n.seq.inc<e.seq.inc)&&(n.seq=e.seq,n.pid=null,this.totalAgents(this.totalAgents()-1),this.decrementProfileCount(t,i))):(B.agents[t]=e,!1)},Ge.prototype.decrementProfileCount=function(e,t){var i=B.agentProfiles[e];if(i)return i.count--,1>i.count&&(delete B.agentProfiles[e],t&&p.viewHandler.removeAgent(e),!0)},Ge.prototype.clearAgents=function(){this.agentsCount=0,this.totalAgents(0),B.agentProfiles={},B.agents={},B.profiles={},p.viewHandler.clearAgentFooter(),p.viewHandler.clearAgentHeader(),p.viewHandler.closeAgentList()};var Ye=function(){var e=this;this.stack=[],this.socketConnector=new me,this.events={},p.eventEmitter.on("socketReady",function(){e.clearStack()})};Ye.prototype.initConnector=function(){this.socketConnector.init()},Ye.prototype.sendToConnector=function(t,i,a){if(e.connected)if(void 0!==a||"function"==typeof i)this.safeCallback(t,i,a);else try{this.socketConnector.emit(t,i,a)}catch(e){n.handleError("Unable to emit to socket connector in sendToConnector for command : "+t+" with data :"+JSON.stringify(i),e.fileName,e.lineNumber,e.stack)}else this.addToStack(t,i,a)},Ye.prototype.addToStack=function(e,t,i){"sendChatMessage"===e&&delete this.events.notifyMessagePreview,"notifyMessagePreview"===e?this.events[e]={command:e,data:t,callback:i}:this.stack.push({command:e,data:t,callback:i})},Ye.prototype.clearStack=function(){var e=this;for(var t in this.stack.forEach(function(t){e.sendToConnector(t.command,t.data,t.callback)}),this.events)e.sendToConnector(e.events[t].command,e.events[t].data,e.events[t].callback);this.stack=[],this.events={}},Ye.prototype.safeCallback=function(e,t,i){var a,o;"function"==typeof t&&(i=t,t=null),a=setTimeout(function(){throw i(!0),Error("Socket server did not execute the callback for "+e+" with data : "+JSON.stringify(t))},35e3),o=function(){clearTimeout(a),o=function(){},i.apply(null,arguments)};try{null===t?this.socketConnector.emit(e,o):this.socketConnector.emit(e,t,o)}catch(i){n.handleError("Unable to emit to socket connector in safeCallback for command : "+e+" with data :"+JSON.stringify(t),i.fileName,i.lineNumber,i.stack)}},Ye.prototype.disconnectConnector=function(){this.socketConnector.disconnectSocket()},Ye.prototype.connectorListeningOn=function(e){return 0!==this.socketConnector.listeners(e).length},Ye.prototype.isForcedDisconnect=function(){return this.socketConnector.forceDisconnected};var Xe=function(){this.started=this.maximize=this.isDocumentReady=!1,this.previousSessionKey=null,this.waitingForLanguage=!1,this.startTime=e.startTime,this.versionReloadTimeout=null,this.dataIsReady=this.viewIsReady=!1};Xe.prototype.load=function(){var t=this;S.pageId=$_Tawk_AccountKey,T.widgetId=$_Tawk_WidgetId,void 0!==S.pageId&&void 0!==T.widgetId&&(o.processSettings(e.widgetSettings),this.init(),this.isDocumentReady||(p.eventHandler.listen(document,"DOMContentLoaded",function(){t.init()},"domloaded"),p.eventHandler.listen(document,"readystatechange",function(){("complete"===document.readyState||"interactive"===document.readyState&&document.body)&&t.init()},"domstatechange"),p.eventHandler.listen(l,"load",function(){t.init()},"windowload")),p.eventEmitter.on("removeWidget",function(e){t.removeWidget()}),p.eventEmitter.on("submitConsent",function(e){t.registerWithConsent()}))},Xe.prototype.init=function(){var e,t;"XMLHttpRequest"in l&&"withCredentials"in new XMLHttpRequest&&d.cookieEnabled&&!this.isDocumentReady&&(this.isDocumentReady=!0,!(t=A.parseQueryString()).$_tawk_beacon&&"operamini"!==C)&&((e=A.getReloadedScript())&&(e=A.parseQueryString(e.src),R.restarted=e.restarted,this.maximize=e.maximized),(s={disableSound:!!Tawk_API.disableSound,embedded:Tawk_API.embedded||null,visitor:Tawk_API.visitor||null,disableMobileBackHistory:!!Tawk_API.disableMobileBackHistory,isPopup:!!Tawk_API.isPopup,onBeforeLoad:{eventName:"tawkBeforeLoad",func:Tawk_API.onBeforeLoad},onLoad:{eventName:"tawkLoad",func:Tawk_API.onLoad},onStatusChange:{eventName:"tawkStatusChange",func:Tawk_API.onStatusChange},onChatMaximized:{eventName:"tawkChatMaximized",func:Tawk_API.onChatMaximized},onChatMinimized:{eventName:"tawkChatMinimized",func:Tawk_API.onChatMinimized},onChatHidden:{eventName:"tawkChatHidden",func:Tawk_API.onChatHidden},onChatStarted:{eventName:"tawkChatStarted",func:Tawk_API.onChatStarted},onChatEnded:{eventName:"tawkChatEnded",func:Tawk_API.onChatEnded},onPrechatSubmit:{eventName:"tawkPrechatSubmit",func:Tawk_API.onPrechatSubmit},onOfflineSubmit:{eventName:"tawkOfflineSubmit",func:Tawk_API.onOfflineSubmit},onChatMessageVisitor:{eventName:"tawkChatMessageVisitor",func:Tawk_API.onChatMessageVisitor},onChatMessageAgent:{eventName:"tawkChatMessageAgent",func:Tawk_API.onChatMessageAgent},onChatMessageSystem:{eventName:"tawkChatMessageSystem",func:Tawk_API.onChatMessageSystem},onAgentJoinChat:{eventName:"tawkAgentJoinChat",func:Tawk_API.onAgentJoinChat},onAgentLeaveChat:{eventName:"tawkAgentLeaveChat",func:Tawk_API.onAgentLeaveChat},onChatSatisfaction:{eventName:"tawkChatSatisfaction",func:Tawk_API.onChatSatisfaction},onVisitorNameChanged:{eventName:"tawkVisitorNameChanged",func:Tawk_API.onVisitorNameChanged},onFileUpload:{eventName:"tawkFileUpload",func:Tawk_API.onFileUpload},onTagsUpdated:{eventName:"tawkTagsUpdated",func:Tawk_API.onTagsUpdated},onUnreadCountChanged:{eventName:"tawkUnreadCountChanged"},triggerApiHandlers:function(e,t){var i=s[e];if(void 0!==i){if("onBeforeLoad"===e){if(Tawk_API.onBeforeLoaded)return;Tawk_API.onBeforeLoaded=!0}else if("onLoad"===e){if(Tawk_API.onLoaded)return;Tawk_API.onLoaded=!0}if(this.dispatch(i.eventName,t),"function"==typeof i.func)try{i.func(t)}catch(e){}}},dispatch:function(e,t){var i;e&&(i="function"==typeof l.CustomEvent?new CustomEvent(e,{detail:t}):new p.CustomEventIE(e,{detail:t}),l.dispatchEvent(i))}}).isPopup&&(R.transferKey=t.$_tawk_tk,R.sessionKey=t.$_tawk_sk,T.isPopup=!0),s.embedded&&(T.isEmbedded=!0,C=null),C?(T.isPopup?p.viewHandler=new Le:this.initRenderer(C),p.formHandler=new _e):(p.formHandler=new _e,p.viewHandler=new Ie),p.viewHandler&&(p.sessionHandler.setVisitorAttributes(),s.triggerApiHandlers("onBeforeLoad"),this.bootStrap()))},Xe.prototype.bootStrap=function(){var e=this;this.dataIsReady=this.viewIsReady=!1,setTimeout(function(){p.viewHandler.begin(),e.viewIsReady=!0,e.setupDone()},0),setTimeout(function(){a.register()},0)},Xe.prototype.initRenderer=function(e){switch(e){case"chrome":p.viewHandler=new Re(e);break;case"safari":p.viewHandler=new He(e);break;case"opera":p.viewHandler=new Ne(e);break;case"android":p.viewHandler=new Pe(e);break;case"android2.3":p.viewHandler=new Me(e);break;case"android2":p.viewHandler=new Fe(e);break;case"firefox":p.viewHandler=new Ae(e);break;case"ie":p.viewHandler=10>y?new Fe(e):new ze(e);break;case"blackberry":case"nokia":p.viewHandler=new Fe(e);break;case"uc":p.viewHandler=new Pe(e)}p.viewHandler&&p.viewHandler.init()},Xe.prototype.begin=function(e){a.registerStarted=!1,a.clearTimers(),a.registerTime=(new Date).getTime()-a.registerStart,a.registerStart=null,e.error?"USER_ERROR"===e.error||"SERVER_DOWN"===e.error?this.hideWidget():a.retryRegister():(p.activityManager.initActivityReset(),this.started?this.reinited(e):(this.started=!0,this.extractRegisterData(e),this.dataIsReady=!0,this.setupDone()))},Xe.prototype.extractRegisterData=function(t){t.wdgt&&(t.wdgt.lc!==e.widgetSettings.lc&&(this.waitingForLanguage=!0,A.insertScript("https://static-v.tawk.to/685/languages/"+t.wdgt.lc+".js")),o.processSettings(t.wdgt)),t.rcf&&T.consentOption?(this.needConsent=!0,T.showConsentForm=!0):(this.needConsent=!1,T.showConsentForm=!1),"max"!==T.onClickAction||C||(this.maximize="max"===t.cw,R.chatWindowState(t.cw)),R.criticalVersion=t.cjsv||0,R.visitorSocketServer=t.vss,R.sessionKey=t.sk,R.transferKey=t.tk,R.transferedSession=!!t.ts,R.serverVersion=t.jsv||0,this.needConsent||(p.visitorHandler.updateVisitorUUID(t),p.visitorHandler.updateVisitorInformation(t)),T.soundOn()&&T.soundOn(t.sdo),T.whiteLabel(t.wl),t.wl&&(T.key=A.h(t.wl.label)),T.scheduleTimezone=t.wstz,R.prechatFormSubmitted(!!t.pcfs),R.departments=A.isArray(t.dptst)?t.dptst.reverse():[],R.pageStatusVersion=t.asver||0,R.waitTime=t.ewt?1e3*t.ewt:6e4,S.tawkId=t.twid,S.pageName(A.rawDecode(t.pgn)),R.pageStatus(t.ast||"offline"),R.chatBubbleClosed(!!t.bblc),B.chatVersion=t.cver||0,B.chatDepartment=t.dpt||"any",B.chatHistory=t.c||[],B.chatId=t.chid,T.webRTCSettings(t.webrtc),T.brandingRedirect(t.otl),R.lastMessageTimestamp=t.lmst},Xe.prototype.initBuildChat=function(){p.chatHandler.parseHistory(),p.viewHandler.applyWhiteLabelSettings(),this.showWidget(),this.needConsent||(p.socketManager.initConnector(),delete e.init),e.ready=!0,s.triggerApiHandlers("onLoad")},Xe.prototype.reinited=function(e){var t=R.sessionKey;this.extractRegisterData(e),t!==e.sk?(p.chatHandler.clearChatMessages(),p.viewHandler.resetView(),p.agents.clearAgents()):(R.visitorSocketServer=e.vss,R.sessionKey=e.sk,R.transferKey=e.tk,R.transferedSession=!!e.ts,R.serverVersion=e.jsv||0,p.visitorHandler.updateVisitorUUID(e)),p.scheduler.setup(),p.viewHandler.updateViewByStatus(R.pageStatus()),p.chatHandler.parseHistory(!0),p.socketManager.initConnector()},Xe.prototype.criticalRefresh=function(t,i,n){var a=this,o=(new Date).getTime(),r="https://embed.tawk.to/"+S.pageId+"/"+$_Tawk_WidgetId+"?refresh=true&";if(T.isPopup)return l.location.reload(!!i);this.dataIsReady=this.viewIsReady=!1,this.removeWidget(),i&&(r+="restarted=true&"),n&&(r+="maximized=true&"),r+="v="+t||R.serverVersion||R.currentVersion,delete e.downloaded,A.insertScript(r,"TawkScript-"+o);var s=setInterval(function(){l.$_Tawk.startTime!==a.startTime&&(p=null,clearInterval(s),clearTimeout(a.versionReloadTimeout))},200)},Xe.prototype.removeWidget=function(){var e;p&&p.viewHandler&&p.viewHandler.iframeContainer&&(e=document.getElementById(p.viewHandler.iframeContainer.elementId)),a.clearTimers(),p.eventHandler.clearEvents(),p.activityManager.cleanUp(),p.socketManager.disconnectConnector(),p.eventEmitter.removeAllListeners(),p.scheduler.cleanUp(),clearTimeout(A.checkWhiteLabelRef),p.viewHandler.messagePreview&&p.viewHandler.messagePreview.hide(),void 0!==A.messagePreviewCheckWhiteLabelRef&&clearTimeout(A.messagePreviewCheckWhiteLabelRef),e&&e.parentNode.removeChild(e)},Xe.prototype.setupDone=function(t){t&&(p.languageParser.language=e.language,this.waitingForLanguage=!1),this.viewIsReady&&this.dataIsReady&&!this.waitingForLanguage&&this.initBuildChat()},Xe.prototype.showWidget=function(){p.scheduler.setup(),!T.isPopup&&T.hideWidgetOnLoad||p.viewHandler.show()},Xe.prototype.hideWidget=function(){p&&p.viewHandler&&p.viewHandler.hideWidget()},Xe.prototype.registerWithConsent=function(){this.maximize=!0,$.storeSessionInformation(!1,"cf"),a.register()},e.languageUpdater=function(){if(p&&p.main&&p.main.waitingForLanguage){p.main.setupDone(!0);try{p.eventEmitter.emit("localeChanged"),A.updateFonts()}catch(e){n.handleError("Unable to emit locale changed",e.fileName,e.lineNumber,e.stack)}}};var $e=function(e,t){this.language=e,this.notFoundCallback="function"==typeof t?t:function(){}};if($e.prototype.translate=function(e,t,i,n){var a,o;a=[];var r=this.language||n;if(!r[e])return this.notFoundCallback(Error("Missing context : {"+e+"}, {"+t+"}")),t;if(!(n=r[e][t]))return this.notFoundCallback(Error("Missing key : {"+e+"}, {"+t+"}")),t;if(t=n.pluralVars?n.pluralVars.length:0,o=n.vars?n.vars.length:0,0<t){for(e=0;e<t;e++)a.push(r.pluralFormFunction(i[n.pluralVars[e]]));for(a=n.message[a.join("_")],e=0;e<t;e++)a=a.replace(RegExp("#"+n.pluralVars[e],"g"),this.escapeStringReplacePlacement(i[n.pluralVars[e]]))}else a=n.message;if(0<o)for(e=0;e<o;e++)a=a.replace(RegExp("#"+n.vars[e],"g"),this.escapeStringReplacePlacement(i[n.vars[e]]));return a},$e.prototype.escapeStringReplacePlacement=function(e){return"string"==typeof e?e.replace(/\$/g,"$$$"):e},$e.prototype.hasTranslation=function(e,t,i){return!!((i=i||this.language)&&i[e]&&i[e][t])},"undefined"!=typeof module&&(module.exports=$e),p.eventEmitter=new EventEmitter,p.eventEmitter.on("error",function(e){n.handleError("EventEmitter on error",e.fileName,e.lineNumber,e.stack)}),p.loggingHandler=new U,p.eventHandler=new j,p.activityManager=new Oe,p.scheduler=new De,p.main=new Xe,p.languageParser=new $e(e.language),p.socketManager=new Ye,p.sessionHandler=new je,p.chatHandler=new qe,p.agents=new Ge,p.visitorHandler=new Ve,p.audioPlayer=new Z,a=new We,p.fileUploadHandler=new J,void 0!==e.downloaded)p.eventHandler.clearEvents(),p.eventEmitter.removeAllListeners(),p=null;else{if(e.downloaded=!0,void 0!==l.Prototype&&"string"==typeof l.Prototype.Version&&1.7>parseFloat(l.Prototype.Version.substr(0,3),10)&&void 0!==Array.prototype.toJSON){var Ke=JSON.stringify;JSON.stringify=function(e){var t=Array.prototype.toJSON;return delete Array.prototype.toJSON,e=Ke(e),Array.prototype.toJSON=t,e}}p.main.load()}}catch(e){if(!n)throw Error("tawk : "+e.message);n.handleError(e.message,"tawk.js",e.lineNumber||e.line,e.stack)}}.call(this,window.$_Tawk)}(window);
